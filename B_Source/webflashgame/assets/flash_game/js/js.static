(function(a){if(!a.console||(a.console&&!a.console.log)){a.console={log:(a.opera&&a.opera.postError)?a.opera.postError:function(){}}}})(this);(function(a){this.GT=this.GT||{cufonEnabled:false,initCufonCheck:function(){return GT.cufonEnabled=(USE_CUFON&&("function"==typeof Cufon))?true:false}}})(document.id);var AutoSwiff=new Class({Extends:Swiff,initialize:function(d,c){this.setOptions(c);var a=$(this.options.container);if(Browser.Plugins.Flash.version>0){a.addClass("swfLoaded");if(this.versionCheck()){this.parent(d,c)}}else{a.addClass("swfFailed");a.setStyles({background:"rgba(0,0,0,0.5)",position:"relative"});
a.set("html",'<div><h3>Adobe Flashplayer not found!</h3><div>			<p>Please download Adobe Flashplayer:</p>			<ul><li><a href="http://get.adobe.com/flashplayer/" target="_blank">http://get.adobe.com/flashplayer/</a></li></ul>			</div></div>');var b=a.getElement("div");containerSize=a.getSize();b.setStyle("position","absolute");
msgContainerSize=b.getSize();b.setStyles({top:((containerSize.y/2)-(msgContainerSize.y/2)),left:((containerSize.x/2)-(msgContainerSize.x/2))})}},versionCheck:function(){var a=this.options.vars.version;if(Browser.Plugins.Flash.version<a){var b=this;new Swiff(b.options.vars.expressinstall,{container:b.options.container,width:b.options.width,height:b.options.height,params:{},vars:{}});
return false}else{return true}}});(function(a){this.GT=this.GT||{};this.GT.HoverIntent=this.GT.HoverIntent||new Class({Implements:[Options],options:{element:null,mouseMove:$empty,mouseLeave:$empty,mouseEnter:$empty,hoverIntent:$empty,sensitivity:10,delay:100},initialize:function(b){this.setOptions(b);this.element=this.options.element;
this.prevMouse={x:0,y:0};this.mouse={x:0,y:0};this.timer=null;if(this.element){this.mouseMove=function(c){this.mouse.x=c.page.x;this.mouse.y=c.page.y;this.options.mouseMove.run([this.element],this)}.bindWithEvent(this);this.mouseEnter=function(c){if(this.timer){$clear(this.timer)}this.element.addEvent("mousemove",this.mouseMove);
this.timer=this.compare.delay(this.options.delay,this);this.options.mouseEnter.run([this.element],this)}.bindWithEvent(this);this.mouseLeave=function(c){$clear(this.timer);this.element.removeEvent("mousemove",this.mouseMove);this.options.mouseLeave.run([this.element],this)}.bindWithEvent(this);this.hoverIntent=function(){this.options.hoverIntent.run([this.element],this)
}.bind(this);this.element.addEvents({mouseenter:this.mouseEnter,mouseleave:this.mouseLeave,hoverintent:this.hoverIntent})}},compare:function(){if((Math.abs(this.prevMouse.x-this.mouse.x)+Math.abs(this.prevMouse.y-this.mouse.y))<=this.options.sensitivity){this.element.fireEvent("hoverintent")}else{this.timer=this.compare.delay(this.options.delay,this)
}this.prevMouse.x=this.mouse.x;this.prevMouse.y=this.mouse.y},abort:function(){$clear(this.timer)},remove:function(b){if(b){this.element.fireEvent("mouseleave")}this.element.removeEvent("mousemove",this.mouseMove);this.element.removeEvent("mouseenter",this.mouseEnter);this.element.removeEvent("mouseleave",this.mouseLeave);
this.element.removeEvent("hoverintent",this.hoverIntent)},toElement:function(){return this.element}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.Step=this.GT.Step||new Class({Implements:[Options,Events],options:{texts:{prevLink:"Previous Page",nextLink:"Next Page",page:"Page #"},movingContainerSelector:"div.container ul",tweenDuration:"normal",tweenTransition:"cubic:in:out",cssClassPaging:"paging",cssClassShowAll:"showAll",cssClassActive:"active",cssClassInactive:"inactive",cssClassPrev:"prev",cssClassNext:"next"},initialize:function(b,c){c.texts.prevLink=(c.texts.prevLink)?c.texts.prevLink:this.options.texts.prevLink;
c.texts.nextLink=(c.texts.nextLink)?c.texts.nextLink:this.options.texts.nextLink;c.texts.page=(c.texts.page)?c.texts.page:this.options.texts.page;this.setOptions(c);this.contBox=b;this.contBox.store("pager",this);this.pageContainer=this.contBox.getElement(this.options.movingContainerSelector);this.currentStep=1;
if(this.contBox&&this.pageContainer){var d="";if(document.getElement(".rtl")){d="margin-right"}else{d="margin-left"}this.tween=new Fx.Tween(this.pageContainer,{link:"cancel",fps:20,duration:this.options.tweenDuration,transition:this.options.tweenTransition,property:d});if(document.getElement(".rtl")){this.pageContainerMargins=this.pageContainer.getStyle("margin-right").toInt()+this.pageContainer.getStyle("margin-left").toInt()
}else{this.pageContainerMargins=this.pageContainer.getStyle("margin-left").toInt()+this.pageContainer.getStyle("margin-right").toInt()}this.prepareNavigation()}},showPrev:function(){this.show(this.currentStep-1)},showNext:function(){this.show(this.currentStep+1)},show:function(b){b=b||1;var c=(b.toInt()).limit(1,this.pages);
if(!$type(c)){c=1}if(this.currentStep===c){return}this.currentStep=c;this.tween.cancel();this.tween.start((-((c-1)*this.pageWidth)+this.pageContainerMargins));if(1===c){this.prevLinkContainer.addClass(this.options.cssClassInactive)}else{this.prevLinkContainer.removeClass(this.options.cssClassInactive)
}if(this.pages===c){this.nextLinkContainer.addClass(this.options.cssClassInactive)}else{this.nextLinkContainer.removeClass(this.options.cssClassInactive)}this.stepLinks.each(function(d,e){if(e===(c-1)){d.getParent().addClass(this.options.cssClassActive)}else{d.getParent().removeClass(this.options.cssClassActive)
}},this)},prepareNavigation:function(){this.stepLinks=[];this.pageWidth=this.pageContainer.getParent().getSize().x;this.totalWidth=this.pageContainer.getSize().x;this.pages=Math.ceil(this.totalWidth/this.pageWidth);this.pageNav=new Element("ul",{"class":this.options.cssClassPaging});if(this.pages>1){this.preparePrevLink();
this.prepareStepNav();this.prepareNextLink();this.prepareShowAll();this.contBox.grab(this.pageNav);new GT.Tips(this.contBox.getElements("a[data-gtt]"))}else{this.prepareShowAll()}},preparePrevLink:function(b){var c;this.prevLinkContainer=new Element("li",{"class":[this.options.cssClassPrev,this.options.cssClassInactive].join(" ")});
c=new Element("a",{href:"#",text:this.options.texts.prevLink,"data-gtt":this.options.texts.prevLink,events:{click:function(d){d.preventDefault();this.showPrev()}.bind(this)}});this.prevLinkContainer.grab(c);this.pageNav.grab(this.prevLinkContainer)},prepareStepNav:function(){var b=new Element("ol");this.pages.times(function(f){var d,c,e;
f++;e=this.options.texts.page.replace(/#/,f);if(1===f){d=new Element("li",{"class":this.options.cssClassActive})}else{d=new Element("li")}c=new Element("a",{href:"#",text:e,"data-gtt":e,events:{click:function(g,h){g.preventDefault();this.show(h)}.bindWithEvent(this,f)}});this.stepLinks[(f-1)]=c;b.grab(d.grab(c))
},this);this.pageNav.grab(b)},prepareNextLink:function(){var b;this.nextLinkContainer=new Element("li",{"class":this.options.cssClassNext});b=new Element("a",{href:"#",text:this.options.texts.nextLink,"data-gtt":this.options.texts.nextLink,events:{click:function(c){c.preventDefault();this.showNext()}.bind(this)}});
this.nextLinkContainer.grab(b);this.pageNav.grab(this.nextLinkContainer)},prepareShowAll:function(){var c,b;b=this.contBox.getElement("span."+this.options.cssClassShowAll);if(b){c=new Element("li",{"class":this.options.cssClassShowAll});c.grab(b.getChildren()[0].clone());b.destroy();this.pageNav.grab(c)
}},addMouseWheel:function(){this.pageContainer.addEvent("mousewheel",function(b){b.preventDefault();if(b.wheel>0){this.showNext()}else{if(b.wheel<0){this.showPrev()}}}.bindWithEvent(this))},toElement:function(){return this.contBox}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.Steps=this.GT.Steps||new Class({Implements:[Options],options:{texts:{prevLink:"Previous Page",nextLink:"Next Page",page:"Page #"},movingContainerSelector:"div.container ul",tweenDuration:"normal",tweenTransition:"cubic:in:out",cssClassPaging:"paging",cssClassShowAll:"showAll",cssClassActive:"active",cssClassInactive:"inactive",cssClassPrev:"prev",cssClassNext:"next"},initialize:function(b,c){if(c&&c.texts){c.texts.prevLink=(c.texts.prevLink)?c.texts.prevLink:this.options.texts.prevLink;
c.texts.nextLink=(c.texts.nextLink)?c.texts.nextLink:this.options.texts.nextLink;c.texts.page=(c.texts.page)?c.texts.page:this.options.texts.page}this.setOptions(c);this.contBoxes=$$(b);this.contBoxes.each(function(d){new GT.Step(d,this.options)},this)},toElement:function(){return null}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.Address=this.GT.Address||new Class({Implements:[Options,Events],options:{relIdentifier:"ax:",activeClassName:"active",evalScripts:true,useSpinner:true,spinnerOptions:{"class":"ajax-address-spinner"}},initialize:function(c,b){this.setOptions(b);this.targetContainer=$$(c)[0];
this.sourceLinks=$$("a[rel^="+this.options.relIdentifier+"]");if(this.targetContainer&&this.sourceLinks.length){this.currentHash="";this.parentHash="";this.matchedUrl="";this.interceptLinks=false;this.request=new GT.Request.HTML({evalScripts:this.options.evalScripts,update:this.targetContainer,data:"ax=1",useSpinner:this.options.useSpinner,spinnerOptions:this.options.spinnerOptions,spinnerTarget:this.options.spinnerTarget||this.targetContainer,onComplete:function(){this.fireEvent("requestComplete")
}.bind(this),onSuccess:function(i,f,g,h){this.fireEvent("requestSuccess",[i,f,g,h]);try{}catch(d){}}.bind(this),onFailure:function(d){this.fireEvent("requestFailure",d)}.bind(this)});this.currentLocation=[location.pathname,location.search].join("");this.prepareLinks();this.prepareContentContainer();this.addEvent("change",this.change);
this.intervalID=this.interval.periodical(300,this)}},interval:function(){var b=this.getHash();if(this.currentHash!=b){this.currentHash=b;this.fireEvent("change")}},prepareLinks:function(){this.sourceLinks.addEvent("click",function(c){var b=a(c.target),d=(b.get("tag")==="a")?b:b.getParent("a");this.fireEvent("linkClick",c);
if(d){c.preventDefault();location.hash=d.get("rel").replace(new RegExp("^"+this.options.relIdentifier,"g"),"")}}.bindWithEvent(this))},prepareContentContainer:function(){this.targetContainer.addEvent("click",function(c){var b=a(c.target),f=(b.get("tag")==="a")?b:b.getParent("a"),d=(b.get("tag")===("button")||b.getParent("button")||(b.get("tag")==="input"&&b.getAttribute("type")==="submit"))?b.getParent("form"):null;
if(f){var e=true;if(f.hasClass("room")){e=false;c.preventDefault();GT.gameWindow(f.href)}if(f.hasClass("profile")){e=false}if(this.interceptLinks&&e){c.preventDefault();location.hash=this.parentHash+f.get("href").replace(new RegExp("^"+location.protocol+"//"+location.hostname,"g"),"")}}else{if(d){d.submit()
}}}.bindWithEvent(this));this.targetContainer.addEvent("submit",function(c){c.preventDefault();var b=a(c.target)}.bindWithEvent(this))},change:function(){var c=this.currentHash;if(c){var b=null;var d="";this.sourceLinks.each(function(e){var h=new RegExp("^"+this.options.relIdentifier+"(.+)$","g").exec(e.get("rel"));
var f=e;var g=e.getParent("li");e=g?g:e;if(h.length){if(h[1]===c){d=f.get("href");if((this.currentLocation!=d)||(this.parentHash&&(this.parentHash!=h[1]))){b=e}this.parentHash=h[1]}else{if(c.test(h[1])){this.parentHash=h[1];b=e;d=c.replace(new RegExp("^"+h[1],"g"),"")}}}},this);if(b){this.sourceLinks.getParent("li").removeClass(this.options.activeClassName);
b.addClass(this.options.activeClassName);this.interceptLinks=(b.hasClass("interceptLinks"))?true:false;if(window.USE_CUFON&&("function"==typeof Cufon)){Cufon.refresh()}this.matchedUrl=d;if(d.substr(0,1)==="#"){this.loadInlineContent(d.substr(1,(d.length-1)))}else{this.request.setOptions({url:d});this.request.get()
}}}},loadInlineContent:function(c){var b=a(c);if(b){this.targetContainer.set("html",b.get("html"));this.fireEvent("requestComplete")}else{this.fireEvent("requestFailure",{})}},getHash:function(){var b=location.href.indexOf("#");return(b!=-1)?encodeURI(decodeURI(location.href.substr(b+1))):""}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.console=this.GT.console||{log:function(){if("object"==typeof console){console.log.run(arguments)}}}})(document.id);(function(a){this.GT=this.GT||{};this.GT.Countdown=this.GT.Countdown||new Class({Implements:[Options,Events],options:{elementsSelector:".to1.tournBox_0_1_1",countdownTextElementSelectors:[],cufonCountdownSelectors:[],cufonCountdownCompletedSelectors:[]},initialize:function(b){this.setOptions(b);this.countdowns=$$(this.options.elementsSelector);
if(this.countdowns.length){this.startPeriodical=this.count.periodical(1000,this)}},count:function(){for(var c=0,d=this.countdowns.length;c<d;++c){var b=this.countdowns[c],g=b.getElement(this.options.countdownTextElementSelectors[0]),f,e;if(g){f=g.get("text")||"00:00:00";e=(this.stringToTime(f)-1);this.fireEvent("singleTick",[b,e]);
this.singleTick(b,e);if(e<=0){this.fireEvent("singleCompleted",b);this.singleCompleted(b);if(this.countdowns.indexOf(b)<=c){--c}this.countdowns.erase(b);d=this.countdowns.length;if(!d){this.fireEvent("allCompleted");this.allCompleted()}}}}this.fireEvent("allTick");this.allTick()},singleTick:function(b,c){var d=this.timeToString(c);
this.options.countdownTextElementSelectors.each(function(f){var e=b.getElement(f);if(e){e.set("text",d)}})},allTick:function(){if(window.USE_CUFON&&("function"==typeof Cufon)){this.options.cufonCountdownSelectors.each(function(b){Cufon.refresh(b)})}},singleCompleted:function(b){if(window.USE_CUFON&&("function"==typeof Cufon)){this.options.cufonCountdownCompletedSelectors.each(function(c){Cufon.refresh(c)
})}},allCompleted:function(){$clear(this.startPeriodical)},stringToTime:function(e){var b,c,d,f=e.split(":");b=parseFloat(f[0]*3600);c=parseFloat(f[1]*60);d=parseFloat(f[2]);return b+c+d},timeToString:function(e){var b,c,d;b=this.addZero(Math.floor(e/3600));c=this.addZero(Math.floor((e/60)%60));d=this.addZero(Math.floor(e%60));
return[b,c,d].join(":")},addZero:function(b){if(b<10){b=["0",b].join("")}return b}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.Overlay=this.GT.Overlay||new Class({Implements:[Options,Events],options:{templateUrl:DOTNETAPPFOLDER+"/Display?page=overlay_templates_ax&type=so2",topPlayersUrl:"/games_details.asp",requestTopPlayers:true,offset:{x:0,y:0},offset2:{x:0,y:0},changeDirectionAtPositionX:465,delayShow:600,delayHide:40000,durationShow:200,durationHide:100,source:{gtt:function(b){return b.elem.getElement("h4").get("text")
},description:function(b){return b.elem.getElements(".so1_container > p").getLast().get("text")},players:function(b){var c=b.elem.getElement("dl > dd");return(c?c.get("text"):0)},gameImage:function(b){if(b==null){return[XSLFOLDER,"/imgs/blank.gif"].join("")}else{return[CDNSERVER,"/xsl_gamebase/assets/game_",b.gameId,"/gameshot_113x70/game_",b.gameId,"_gameshot_113x70.jpg"].join("")
}},rating:function(b){var c=/(rating[0-9])+/.exec(b.elem.get("class"));return(c?(c.length?c[1]:""):"")},tournDate:function(b){var c=b.elem.getElements(".so1Tourn > dl > dd");return(c.length?c[0].get("text"):"")},tournPrize:function(b){var c=b.elem.getElements(".so1Tourn > dl > dd");return(c.length?c[1].get("html"):"")
},tournLink:function(b){var c=b.elem.getElement(".so1Tourn li a");return c?c.get("href"):"#"},btnPlay:function(b){return/^(.*\D)(?:\d+)?$/.exec(a("so2nav").getElement("li.btnPlay a").getProperty("href"))[1]+b.gameId},btnHelp:function(b){return/^(.*\D)(?:\d+)?$/.exec(a("so2nav").getElement("li.btnHelp a").getProperty("href"))[1]+b.gameId
},btnInfo:function(b){return/^(.*\D)(?:\d+)?$/.exec(a("so2nav").getElement("li.btnInfo a").getProperty("href"))[1]+b.gameId},btnStats:function(b){return/^(.*\D)(?:\d+)?$/.exec(a("so2nav").getElement("li.btnStats a").getProperty("href"))[1]+b.gameId},btnMobile:function(b){return/^(.*\D)(?:\d+)?$/.exec(a("so2nav").getElement("li.btnMobile a").getProperty("href"))[1]+b.gameId
}},sourceSelectors:{container:".so1_container",btnPlay:".so1_container a"},targetSelectors:{gtt:["text","#so2overlayTop h3 span"],description:["text","#so2overlayTop div.gameDesc p"],players:["text","#so2overlayTop dl dd"],gameImage:["src","#so2overlayTop .gameShot img"],rating:["class","#so2rating"],tournDate:["text","#so2overlayBottom .tournDate"],tournPrize:["html","#so2overlayBottom .tournPrize"],tournLink:["href","#so2overlayBottom .formLink"],btnPlay:["href","#so2nav li.btnPlay a"],btnHelp:["href","#so2nav li.btnHelp a"],btnInfo:["href","#so2nav li.btnInfo a"],btnStats:["href","#so2nav li.btnStats a"],btnMobile:["href","#so2nav li.btnMobile a"]},cufon:{h3:"#so2overlay h3",button:"#so2overlay button"}},initialize:function(c,b){this.setOptions(b);
this.currentlyHoveredElement;this.currentlyActiveElement;this.timerShow;this.timerHide;this.gameSelector=$$(c);if(this.gameSelector.length&&this.options.templateUrl){this.requestTemplates();this.prepareGameElements()}},prepareGameElements:function(){this.gameSelector.each(function(c){var b=c.getElement(this.options.sourceSelectors.container);
if(!b||c.hasClass("noOverlay")){return}var d=new GT.HoverIntent({element:b,sensitivity:1,delay:200,mouseEnter:function(){if(this.getTemplate()){this.currentlyHoveredElement=c;this.timerShow=$clear(this.timerShow)}else{this.firstHoveredElem=c}}.bind(this),mouseLeave:function(){this.firstHoveredElem=null;
if(this.getTemplate()){this.timerHide=$clear(this.timerHide);this.timerShow=$clear(this.timerShow);this.timerHide=this.hide.delay(this.options.delayHide,this)}}.bind(this),hoverIntent:function(){if(this.getTemplate()){if(this.timerHide){this.timerHide=$clear(this.timerHide);if(this.currentlyActiveElement!=this.currentlyHoveredElement){this.hideAndShow()
}}else{this.currentlyActiveElement=null;this.show()}}}.bind(this)});b.store("hoverIntent",d)},this)},init:function(){var b=new Element("div",{html:this.getTemplate()});this.overlayContainer=b.getChildren()[0];this.overlayContainer.setStyles({opacity:0,top:-500,left:50});this.overlayContainer.getElement(".btnClose a").addEvent("click",function(c){c.preventDefault();
this.hide()}.bindWithEvent(this));new GT.Tips(this.overlayContainer.getElements("a[data-gtt]"));a(document.body).grab(this.overlayContainer);this.elementBuffer={};$H(this.options.targetSelectors).each(function(d,c){this.elementBuffer[c]=this.overlayContainer.getElement(d[1])},this);if(this.elementBuffer.btnPlay){this.elementBuffer.btnPlay.addEvent("click",function(c){c.preventDefault();
GT.gameWindow(this.href)})}if(this.options.requestTopPlayers){this.topPlayersRequest=new GT.Request.HTML({url:this.options.topPlayersUrl,link:"cancel",useSpinner:true,spinnerTarget:"topGame",onSuccess:function(f,c,d,e){this.writeTopPlayers(d)}.bind(this)})}this.prepareTweens();this.overlayContainer.addEvents({mouseenter:function(c){this.timerHide=$clear(this.timerHide);
this.timerShow=$clear(this.timerShow);if(this.currentlyActiveElement){this.currentlyActiveElement.getElement(this.options.sourceSelectors.btnPlay).addClass("hover")}}.bindWithEvent(this),mouseleave:function(c){this.timerHide=$clear(this.timerHide);this.timerShow=$clear(this.timerShow);if(this.currentlyActiveElement){this.currentlyActiveElement.getElement(this.options.sourceSelectors.btnPlay).removeClass("hover")
}this.timerHide=this.hide.delay(this.options.delayHide,this)}.bindWithEvent(this)})},prepareTweens:function(){this.tweenShow=new Fx.Tween(this.overlayContainer,{link:"cancel",duration:this.options.durationShow,transition:"cubic:out",onComplete:function(){var e=0,d=a("nav"),b=d.hasClass("sticky");if(b){e=50
}if((this.currentlyHoveredElement.getPosition(BODY).y-this.overlayContainer.getSize().y-e)<window.getScroll().y){var c=new Fx.Scroll(window).start(0,this.overlayContainer.getPosition().y-e)}}.bind(this),onStart:function(){if(this.TweenHide){this.TweenHide.cancel()}if(this.tweenHideAndShow){this.tweenHideAndShow.cancel()
}}.bind(this)});this.tweenHide=new Fx.Tween(this.overlayContainer,{link:"cancel",duration:this.options.durationHide,transition:"cubic:out",onComplete:function(){this.timerHide=$clear(this.timerHide);this.overlayContainer.setStyles({top:-500,left:50})}.bind(this),onStart:function(){if(this.tweenShow){this.tweenShow.cancel()
}if(this.tweenHideAndShow){this.tweenHideAndShow.cancel()}}.bind(this)});this.tweenHideAndShow=new Fx.Tween(this.overlayContainer,{link:"cancel",duration:this.options.durationHide,transition:"cubic:out",onComplete:function(){this.show()}.bind(this),onStart:function(){if(this.tweenShow){this.tweenShow.cancel()
}if(this.TweenHide){this.TweenHide.cancel()}}.bind(this)})},show:function(){this.currentlyActiveElement=this.currentlyHoveredElement;this.replaceWildcards();this.setPosition();if(IE){this.tweenShow.set("opacity",1);this.tweenShow.start("opacity",1)}else{this.tweenShow.start("opacity",1)}},hide:function(){if(0!==this.overlayContainer.getStyle("opacity")){if(this.currentlyActiveElement){this.currentlyActiveElement.getElement(this.options.sourceSelectors.btnPlay).removeClass("hover");
this.currentlyActiveElement=null}if(IE){this.tweenHide.set("opacity",0);this.tweenHide.start("opacity",0)}else{this.tweenHide.start("opacity",0)}}$H(this.options.targetSelectors).each(function(c,b){if(this.elementBuffer[b]&&b=="gameImage"){this.elementBuffer[b].set(c[0],this.options.source[b](null))}},this)
},hideAndShow:function(){if(this.currentlyActiveElement){this.currentlyActiveElement.getElement(this.options.sourceSelectors.btnPlay).removeClass("hover");this.currentlyActiveElement=null}if(IE){this.tweenHideAndShow.set("opacity",0);this.tweenHideAndShow.start("opacity",0)}else{this.tweenHideAndShow.start("opacity",0)
}},replaceWildcards:function(){var c=this.currentlyActiveElement,b=[],d=/gameId_([0-9_]+)/.exec(c.get("class")),e=/(status([a-zA-Z])+)/.exec(c.get("class")),f;d=d.length?d[1]:1;f={gameId:d,elem:c};if(c.hasClass("friendsOnline")){b.push("friendsOnline")}if(e){b.push(e[1])}$H(this.options.targetSelectors).each(function(i,h){if(this.elementBuffer[h]){this.elementBuffer[h].set(i[0],this.options.source[h](f))
}},this);this.overlayContainer.set("class",b.join(" "));if(window.USE_CUFON&&("function"==typeof Cufon)){if(this.cufonTitleStarted){Cufon.refresh(this.options.cufon.h3)}else{this.cufonTitleStarted=true;Cufon.replace(this.options.cufon.h3).replace(this.options.cufon.button)}Cufon.refresh("#overlayJackpot")
}if(this.topPlayersRequest){this.topPlayersRequest.cancel()}var g=this.overlayContainer.getElement("#topGame");if(g){g.empty()}if(!c.hasClass("external")){this.renderSidebar(d)}},setPosition:function(){var c=this.currentlyActiveElement,b=c.getElement(this.options.sourceSelectors.container),f=b.getPosition(),g=b.getPosition("main"),d,e=this.overlayContainer.getElement(".overlayPointer").getSize();
if(g.x>this.options.changeDirectionAtPositionX){if(this.overlayContainer.hasClass("statusTourn")){this.overlayContainer.addClass("type4")}else{this.overlayContainer.addClass("type2")}d=this.overlayContainer.getSize();this.positionTop=(f.y-d.y);this.overlayContainer.setStyles({top:this.positionTop+this.options.offset2.y,left:f.x-d.x+b.getSize().x+this.options.offset2.x})
}else{if(this.overlayContainer.hasClass("statusTourn")){this.overlayContainer.addClass("type3")}else{this.overlayContainer.addClass("type1")}d=this.overlayContainer.getSize();this.positionTop=(f.y-d.y);this.overlayContainer.setStyles({top:this.positionTop+this.options.offset.y,left:f.x+this.options.offset.x})
}},requestTemplates:function(){if(this.options.templateUrl){if(a("so2TemplateContainer")&&this.options.templateUrl.indexOf("type=so2")!=-1){this.overlayTemplate=a("so2TemplateContainer").get("html");a("so2TemplateContainer").dispose();this.init();if(this.firstHoveredElem){this.firstHoveredElem.getElement(this.options.sourceSelectors.container).fireEvent("mouseenter")
}}else{if(a("to2TemplateContainer")&&this.options.templateUrl.indexOf("type=to2")!=-1){this.overlayTemplate=a("to2TemplateContainer").get("html");a("to2TemplateContainer").dispose();this.init();if(this.firstHoveredElem){this.firstHoveredElem.getElement(this.options.sourceSelectors.container).fireEvent("mouseenter")
}}else{var b=new GT.Request.HTML({url:this.options.templateUrl,onSuccess:function(f,c,d,e){this.overlayTemplate=d;this.init();if(this.firstHoveredElem){this.firstHoveredElem.getElement(this.options.sourceSelectors.container).fireEvent("mouseenter")}}.bind(this)});b.get()}}}},renderSidebar:function(b){if(this.topPlayersRequest){}},writeTopPlayers:function(c){var e=this.overlayContainer.getElement("#topGame");
if(e){e.set("html",c);var d=this.topPlayersRequest.getSpinner();d.clearChain();d.hide();if(window.USE_CUFON&&("function"==typeof Cufon)){if(this.cufonTop3TitleStarted){Cufon.refresh("#topGame h5")}else{this.cufonTop3TitleStarted=true;Cufon.replace("#topGame h5")}}new GT.Tips(e.getElements("a[data-gtt]"));
if(!IE6){var b=e.getElement(".contBox");if(b){b.setStyle("opacity",0).tween("opacity",1)}}}},getTemplate:function(){return this.overlayTemplate},toElement:function(){return this.overlayContainer}})})(document.id);(function(a){this.GT.Overlay.Tournament=new Class({Extends:GT.Overlay,Implements:[Options,Events],options:{requestTopPlayers:false,source:{title:function(b){return b.elem.getElement("h4").get("text")},description:function(b){return b.elem.getElements(".to1_container .desc").get("html")},players:function(b){var c=b.elem.getElement("dl > dd");
return(c?c.get("text"):0)},jackpot:function(b){return b.elem.getElement(".jackpot").get("html")},gameImage:function(b){if(b==null){return[XSLFOLDER,"/imgs/blank.gif"].join("")}else{return[CDNSERVER,"/xsl_gamebase/assets/game_",b.gameId,"/gameshot_113x70/game_",b.gameId,"_gameshot_113x70.jpg"].join("")
}},btnRegister:function(b){return b.elem.getElement(".to1_container a").get("href")},btnHelp:function(b){return[b.elem.getElement("h4 a").get("href"),"#/rules"].join("")},btnInfo:function(b){return b.elem.getElement("h4 a").get("href")},btnStats:function(b){return[b.elem.getElement("h4 a").get("href"),"#/ranking"].join("")
}},sourceSelectors:{container:".to1_container",btnPlay:".to1_container a"},targetSelectors:{title:["text","#to2overlayTop h3 span"],description:["html","#to2overlayTop div.gameDesc p"],players:["text","#to2overlayTop dl dd"],jackpot:["html","#overlayJackpot"],gameImage:["src","#to2overlayTop .gameShot img"],btnRegister:["href","#to2nav li.btnPlay a"],btnHelp:["href","#to2nav li.btnHelp a"],btnInfo:["href","#to2nav li.btnInfo a"],btnStats:["href","#to2nav li.btnStats a"]},cufon:{h3:"#to2overlay h3",button:"#to2overlay button"}},initialize:function(c,b){this.parent(c,b)
}})})(document.id);(function(a){var b=null;this.GT=this.GT||{};this.GT.PasswordStrength=this.GT.PasswordStrength||new Class({Implements:[Options,Events],options:{context:"",passField:[],nickField:[],validationResponse:{},fieldStates:{mandatory:"mandatory",additional:"additional"},popOverMsgs:{length:"at least 8 characters",number:"at least one number or special character",nick:"nick may not be part of the password"},activateToolTip:true},pass:"",nick:"",results:{},uni_char_up:"\u0041-\u005a\u0430-\u044f\u040a-\u0429\u10d0-\u10f0\u0391-\u03a9\u0386\u0388-\u038a\u038c\u038e-\u03ab\u0600-\u0603\u060b\u060e\u060f\u0621-\u063a\u0641-\u064a\u066e-\u0673\u0675-\u067f\u0680-\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06ff",uni_char_low:"\u0061-\u007a\u0410-\u042f\u042a-\u044f\u10d0-\u10f0\u03b1-\u03c9\u03ac-\u03b0\u03ca-\u03ce\u0600-\u0603\u060b\u060e\u060f\u0621-\u063a\u0641-\u064a\u066e-\u0673\u0675-\u067f\u0680-\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06ff",uni_num:"\u0030-\u0039\u06f0-\u06f9\u0660-\u0669",uni_spec:"\u003a-\u0040\u0021-\u002f\u042b\u042d\u044b\u044d\u045d\u037e\u0384\u0385\u0604-\u060a\u060c\u060d\u0610-\u0620\u063b-\u063f\u065f\u066a-\u066d\u0674\u0670",initialize:function(c){if(b){return b
}this.setOptions(c);if(!GT.FormTips&&this.options.activateToolTip===true){return}if(!a(this.options.passField)){return}b=this;if(this.options.activateToolTip===true){GTFormTipPassword=new GT.FormTips($$(this.options.passField),{formTipsOnTop:this.options.formTipsOnTop});GTFormTipPassword.tips.pass=this.popOverHtml()
}if($$(this.options.context).length>0){this.prepareVisualFeedback();var e=function(f){this.validateForm();this.visualizeResult()}.bind(this);var d=function(f){this.validateForm();this.visualizeResult()}.bind(this);a(this.options.passField).addEvents({keyup:e,click:d})}},popOverHtml:function(){var c="";
c='<ul>						<li id="pass_sec_length">							<span>'+this.options.popOverMsgs.length+'</span>						</li>						<li id="pass_sec_numberORspecial">							<span>'+this.options.popOverMsgs.number+'</span>						</li>						<li id="pass_sec_username">							<span>'+this.options.popOverMsgs.nick+"</span>						</li>					</ul>";
return c},validateForm:function(){this.pass=a(this.options.passField).get("value");this.checkIfNick();this.checkLength(this.options.fieldStates.mandatory);this.checkNumberOrSpecial(this.options.fieldStates.mandatory);this.checkUserName(this.options.fieldStates.mandatory);this.checkMixedCases(this.options.fieldStates.additional);
this.checkNumberAndSpecial(this.options.fieldStates.additional)},visualizeResult:function(){if(this.options.activateToolTip===true){this.showResultInToolTip()}this.showVisualFeedbackBar();this.fireEvent("visualFeedbackDisplayed",this)},checkLength:function(c){var d=this.options.validationResponse.length;
var e=/.{8,}/;var f=this.pass.match(e)?this.pass.match(e):false;this.writeIntoResults(d,f,c)},checkNumberOrSpecial:function(c){var d=this.options.validationResponse.numberORspecial;var e=new RegExp("["+this.uni_num+"].*["+this.uni_char_low+this.uni_char_up+"]|["+this.uni_char_low+this.uni_char_up+"].*["+this.uni_num+"]|["+this.uni_spec+"].*["+this.uni_char_low+this.uni_char_up+"]|["+this.uni_char_low+this.uni_char_up+"].*["+this.uni_spec+"]","g");
var f=this.pass.match(e)?this.pass.match(e):false;this.writeIntoResults(d,f,c)},checkUserName:function(c){var d=this.options.validationResponse.userName;var e=(this.nick==="")?false:this.nick;var f=new RegExp(this.nick,"gi");var g=this.pass.match(f)?false:[this.pass];this.writeIntoResults(d,g,c)},checkMixedCases:function(c){var d=this.options.validationResponse.mixedCase;
var e=new RegExp("(((?=.*["+this.uni_char_low+"])(?=.*["+this.uni_char_up+"]))|((?=.*["+this.uni_char_up+"])(?=.*["+this.uni_char_low+"]))).*","g");var f=this.pass.match(e)?this.pass.match(e):false;this.writeIntoResults(d,f,c)},checkNumberAndSpecial:function(c){var d=this.options.validationResponse.numberANDspecial;
var e=new RegExp("["+this.uni_num+"].*["+this.uni_spec+"]|["+this.uni_spec+"].*["+this.uni_num+"]","g");var f=this.pass.match(e)?this.pass.match(e):false;this.writeIntoResults(d,f,c)},writeIntoResults:function(e,f,d){var c={};c[e]=f;if(!this.results[d]){this.results[d]=[]}Object.append(this.results[d],c)
},showResultInToolTip:function(){Object.each(this.results[this.options.fieldStates.mandatory],function(d,c){if(a(c)){if(d!==false){a(c).set("class","success")}else{a(c).set("class","error")}}})},prepareVisualFeedback:function(){var c=a(this.options.passField).getParent();var d=new Element("div",{id:"passwordVisualFeedback",html:'<div id="passwordVisualFeedbackBar"><div class="feedbackPointer"></div><div class="feedbackItem01"></div><div class="feedbackItem02"></div></div>'});
c.adopt(d)},showVisualFeedbackBar:function(){var e=a("passwordVisualFeedbackBar");var d=0;var c=0;Object.each(this.results[this.options.fieldStates.mandatory],function(g,f){if(g===false){d++}});Object.each(this.results[this.options.fieldStates.additional],function(g,f){if(g!==false){c++}});if(d===0){if(c===0){e.set("class","minimumSatisfaction")
}else{e.set("class","satisfaction"+c+"Up")}}else{e.set("class","notSatisfying")}},checkIfNick:function(){if(!a(this.options.nickField)&&(passwordUserNick==""&&passwordUserStatus!="loggedIn")){return}else{if(a(this.options.nickField)&&passwordUserStatus!="loggedIn"){this.nick=a(this.options.nickField).get("value")
}else{this.nick=passwordUserNick}}if(this.nick==""){this.nick=null}}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.GameSize=this.GT.GameSize||new Class({Implements:[Options],options:{windowResize:true,centerWindow:true,ignoreCookie:false,wrapperMargin:{x:0,y:0},bannerSize:0,gameFrame:false,wrapper:a("wrapper"),gameFrameId:"gameFrame",gameFrameTarget:"main",resizeMenu:a("windowSizes"),defaultSize:"sizeS",gameFrameAttributes:{scrolling:"no",frameborder:"0"},gameFrameSrc:"",ratio:"1.625"},initialize:function(b){this.setOptions(b);
this.windowObject=top;this.windowObjectDiff={};this.windowObjectSizes=["s","m","l"];this.scrollbarWidth=(IE)?0:17;this.gameSizeCookie=this.initGameSizeCookie();this.gameFrame=this.insertGameFrame();this.addResizeLinkEvent();this.initWindow();this.wrapperResize()},addResizeLinkEvent:function(){return this.options.resizeMenu.getElements("a").addEvent("click",function(b){this.options.resizeMenu.getElements("li").removeClass("active");
a(b.target).getParent("li").addClass("active");this.wrapperResize();this.writeGameSizeCookie("sSize",this.options.resizeMenu.getElement("li.active").get("id"))}.bindWithEvent(this))},initWindow:function(){var b;if(this.readGameSizeCookie("sSize")&&(a(this.options.resizeMenu).getElements("li").get("id").contains(this.readGameSizeCookie("sSize")))&&!this.options.ignoreCookie){b=a(this.readGameSizeCookie("sSize")).addClass("active")
}else{b=a(this.options.defaultSize).addClass("active")}return b},wrapperResize:function(){this.removeWrapperClass();this.options.wrapper.addClass(this.windowObjectSizes[this.options.resizeMenu.getElements("li").indexOf(this.options.resizeMenu.getElement("li.active"))]);if(this.options.windowResize){this.windowResize()
}return this.options.wrapper},windowResize:function(){var c=this.getWrapperSize();this.windowObjectDiff=(this.windowObjectDiff.x&&this.windowObjectDiff.x>0)?this.windowObjectDiff:this.getOuterInnerWindowDiff();var b={x:c.x+this.windowObjectDiff.x+this.options.wrapperMargin.x,y:c.y+this.windowObjectDiff.y+this.options.wrapperMargin.y};
if(Browser.Engine.webkit){this.windowObject.resizeTo(b.x+10,b.y)}if(IE&&$chk(top.unloadEvent)){top.unloadEvent.target.onbeforeunload=function(){return}}if(this.options.centerWindow){this.centerWindow(Math.min(screen.availWidth,b.x),Math.min(screen.availHeight,b.y))}this.windowObject.resizeTo(Math.min(screen.availWidth,b.x),Math.min(screen.availHeight,b.y));
if(IE&&$chk(top.unloadEvent)){(function(){top.unloadEvent.target.onbeforeunload=top.unloadEvent.handler}).delay(1000)}this.writeGameSizeCookie("winX",b.x);this.writeGameSizeCookie("winY",b.y);if(this.options.centerWindow){this.centerWindow(b.x,b.y)}return this.windowObject},getie6Styles:function(){var d=this.getGameFrameStyleSheet();
var c=(d)?d.rules:[];var e=[];var b=[];$A(c).each(function(f,g){e.push(f.style.width);b.push(f.style.height)});return{x:e,y:b}},setie6Styles:function(c,d){var b=this.options.resizeMenu.getElements("li").indexOf(this.options.resizeMenu.getElement("li.active"));$$("#wrapper","#footer").setStyle("width",c[b]);
a("gameFrame").setStyle("height",d[b]);a("header").setStyle("width",(c[b].toInt()+20)+"px");return true},getWrapperSize:function(){if(IE6){var b=this.getie6Styles();this.setie6Styles(b.x,b.y)}return{x:this.options.wrapper.getSize().x,y:this.options.wrapper.getSize().y}},getOuterInnerWindowDiff:function(){if(!IE){return{x:Math.max(0,this.windowObject.outerWidth-this.windowObject.innerWidth)+this.scrollbarWidth,y:Math.max(0,this.windowObject.outerHeight-this.windowObject.innerHeight)}
}else{this.windowObject.moveTo(0,0);this.windowObject.resizeTo(screen.availWidth,screen.availHeight);return{x:screen.availWidth-this.windowObject.document.body.clientWidth+this.scrollbarWidth,y:screen.availHeight-this.windowObject.document.documentElement.clientHeight}}},initGameSizeCookie:function(){return new Hash.Cookie("gameSize",{duration:3600,path:"/",domain:/(?:.*\.)?([^.]+\.[^.]+)/.exec(location.hostname)[1]})
},writeGameSizeCookie:function(b,c){return this.gameSizeCookie.set(b,c)},readGameSizeCookie:function(b){return this.gameSizeCookie.get(b)},addWrapperClass:function(b){return this.options.wrapper.addClass(b)},removeWrapperClass:function(){this.windowObjectSizes.each(function(b){this.options.wrapper.removeClass(b)
},this);return true},centerWindow:function(c,b){this.windowObject.moveTo(Math.max(0,screen.availWidth/2-c/2),Math.max(0,screen.availHeight/2-b/2));return this.windowObject},insertGameFrame:function(){return this.gameFrame||new IFrame({src:this.options.gameFrameSrc,id:this.options.gameFrameId,frameBorder:"no"}).inject("ajaxContainer","after").setProperties(this.options.gameFrameAttributes)
},getGameFrameStyleSheet:function(){return $A(this.windowObject.document.styleSheets).filter(function(c,b){if(c&&c.title){return c.title}}).getLast()},rewriteGameFrameStyles:function(c){b=this.getGameFrameStyleSheet();if(b){var b=$A(IE?b.rules:b.cssRules);$A(b).each(function(d){d.style.height=(d.style.width.toInt()/c).round()+"px"
})}return b},toElement:function(){return this.gameFrame}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.Request=this.GT.Request||{};this.GT.Request.HTML=this.GT.Request.HTML||new Class({Extends:Request.HTML,isSuccess:function(){var b=false;if((this.status>=200&&this.status<300)){b=/^(?:<(?:\!|\?)[^>]*>\s*)?<div success="true">/.test(this.xhr.responseText)}return b
},success:function(e){var b=this.options,c=this.response;c.html=e.stripScripts(function(f){c.javascript=f});c.html=c.html.replace(/^(?:<(?:\!|\?)[^>]*>\s*)?<div success="true">(\s)*/,"").replace(/(\s)*<\/div>$/,"");var d=new Element("div").set("html",c.html);c.tree=d.childNodes;c.elements=d.getElements("*");
if(b.filter){c.tree=c.elements.filter(b.filter)}if(b.update){document.id(b.update).empty().set("html",c.html)}else{if(b.append){document.id(b.append).adopt(d.getChildren())}}if(b.evalScripts){$exec(c.javascript)}this.onSuccess(c.tree,c.elements,c.html,c.javascript)}})})(document.id);(function(a){var b=null;this.GT=this.GT||{};this.GT.Tips=this.GT.Tips||new Class({Extends:Tips,Implements:Options,options:{text:"",title:function(c){return c.get("data-gtt")||(c.getParent("div.to1")?gameInfoTo1:(gameInfoSo1?gameInfoSo1:""))},className:"tooltip",showDelay:50,hideDelay:20,onShow:function(c){c.set("tween",{onStart:function(){this.set("display","block")
},onComplete:function(){if(!this.subject.getStyle("opacity")){this.set("display","none")}}});c.tween("opacity",1)},onHide:function(c){c.tween("opacity",0)}},initialize:function(c,d){if(b){b.attach(c);return b}this.setOptions(d);this.parent(c,d);b=this},attach:function(c){this.parent(c);b=this},detach:function(c){this.parent(c);
b=this}})})(document.id);var GTFormTipsInstance=null;(function(a){this.GT=this.GT||{};this.GT.FormTips=this.GT.FormTips||new Class({Implements:[Options],options:{formTipsOnTop:false},formFields:[],tipHolderElement:{},tips:{},tipSize:0,initialize:function(c,b){if(GTFormTipsInstance){this.updateFormFields(c);return GTFormTipsInstance
}GTFormTipsInstance=this;this.setOptions(b);this.updateFormFields(c);window.addEvent("resize",function(){this.updatePosition()}.bindWithEvent(this))},change:function(b){var d=b||this.activeInput;if(d){var c=d.getSize();this.tipHolderElement.getElement("div").set("html",this.tips[d.get("id")]);this.tipHolderElement.setStyle("display","block");
this.tipSize=this.tipHolderElement.getSize();this.setPosition(d);this.myShim.show()}},updatePosition:function(e,f){var g=(e&&(e>=20))?e:1000;var d=(g/20);var c=0;var f=f||this.activeInput;if(f){var b=setInterval(function(){if(c>=d){$clear(b)}else{this.setPosition(f);c++}this.myShim.position()}.bind(this),20)
}},setPosition:function(d){if(this.options.formTipsOnTop){var b=(d.get("data-offsetx"))?parseInt(d.get("data-offsetx")):0;var c=(d.get("data-offsety"))?parseInt(d.get("data-offsety")):0;if(document.body.hasClass("rtl")){this.tipHolderElement.setStyles({top:(d.getPosition().y-(this.tipSize.y)-5+c),left:(d.getPosition().x-20+b)})
}else{this.tipHolderElement.setStyles({top:(d.getPosition().y-(this.tipSize.y)-5+c),left:(d.getPosition().x+20+b)})}}else{if(document.body.hasClass("rtl")){this.tipHolderElement.setStyles({top:(d.getPosition().y-(this.tipSize.y/2)+(d.getSize().y/2)),left:(d.getPosition().x-d.getSize().x+22)})}else{this.tipHolderElement.setStyles({top:(d.getPosition().y-(this.tipSize.y/2)+(d.getSize().y/2)),left:(d.getPosition().x+d.getSize().x+12)})
}this.tipHolderElement.getElement(".arrow").setStyle("top",((this.tipSize.y/2)-7))}},processFormFields:function(){if(!a("formTip")){this.tipHolderElement=new Element("div",{id:"formTip",html:'<span class="arrow"></span><div></div>'});a(document.body).grab(this.tipHolderElement);this.myShim=new IframeShim(this.tipHolderElement)
}this.createTips();this.bindFieldEvents()},createTips:function(){this.formFields.each(function(b){var c=b.getParent();var d=(c)?c.get("title"):"";if(c&&d&&d!=""){var e=d.split("::");this.tips[b.get("id")]=(e.length>1)?e[1]:e[0];c.set("title","")}},this)},bindFieldEvents:function(){this.formFields.addEvents({focus:function(b){this.activeInput=b.target;
this.change()}.bindWithEvent(this),blur:function(b){this.activeInput=null;this.tipHolderElement.setStyle("display","none");this.myShim.hide()}.bindWithEvent(this)})},updateFormFields:function(b){GTFormTipsInstance.formFields=$$(GTFormTipsInstance.formFields,$$(b));GTFormTipsInstance.processFormFields()
},updateTip:function(b,c){this.tips[b]=c},toElement:function(){return this.tipHolderElement}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.Tracker=this.GT.Tracker||new Class({Implements:Options,options:{codes:["UA-4621772-1"]},initialize:function(b){this.setOptions(b);this.trackers=new Hash();this.options.codes.each(function(c,e){try{}catch(d){}},this)},track:function(){var b=$A(arguments),c=b[0],d=b.filter(function(f,e){return e>0
}).join();this.trackers.each(function(f){try{f[c](d)}catch(e){}})}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.StatusBox=this.GT.StatusBox||new Class({Implements:[Options,Events],options:{delayShow:0,delayHide:500,durationShow:1000,durationHide:100,maxBoxHeight:false,maxBoxHeightToAdd:0},initialize:function(c,b){this.setOptions(b);this.timerShow;this.timerHide;this.boxSelector=$$(c);
this.containerBox=this.options.containerBox;this.containerBox.setStyle("display","block");this.containerBoxPool=[this.containerBox,this.containerBox.getElement("div.container")];this.containerBoxTableHeight=this.containerBox.getElement("div.container").getStyle("height").toInt();this.invisible=true;this.initTweens();
this.prepareContainerBox()},initTweens:function(){this.tweenContainerBox=new Fx.Elements(this.containerBoxPool,{link:"cancel"}).set({"0":{opacity:0}})},prepareContainerBox:function(){var b=this.boxSelector[0];if(!b){return}if(this.options.maxBoxHeight&&this.containerBox.getElement("div.container table").getStyle("height").toInt()>this.options.maxBoxHeight){this.containerBox.getElement("div.container").setStyle("overflow","auto");
if(IE){this.containerBox.getElement("div.container table").setStyle("width",this.containerBox.getElement("div.container table").getStyle("width").toInt()+10)}}b.addEvents({mouseenter:function(c){if(this.timerHide){this.timerHide=$clear(this.timerHide)}if(this.tweenContainerBox){this.timerHide=$clear(this.timerHide);
this.tweenContainerBox.cancel()}this.show()}.bindWithEvent(this),mouseleave:function(c){this.timerHide=$clear(this.timerHide);this.timerHide=this.hide.delay(this.options.delayHide,this)}.bindWithEvent(this)});this.containerBox.addEvents({mouseenter:function(c){if(this.tweenContainerBox){this.timerHide=$clear(this.timerHide);
this.tweenContainerBox.cancel();this.show()}}.bindWithEvent(this),mouseleave:function(c){this.timerHide=$clear(this.timerHide);this.hide()}.bindWithEvent(this)})},show:function(){this.invisible=false;if(this.invisible){this.tweenContainerBox.set({})}if(this.options.maxBoxHeight){this.tweenContainerBox.start({"0":{opacity:1},"1":{height:(this.containerBox.getElement("div.container table").getStyle("height").toInt()<this.options.maxBoxHeight)?this.containerBox.getElement("div.container table").getStyle("height").toInt():this.options.maxBoxHeight}})
}else{if(this.options.maxBoxHeightToAdd){this.tweenContainerBox.start({"0":{opacity:1},"1":{height:this.containerBox.getElement("div.container table").getStyle("height").toInt()+this.options.maxBoxHeightToAdd}})}}},hide:function(){this.invisible=false;this.tweenContainerBox.start({"0":{opacity:0},"1":{height:this.containerBoxTableHeight}})
}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.IESelects=this.GT.IESelects||new Class({Implements:[Options],options:{selectTags:"select#fk_country, select#securityQuestionTag, select#bank_country",maxWidth:700},initialize:function(b){this.setOptions(b);if(Browser.name=="ie"&&Browser.version<9){var c=$$(this.options.selectTags);
c.each(function(d){var j=d,e=normalWidth=j.getSize().x,f=this.options.maxWidth;j.setStyles({width:"auto",visibility:"hidden"});var k=j.getSize().x;e=(k>e)?k:e;var h=j.getParent();var i=h.getSize().y;if(!(a("fnSettingsPersonal"))){j.setStyles({position:"absolute"})}j.setStyles({width:normalWidth,visibility:"visible"});
h.setStyles({position:"relative",height:h.getSize().y+9+"px"});if(e>normalWidth){if(e>f){e=f}var g=function(){j.setStyle("width",normalWidth)};j.addEvents({mouseenter:function(){this.setStyle("width",e)},focus:function(){this.setStyle("width",e)},mouseleave:g,click:function(){this.removeEvent("mouseleave",g)
},blur:function(){this.addEvent("mouseleave",g);g()}})}},this)}}})})(document.id);window.addEvent("domready",function(){var a={selectTags:"#fk_country, #securityQuestionTag, #birthCountryId, #bank_country, #messageActions select, #info_type",maxWidth:700};new GT.IESelects(a)});var statusElements={};$(window).addEvent("domready",function(){statusElements={fun_money:document.getElement("span.funCurrencyContainer"),real_money:".amountOfMoney span.currencyTip",playersOnline:$("playersOnline"),messages_inbox:"newMsgCounter"}});function statusUpdate(){var a=new Request.JSON({url:DOTNETAPPFOLDER+"/Display?page=status_update&xpf=json",onSuccess:function(b,c){b.fun_money&&statusElements.fun_money&&(statusElements.fun_money.lastChild.data=b.fun_money);
b.real_money&&$$(statusElements.real_money)[0]&&$$(statusElements.real_money)[0].set("text",b.real_money);b.playersOnline&&statusElements.playersOnline&&statusElements.playersOnline.set("text",b.playersOnline);b.messages_inbox&&($(statusElements.messages_inbox)&&$(statusElements.messages_inbox).set("text",b.messages_inbox)||new Element("span",{id:statusElements.messages_inbox,text:b.messages_inbox}).inject(document.getElement("li.messages a")))||$(statusElements.messages_inbox)&&$(statusElements.messages_inbox).destroy()
}}).post()};(function(a){this.GT=this.GT||{};this.GT.CheckBoxWrapper=this.GT.CheckBoxWrapper||new Class({Implements:Options,options:{checkBoxes:"input[type=checkbox]"},initialize:function(b){this.setOptions(b);this.checkBoxes=$$(this.options.checkBoxes);if(!this.checkBoxes.length>0){return}this.setUpElements()},setUpElements:function(){this.checkBoxes.each(function(c,e,b){var d=this.createHiddenField(c);
c.store("hiddenField",d);c.name+="_checkbox";d.inject(c,"after");c.addEvent("change",this.updateHiddenField.bind(this))},this)},createHiddenField:function(b){var c=new Element("input",{type:"hidden",name:b.name,value:b.checked?"1":"0"});return c},updateHiddenField:function(c){var b=a(c.target);var d=b.retrieve("hiddenField");
d.value=b.checked?"1":"0";return d}})})(document.id);var Mediabox;(function(){var D,o,a,J,A,R,y,q,x,W,V,k,G,I=new Image(),H=new Image(),j=false,l=false,E,f,m,b,e,Q,c,L,C,B,S,T,U,i,w,s,v="none",u,t="mediaBox",r;window.addEvent("domready",function(){document.id(document.body).adopt($$([E=new Element("div",{id:"mbOverlay"}).addEvent("click",h),f=new Element("div",{id:"mbCenter"})]).setStyle("display","none"));
m=new Element("div",{id:"mbImage"}).injectInside(f);b=new Element("div",{id:"mbBottom"}).injectInside(f).adopt(new Element("a",{id:"mbCloseLink",href:"#"}).addEvent("click",h),B=new Element("a",{id:"mbNextLink",href:"#"}).addEvent("click",z),L=new Element("a",{id:"mbPrevLink",href:"#"}).addEvent("click",K),Q=new Element("div",{id:"mbTitle"}),C=new Element("div",{id:"mbNumber"}),c=new Element("div",{id:"mbCaption"}));
k={overlay:new Fx.Tween(E,{property:"opacity",duration:360}).set(0),image:new Fx.Tween(m,{property:"opacity",duration:360,onComplete:d}),bottom:new Fx.Tween(b,{property:"opacity",duration:240}).set(0)}});Mediabox={close:function(){h()},open:function(X,Z,Y){D=$extend({loop:false,keyboard:true,alpha:true,stopKey:false,overlayOpacity:"0.7",resizeOpening:true,resizeDuration:240,resizeTransition:false,initialWidth:320,initialHeight:180,defaultWidth:640,defaultHeight:360,showCaption:true,showCounter:true,counterText:"({x} of {y})",imgBackground:false,imgPadding:70,scriptaccess:"true",fullscreen:"true",fullscreenNum:"1",autoplay:"true",autoplayNum:"1",autoplayYes:"yes",volume:"100",medialoop:"true",bgcolor:"#000000",wmode:"opaque",useNB:false,playerpath:"../js/player.swf",controlColor:"0xFFFFFF",controlBackColor:"0x000000",showTimecode:"false",JWplayerpath:"/js/mediaplayer/player-licensed.swf",backcolor:"000000",frontcolor:"999999",lightcolor:"000000",screencolor:"000000",controlbar:"over",controller:"true",flInfo:"true",revverID:"187866",revverFullscreen:"true",revverBack:"000000",revverFront:"ffffff",revverGrad:"000000",usViewers:"true",ytBorder:"0",ytColor1:"000000",ytColor2:"333333",ytQuality:"&ap=%2526fmt%3D18",ytRel:"0",ytInfo:"1",ytSearch:"0",vuPlayer:"basic",vmTitle:"1",vmByline:"1",vmPortrait:"1",vmColor:"ffffff"},Y||{});
if((Browser.Engine.gecko)&&(Browser.Engine.version<19)){j=true;D.overlayOpacity=1;E.className="mbOverlayFF"}if(typeof X=="string"){X=[[X,Z,Y]];Z=0}o=X;D.loop=D.loop&&(o.length>1);if((Browser.Engine.trident)&&(Browser.Engine.version<5)){l=true;E.className="mbOverlayIE";E.setStyle("position","absolute");
F()}N();M(true);R=window.getScrollTop()+(window.getHeight()/2);q=window.getScrollLeft()+(window.getWidth()/2);k.resize=new Fx.Morph(f,$extend({duration:D.resizeDuration,onComplete:n},D.resizeTransition?{transition:D.resizeTransition}:{}));f.setStyles({top:R,left:q,width:D.initialWidth,height:D.initialHeight,marginTop:-(D.initialHeight/2),marginLeft:-(D.initialWidth/2),display:""});
k.overlay.start(D.overlayOpacity);return g(Z)}};Element.implement({mediabox:function(X,Y){$$(this).mediabox(X,Y);return this}});Elements.implement({mediabox:function(X,Y,aa){Y=Y||function(ab){i=ab.rel.split(/[\[\]]/);i=i[1];return[ab.href,ab.title,i]};aa=aa||function(){return true};var Z=this;Z.addEvent("contextmenu",function(ab){if(this.toString().match(/\.gif|\.jpg|\.jpeg|\.png/i)){ab.stop()
}});Z.removeEvents("click").addEvent("click",function(){var ab=Z.filter(aa,this);var ad=[];var ac=[];ab.each(function(af,ae){if(ac.indexOf(af.toString())<0){ad.include(ab[ae]);ac.include(ab[ae].toString())}});return Mediabox.open(ad.map(Y),ac.indexOf(this.toString()),X)});return Z}});function F(){E.setStyles({top:window.getScrollTop(),left:window.getScrollLeft()})
}function N(){W=window.getWidth();V=window.getHeight();E.setStyles({width:W,height:V})}function M(Y){if(Browser.Engine.gecko){["object",window.ie?"select":"embed"].forEach(function(Z){Array.forEach(document.getElementsByTagName(Z),function(aa){if(Y){aa._mediabox=aa.style.visibility}aa.style.visibility=Y?"hidden":aa._mediabox
})})}E.style.display=Y?"":"none";var X=Y?"addEvent":"removeEvent";if(l){window[X]("scroll",F)}window[X]("resize",N);if(D.keyboard){document[X]("keydown",p)}}function p(X){if(D.alpha){switch(X.code){case 27:case 88:case 67:h();break;case 37:case 80:K();break;case 39:case 78:z()}}else{switch(X.code){case 27:h();
break;case 37:K();break;case 39:z()}}if(D.stopKey){return false}}function K(){return g(J)}function z(){return g(A)}function g(X){if(X>=0){m.set("html","");a=X;J=((a||!D.loop)?a:o.length)-1;A=a+1;if(A==o.length){A=D.loop?0:-1}P();f.className="mbLoading";if(!o[X][2]){o[X][2]=""}T=o[X][2].split(" ");U=T.length;
if(U>1){w=(T[U-2].match("%"))?(window.getWidth()*((T[U-2].replace("%",""))*0,01))+"px":T[U-2]+"px";s=(T[U-1].match("%"))?(window.getHeight()*((T[U-1].replace("%",""))*0,01))+"px":T[U-1]+"px"}else{w="";s=""}S=o[X][0];S=encodeURI(S).replace("(","%28").replace(")","%29");e=o[a][1].split("::");if(S.match(/quietube\.com/i)){u=S.split("v.php/");
S=u[1]}else{if(S.match(/\/\/yfrog/i)){v=(S.substring(S.length-1));if(v.match(/b|g|j|p|t/i)){v="image"}if(v=="s"){v="flash"}if(v.match(/f|z/i)){v="video"}S=S+":iphone"}}if(S.match(/\.gif|\.jpg|\.jpeg|\.png|twitpic\.com/i)||v=="image"){v="img";S=S.replace(/twitpic\.com/i,"twitpic.com/show/full");G=new Image();
G.onload=O;G.src=S}else{if(S.match(/\.flv|\.mp4/i)||v=="video"){v="obj";w=w||D.defaultWidth;s=s||D.defaultHeight;if(D.useNB){G=new Swiff(""+D.playerpath+"?mediaURL="+S+"&allowSmoothing=true&autoPlay="+D.autoplay+"&buffer=6&showTimecode="+D.showTimecode+"&loop="+D.medialoop+"&controlColor="+D.controlColor+"&controlBackColor="+D.controlBackColor+"&defaultVolume="+D.volume+"&scaleIfFullScreen=true&showScalingButton=true&crop=false",{id:"MediaboxSWF",width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}})
}else{if(S.match(/tvspot_2011/i)){G=new Swiff(""+D.JWplayerpath+"?file="+S,{id:"MediaboxSWF",width:480,height:290,vars:{image:"http://videos.greentube.com/gametwist/tvspot_2011.jpg",repeat:"none",backcolor:"3399CC",frontcolor:"ffffff",screencolor:"000000",lightcolor:"C8F0FA",autostart:"false",fullscreen:"true",bufferlength:"2",width:"480",stretching:"uniform"},params:{wmode:"opaque",allowFullScreen:"true",allowScriptAccess:"always"}})
}else{G=new Swiff(""+D.JWplayerpath+"?file="+S+"&backcolor="+D.backcolor+"&frontcolor="+D.frontcolor+"&lightcolor="+D.lightcolor+"&screencolor="+D.screencolor+"&autostart="+D.autoplay+"&controlbar="+D.controlbar,{id:"MediaboxSWF",width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}})
}}O()}else{if(S.match(/\.mp3|\.aac|tweetmic\.com|tmic\.fm/i)||v=="audio"){v="obj";w=w||D.defaultWidth;s=s||"20px";if(S.match(/tweetmic\.com|tmic\.fm/i)){S=S.split("/");S[4]=S[4]||S[3];S="http://media4.fjarnet.net/tweet/tweetmicapp-"+S[4]+".mp3"}if(D.useNB){G=new Swiff(""+D.playerpath+"?mediaURL="+S+"&allowSmoothing=true&autoPlay="+D.autoplay+"&buffer=6&showTimecode="+D.showTimecode+"&loop="+D.medialoop+"&controlColor="+D.controlColor+"&controlBackColor="+D.controlBackColor+"&defaultVolume="+D.volume+"&scaleIfFullScreen=true&showScalingButton=true&crop=false",{id:"MediaboxSWF",width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}})
}else{G=new Swiff(""+D.JWplayerpath+"?file="+S+"&backcolor="+D.backcolor+"&frontcolor="+D.frontcolor+"&lightcolor="+D.lightcolor+"&screencolor="+D.screencolor+"&autostart="+D.autoplay,{id:"MediaboxSWF",width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}})
}O()}else{if(S.match(/\.swf/i)||v=="flash"){v="obj";w=w||D.defaultWidth;s=s||D.defaultHeight;G=new Swiff(S,{id:"MediaboxSWF",width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/\.mov|\.m4v|\.m4a|\.aiff|\.avi|\.caf|\.dv|\.mid|\.m3u|\.mp3|\.mp2|\.mp4|\.qtz/i)||v=="qt"){v="qt";
w=w||D.defaultWidth;s=(parseInt(s)+16)+"px"||D.defaultHeight;G=new Quickie(S,{id:"MediaboxQT",width:w,height:s,container:"mbImage",attributes:{controller:D.controller,autoplay:D.autoplay,volume:D.volume,loop:D.medialoop,bgcolor:D.bgcolor}});O()}else{if(S.match(/blip\.tv/i)){v="obj";w=w||"640px";s=s||"390px";
G=new Swiff(S,{src:S,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/break\.com/i)){v="obj";w=w||"464px";s=s||"376px";t=S.match(/\d{6}/g);G=new Swiff("http://embed.break.com/"+t,{width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});
O()}else{if(S.match(/dailymotion\.com/i)){v="obj";w=w||"480px";s=s||"381px";G=new Swiff(S,{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/facebook\.com/i)){v="obj";w=w||"320px";s=s||"240px";u=S.split("v=");
u=u[1].split("&");t=u[0];G=new Swiff("http://www.facebook.com/v/"+t,{movie:"http://www.facebook.com/v/"+t,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/flickr\.com/i)){v="obj";
w=w||"500px";s=s||"375px";u=S.split("/");t=u[5];G=new Swiff("http://www.flickr.com/apps/video/stewart.swf",{id:t,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",width:w,height:s,params:{flashvars:"photo_id="+t+"&amp;show_info_box="+D.flInfo,wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});
O()}else{if(S.match(/gametrailers\.com/i)){v="obj";w=w||"480px";s=s||"392px";t=S.match(/\d{5}/g);G=new Swiff("http://www.gametrailers.com/remote_wrap.php?mid="+t,{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/google\.com\/videoplay/i)){v="obj";
w=w||"400px";s=s||"326px";u=S.split("=");t=u[1];G=new Swiff("http://video.google.com/googleplayer.swf?docId="+t+"&autoplay="+D.autoplayNum,{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/megavideo\.com/i)){v="obj";
w=w||"640px";s=s||"360px";u=S.split("=");t=u[1];G=new Swiff("http://wwwstatic.megavideo.com/mv_player.swf?v="+t,{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/metacafe\.com\/watch/i)){v="obj";w=w||"400px";
s=s||"345px";u=S.split("/");t=u[4];G=new Swiff("http://www.metacafe.com/fplayer/"+t+"/.swf?playerVars=autoPlay="+D.autoplayYes,{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/vids\.myspace\.com/i)){v="obj";
w=w||"425px";s=s||"360px";G=new Swiff(S,{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/revver\.com/i)){v="obj";w=w||"480px";s=s||"392px";u=S.split("/");t=u[4];G=new Swiff("http://flash.revver.com/player/1.0/player.swf?mediaId="+t+"&affiliateId="+D.revverID+"&allowFullScreen="+D.revverFullscreen+"&autoStart="+D.autoplay+"&backColor=#"+D.revverBack+"&frontColor=#"+D.revverFront+"&gradColor=#"+D.revverGrad+"&shareUrl=revver",{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});
O()}else{if(S.match(/rutube\.ru/i)){v="obj";w=w||"470px";s=s||"353px";u=S.split("=");t=u[1];G=new Swiff("http://video.rutube.ru/"+t,{movie:"http://video.rutube.ru/"+t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/seesmic\.com/i)){v="obj";
w=w||"435px";s=s||"355px";u=S.split("/");t=u[5];G=new Swiff("http://seesmic.com/Standalone.swf?video="+t,{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/tudou\.com/i)){v="obj";w=w||"400px";s=s||"340px";
u=S.split("/");t=u[5];G=new Swiff("http://www.tudou.com/v/"+t,{width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/twitcam\.com/i)){v="obj";w=w||"320px";s=s||"265px";u=S.split("/");t=u[3];G=new Swiff("http://static.livestream.com/chromelessPlayer/wrappers/TwitcamPlayer.swf?hash="+t,{width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});
O()}else{if(S.match(/twitvid\.com/i)){v="obj";w=w||"600px";s=s||"338px";u=S.split("/");t=u[3];G=new Swiff("http://www.twitvid.com/player/"+t,{width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/ustream\.tv/i)){v="obj";
w=w||"400px";s=s||"326px";G=new Swiff(S+"&amp;viewcount="+D.usViewers+"&amp;autoplay="+D.autoplay,{width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/youku\.com/i)){v="obj";w=w||"480px";s=s||"400px";u=S.split("id_");
t=u[1];G=new Swiff("http://player.youku.com/player.php/sid/"+t+"=/v.swf",{width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});O()}else{if(S.match(/youtube\.com\/watch/i)){v="obj";u=S.split("v=");t=u[1];if(t.match(/fmt=18/i)){r="&ap=%2526fmt%3D18";
w=w||"560px";s=s||"345px"}else{if(t.match(/fmt=22/i)){r="&ap=%2526fmt%3D22";w=w||"640px";s=s||"385px"}else{r=D.ytQuality;w=w||"480px";s=s||"295px"}}G=new Swiff("http://www.youtube.com/v/"+t+"&autoplay="+D.autoplayNum+"&fs="+D.fullscreenNum+r+"&border="+D.ytBorder+"&color1=0x"+D.ytColor1+"&color2=0x"+D.ytColor2+"&rel="+D.ytRel+"&showinfo="+D.ytInfo+"&showsearch="+D.ytSearch,{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});
O()}else{if(S.match(/youtube\.com\/view/i)){v="obj";u=S.split("p=");t=u[1];w=w||"480px";s=s||"385px";G=new Swiff("http://www.youtube.com/p/"+t+"&autoplay="+D.autoplayNum+"&fs="+D.fullscreenNum+r+"&border="+D.ytBorder+"&color1=0x"+D.ytColor1+"&color2=0x"+D.ytColor2+"&rel="+D.ytRel+"&showinfo="+D.ytInfo+"&showsearch="+D.ytSearch,{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});
O()}else{if(S.match(/veoh\.com/i)){v="obj";w=w||"410px";s=s||"341px";S=S.replace("%3D","/");u=S.split("watch/");t=u[1];G=new Swiff("http://www.veoh.com/static/swf/webplayer/WebPlayer.swf?version=AFrontend.5.5.2.1001&permalinkId="+t+"&player=videodetailsembedded&videoAutoPlay="+D.AutoplayNum+"&id=anonymous",{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});
O()}else{if(S.match(/viddler\.com/i)){v="obj";w=w||"437px";s=s||"370px";u=S.split("/");t=u[4];G=new Swiff(S,{id:"viddler_"+t,movie:S,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen,id:"viddler_"+t,movie:S}});
O()}else{if(S.match(/viddyou\.com/i)){v="obj";w=w||"416px";s=s||"312px";u=S.split("=");t=u[1];G=new Swiff("http://www.viddyou.com/get/v2_"+D.vuPlayer+"/"+t+".swf",{id:t,movie:"http://www.viddyou.com/get/v2_"+D.vuPlayer+"/"+t+".swf",width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});
O()}else{if(S.match(/vimeo\.com/i)){v="obj";w=w||"640px";s=s||"360px";u=S.split("/");t=u[3];G=new Swiff("http://www.vimeo.com/moogaloop.swf?clip_id="+t+"&amp;server=www.vimeo.com&amp;fullscreen="+D.fullscreenNum+"&amp;autoplay="+D.autoplayNum+"&amp;show_title="+D.vmTitle+"&amp;show_byline="+D.vmByline+"&amp;show_portrait="+D.vmPortrait+"&amp;color="+D.vmColor,{id:t,width:w,height:s,params:{wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});
O()}else{if(S.match(/12seconds\.tv/i)){v="obj";w=w||"430px";s=s||"360px";u=S.split("/");t=u[5];G=new Swiff("http://embed.12seconds.tv/players/remotePlayer.swf",{id:t,width:w,height:s,params:{flashvars:"vid="+t+"",wmode:D.wmode,bgcolor:D.bgcolor,allowscriptaccess:D.scriptaccess,allowfullscreen:D.fullscreen}});
O()}else{if(S.match(/\#mb_/i)){v="inline";w=w||D.defaultWidth;s=s||D.defaultHeight;URLsplit=S.split("#");G=document.id(URLsplit[1]).get("html");O()}else{v="url";w=w||D.defaultWidth;s=s||D.defaultHeight;t="mediaId_"+new Date().getTime();G=new Element("iframe",{src:S,id:t,width:w,height:s,frameborder:0});
O()}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return false}function O(){if(v=="img"){w=G.width;s=G.height;if(D.imgBackground){m.setStyles({backgroundImage:"url("+S+")",display:""})}else{if(s>=V-D.imgPadding&&(s/V)>=(w/W)){s=V-D.imgPadding;w=G.width=parseInt((s/G.height)*w);G.height=s}else{if(w>=W-D.imgPadding&&(s/V)<(w/W)){w=W-D.imgPadding;
s=G.height=parseInt((w/G.width)*s);G.width=w}}if(Browser.Engine.trident){G=document.id(G)}G.addEvent("mousedown",function(X){X.stop()}).addEvent("contextmenu",function(X){X.stop()});m.setStyles({backgroundImage:"none",display:""});G.inject(m)}}else{if(v=="obj"){if(Browser.Plugins.Flash.version<8){m.setStyles({backgroundImage:"none",display:""});
m.set("html",'<div id="mbError"><b>Error</b><br/>Adobe Flash is either not installed or not up to date, please visit <a href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash" title="Get Flash" target="_new">Adobe.com</a> to download the free player.</div>');w=D.DefaultWidth;
s=D.DefaultHeight}else{m.setStyles({backgroundImage:"none",display:""});G.inject(m)}}else{if(v=="qt"){m.setStyles({backgroundImage:"none",display:""});G}else{if(v=="inline"){m.setStyles({backgroundImage:"none",display:""});m.set("html",G)}else{if(v=="url"){m.setStyles({backgroundImage:"none",display:""});
G.inject(m)}else{m.setStyles({backgroundImage:"none",display:""});m.set("html",'<div id="mbError"><b>Error</b><br/>A file type error has occoured, please visit <a href="iaian7.com/webcode/mediaboxAdvanced" title="mediaboxAdvanced" target="_new">iaian7.com</a> or contact the website author for more information.</div>');
w=D.defaultWidth;s=D.defaultHeight}}}}}m.setStyles({width:w,height:s});Q.set("html",(D.showCaption)?e[0]:"");c.set("html",(D.showCaption&&(e.length>1))?e[1]:"");C.set("html",(D.showCounter&&(o.length>1))?D.counterText.replace(/{x}/,a+1).replace(/{y}/,o.length):"");if((J>=0)&&(o[J][0].match(/\.gif|\.jpg|\.jpeg|\.png|twitpic\.com/i))){I.src=o[J][0].replace(/twitpic\.com/i,"twitpic.com/show/full")
}if((A>=0)&&(o[A][0].match(/\.gif|\.jpg|\.jpeg|\.png|twitpic\.com/i))){H.src=o[A][0].replace(/twitpic\.com/i,"twitpic.com/show/full")}w=m.offsetWidth;s=m.offsetHeight+b.offsetHeight;if(s>=R+R-10){y=-(R-10)}else{y=-(s/2)}if(w>=q+q-10){x=-(q-10)}else{x=-(w/2)}if(D.resizeOpening){k.resize.start({width:w,height:s,marginTop:y,marginLeft:x})
}else{f.setStyles({width:w,height:s,marginTop:y,marginLeft:x});n()}}function n(){k.image.start(1)}function d(){f.className="";if(J>=0){L.style.display=""}if(A>=0){B.style.display=""}k.bottom.start(1)}function P(){if(G){G.onload=$empty}k.resize.cancel();k.image.cancel().set(0);k.bottom.cancel().set(0);
$$(L,B).setStyle("display","none")}function h(){if(a>=0){G.onload=$empty;m.set("html","");for(var X in k){k[X].cancel()}f.setStyle("display","none");k.overlay.chain(M).start(0)}return false}})();Mediabox.scanPage=function(){var a=$$("a").filter(function(b){return b.rel&&b.rel.test(/^lightbox/i)});$$(a).mediabox({},null,function(b){var c=this.rel.replace(/[[]|]/gi," ");
var d=c.split(" ");return(this==b)||((this.rel.length>8)&&b.rel.match(d[1]))})};window.addEvent("domready",Mediabox.scanPage);(function(a){this.GT=this.GT||{};this.GT.HandleBackToTop=function(c,b){var f=window.getSize().y;var d=c.getSize().y;var e=c.getPosition().y;if(f>d+e){b.hide()}}})(document.id);var offset_x=-5;var offset_y=-7;var offset2_x=11;var offset2_y=-7;var IE6=(Browser.Engine.trident4)?true:false;var IE7=(Browser.Engine.trident5)?true:false;var IE8=(Browser.Engine.trident6&&Browser.version==8)?true:false;var IE=(Browser.Engine.trident)?true:false;var BODY=$(document.body);var WINDOW=$(window);
var COOKIEDOMAIN=/^[^.]*(\.[^.]*(?:\.\w{2,3})?\.[^.]*)$/.exec(location.hostname);COOKIEDOMAIN=(COOKIEDOMAIN!=null)?COOKIEDOMAIN[1]:location.hostname;WINDOW.addEvent("domready",function(){domreadyFired=true});WINDOW.addEvent("load",function(){loadFired=true});BODY.removeClass("static");if(Browser.Engine.presto){BODY.addClass("opera")
}var gaPrefix="__utm";if(document.cookie.indexOf(gaPrefix)!=-1){document.cookie.split(";").each(function(a){if(a.indexOf(gaPrefix)!=-1){Cookie.dispose(a.split("=")[0])}})}GT.gameWindow=function(d){var a=new Hash.Cookie("gameSize",{duration:3600,path:"/",domain:/(?:.*\.)?([^.]+\.[^.]+)/.exec(location.hostname)[1]}),e=a.get("winX"),b=a.get("winY");
if(!e||!b){switch(true){case ((screen.availWidth>=1280)&&(screen.availHeight>=1024)):e=1280;b=1024;a.set("sSize","sizeL");break;case ((screen.availWidth>=1152)&&(screen.availHeight>=864)):e=1152;b=864;a.set("sSize","sizeM");break;default:e=1024;b=768;a.set("sSize","sizeS")}}if(IE6){d=decodeURIComponent(escape(d))
}var c=WINDOW.open(d,"gameWindow","width="+e+",height="+b+",scrollbars=yes,resizable=yes,location=yes,left="+Math.max(0,screen.availWidth/2-e/2)+",top= "+Math.max(0,screen.availHeight/2-b/2));if(c){c.focus()}return c};var marqfun=function(){if(document.getElementById("fnRegister")){var a=$$(".overTxtLabel");
var c=20;a.each(function(e){if(e.get("text").length>c){e.setStyle("white-space","nowrap");e.setStyle("overflow","hidden");e.setStyle("width","130px")}});var b=function(e){var f=new Fx.Tween(e,{duration:1900,onComplete:function(g){g.set("tween",{duration:1900});g.tween("text-indent",(c*7)-(g.get("text").length*7),0)
}});f.start("text-indent",0,(c*7)-(e.get("text").length*7))};function d(){a.each(function(e){if(e.get("text").length>c){b(e)}})}d();d.periodical(3850)}};WINDOW.addEvent("loaded",function(){if(IE6){var a=$("tipHolder");if(a&&a.get("html")){a.setStyle("line-height",13)}}});WINDOW.addEvent("loaded",function(){var c=$$("a[data-gtt]","div.so1_medium h4 a","div.so1_small h4 a","div.to1 h4 a");
if($("nav")){$("nav").getElements("a[data-gtt]").each(function(z){c.erase(z)})}new GT.Tips(c);if($("main")){var p=$("main");new GT.Overlay(p.getElements("div.so1, div.so1_medium, div.so1_small"),{templateUrl:DOTNETAPPFOLDER+"/Display?page=overlay_templates_ax&type=so2",offset:{x:offset_x,y:offset_y},offset2:{x:offset2_x,y:offset2_y},delayShow:200,delayHide:200,durationShow:200,durationHide:100});
new GT.Overlay.Tournament(p.getElements("div.to1"),{templateUrl:DOTNETAPPFOLDER+"/Display?page=overlay_templates_ax&type=to2",offset:{x:-5,y:-14},offset2:{x:12,y:-14},delayShow:200,delayHide:200,durationShow:200,durationHide:100});if(WINDOW.GTStepsText){new GT.Steps(p.getElements("div.tournList, div.siteshopMobileGames"),{texts:GTStepsText})
}}if($("status")&&$("status").getElements("li.friendsOnline")&&$("friendsOnlineBox")){new GT.StatusBox($("status").getElements("li.friendsOnline a"),{containerBox:$("friendsOnlineBox"),maxBoxHeight:300})}if($("status")&&$("status").getElement("#amountOfMoney")&&$("currencyContainer")){new GT.StatusBox($("status").getElements("#amountOfMoney a"),{containerBox:$("currencyContainer"),maxBoxHeightToAdd:$("currencyContainer").getElement(".currencyInfo").getStyle("height").toInt()+$("currencyContainer").getElement("h3").getStyle("height").toInt()+10})
}var b=IE7?{selector:$$("a.room"),evt:"click"}:{selector:BODY,evt:"click:relay(a.room)"};b.selector.addEvent(b.evt,function(z){var A=$(z.target);if(!A.getParent(".external")&&!A.getParent("#mobilGames")){GT.gameWindow(this.href);z.preventDefault()}});$$("button.room").addEvent("click",function(z){GT.gameWindow($("gameHeader").getElement("a.room").href);
z.preventDefault()});(function(){var B=$("regPlayForReal");if(B){var z=B.getElement("button.formButton");var A=B.getElement(".next a");z.addEvent("click",function(C){C.preventDefault();WINDOW.location=A.get("href")})}})();smallToRoot();var a=IE7?{selector:$$("a.profile"),evt:"click"}:{selector:BODY,evt:"click:relay(a.profile)"};
a.selector.addEvent(a.evt,function(A,z){popupWindowNew(650,550,"scrollbars=yes",z||this);A.preventDefault()});if($("status")&&$("languages")&&$("languages").getElements("li").length>1){var j=$("languages").measure(function(){return this.getSize().y});var k=$("languages").getElement("li.active .lang_name").measure(function(){return this.getSize().x
});var m=k+14;var n=$("languages").measure(function(){var z=(IE6||IE7)?155:this.getSize().x+4;return z});if(document.body.hasClass("rtl")){$("languages").setStyle("right",965-m)}else{$("languages").setStyle("left",965-m)}var l=$("languages"),g={width:m,height:j},t=l.measure(function(){var z;this.setStyles({height:"auto"});
z={width:n,height:this.getSize().y+3};this.setStyles(g);return z});l.setStyle("width",m);l.addEvents({click:function(){this.morph(t)},mouseenter:function(){this.morph(t)},mouseleave:function(){this.morph(g)}});l.setStyle("display","block");$("languages").getElement(".active span").setStyle("display","block")
}if(IE6||IE7||IE8){$$("table.listTable tbody > tr:nth-child(even), table.formTable tbody > tr:nth-child(even)").addClass("even");$$("table.listTable tbody > tr:nth-child(odd), table.formTable tbody > tr:nth-child(odd)").addClass("odd")}if(IE6||IE7||IE8){$$("table.listTable td:first-child,.formTable td:first-child, table.listTable thead td:first-child, table.listTable thead th:first-child, table.formTable tfoot td:first-child").addClass("first");
$$("table.listTable td:last-child,.formTable td:last-child, table.listTable thead td:last-child, table.listTable thead th:last-child, table.formTable tfoot td:last-child").addClass("last")}$$("div.paymentToolTip div.toolTipText p:first-child").addClass("first");var q=$$("div.myNumbers"),u;var v=function(z){if(z){z.tween("height",3*28);
var A=z.getNext();if(A){A.tween("height",u)}}else{q.each(function(C,B){C.tween("height",3*28);var D=C.getNext();if(D){D.tween("height",u)}})}};q.each(function(A,z){var B=A.getSize().y;if(B>3*28){var D=new Element("div",{"class":"showAllNums",html:"<span>"+GTStepsText.showAll+"...<span>"});D.inject(A,"after");
u=D.getSize().y;v(A);var C=function(){v();A.tween("height",B);A.getNext().tween("height",0)};D.addEvent("click",C)}winArray=A.getElements(".win");if(winArray.length){winArray.each(function(E){var F=E.getParent();E.inject(F,"top")})}});var w=$("tournDetails");if(w){var e=w.getElements("dt");var d=w.getElements("dd");
e.push(w.getElement("div.tournDetails div.container"));d.push(w.getElement("div.topJackpot div.container"));e.push(w.getElement("div.tournDetails h3"));d.push(w.getElement("div.topJackpot h3"));for(var h=0,o=d.length;h<o;++h){var r=e[h];var x=d[h];if(r&&x){var s=r.getSize().y;var y=x.getSize().y;if(s>y){x.setStyle("height",(s-(parseInt(x.getStyle("padding-top"))+parseInt(x.getStyle("padding-bottom")))-(parseInt(x.getStyle("border-top"))+parseInt(x.getStyle("border-bottom")))))
}else{if(s<y){r.setStyle("height",(y-(parseInt(r.getStyle("padding-top"))+parseInt(r.getStyle("padding-bottom")))-(parseInt(x.getStyle("border-top"))+parseInt(x.getStyle("border-bottom")))))}}}}}var f=$("gameHeader");if(f){var e=f.getElements("dt");var d=f.getElements("dd");for(var h=0,o=d.length;h<o;
++h){var r=e[h];var x=d[h];var s=r.getSize().y;var y=x.getSize().y;if(s>y){x.setStyle("height",(s-(parseInt(x.getStyle("padding-top"))+parseInt(x.getStyle("padding-bottom")))-(parseInt(x.getStyle("border-top"))+parseInt(x.getStyle("border-bottom")))))}else{if(s<y){r.setStyle("height",(y-(parseInt(r.getStyle("padding-top"))+parseInt(r.getStyle("padding-bottom")))-(parseInt(x.getStyle("border-top"))+parseInt(x.getStyle("border-bottom")))))
}}}}});WINDOW.addEvent("load",function(){if(!BODY.hasClass("room")&&$("nav")){var e=$("nav"),d=$("main"),g=false,c=false,f=42;navHeightNew=42,navOffset=e.getOffsets().y,originalTop=e.getStyle("top");var a=function(){if((f+navOffset)<WINDOW.getScroll().y){if(!e.hasClass("sticky")){e.addClass("sticky")
}new GT.Tips($$(".sticky a[data-gtt]"));if(!c){c=new Element("a",{id:"backToTop",href:"/",events:{click:function(h){h.preventDefault();var j=new Fx.Scroll(BODY);j.toTop()}}});c.inject($("nav"))}if(!IE6){e.setStyle("top",Math.min(0,-navHeightNew+WINDOW.getScroll().y-navOffset-f))}else{e.setStyles({left:-$("wrapper").getCoordinates().left+"px",width:WINDOW.getSize().x+"px"}).style.setExpression("top","parseInt(document.documentElement.scrollTop + 40) + 'px'")
}if(Browser.Engine.webkit&&$("footer")){$("footer").getElement("span").set("text",$("footer").getElement("span").get("text"))}g=true}};if(!IE6&&!IE7){a();WINDOW.addEvent("scroll",function(){a();if(f+navOffset>WINDOW.getScroll().y&&g){e.removeClass("sticky");e.removeProperty("style");new GT.Tips().detach(e.getElements("a[data-gtt]"));
g=false}})}}var b=$("thisamount");if(WINDOW.USE_CUFON&&b){if(b.value){Cufon.refresh("h3")}b.addEvent("keyup",function(h){Cufon.refresh("h3")})}if((BODY.hasClass("warning_guest")||BODY.hasClass("login"))&&$$("#container form input:not(*[type=hidden])").length>0){$$("#container form input:not(*[type=hidden])")[0].focus()
}if(!IE){marqfun()}if(BODY.hasClass("messages_new")&&$("messageContent")){maxLengthCounter(1000)}if(BODY.hasClass("tournaments_add")&&$("messageContent")){maxLengthCounter(500)}});function syncDimension(g){var a=g.arrContainer,b=g.arrElements,c=g.attribute,f=g.groupSize,d,e,h,j;d=Math.ceil(a.length/f);
for(i=0;i<d;i++){e=a.filter(function(l,m,k){return m>=i*f&&m<(i+1)*f});b.each(function(k){h=0;e.each(function(l){if(j=l.getElement(k)){h=Math.max(h,j.getStyle(c).toInt())}});if(h!=0){$$(e.getElements(k)).setStyle(c,h)}})}}$$("div.lotteryBox img").addEvent("load",function(){syncDimension({arrContainer:$$("div.prizeBox:not([id=prize1])"),arrElements:["div.img","p.desc","div.footer","h3"],attribute:"height",groupSize:2})
});syncDimension({arrContainer:$$("body.shop_items #container"),arrElements:["div.itemList div.container"],attribute:"height",groupSize:2});syncDimension({arrContainer:$$("body.shop_items #container"),arrElements:["div.itemList h3"],attribute:"height",groupSize:2});function submitSmallForm(){$$("body.small form, body.register form").addEvent("submit",function(a){if(opener&&!opener.closed){this.target="root";
self.close()}})}function smallToRoot(){if(BODY.hasClass("small")){BODY.addEvent("click",function(a){var b=$(a.target),c=(b.get("tag")=="a")?b:b.getParent("a"),d;if(c){d=c.getParent("h1")||c.getParent("div#footer")||false;if(BODY.hasClass("small")&&BODY.hasClass("help")){c.setProperty("target","_blank");
(function(){self.close()}).delay(500);var e=self;while(e.top.opener&&!e.top.opener.closed){e=e.top.opener;e.focus()}}if(c.hasClass("opener")||d){c.setProperty("target","root");if(opener&&!opener.closed){opener.focus()}}if(c.hasClass("close")||d){(function(){self.close()}).delay(500)}}});BODY.addEvent("submit",function(a){var b=$(a.target);
if(b.hasClass("opener")){b.setProperty("target","root");if(opener&&!opener.closed){opener.focus()}}if(b.hasClass("close")){(function(){self.close()}).delay(500)}})}}function popupWindowNew(c,d,b,a){openWindow(a.getAttribute("href"),a.getAttribute("target")||"_blank",b,c,d)}function openWindow(e,d,a,g,h,b,c){if(!isNaN(a)){c=b;
b=h;h=g;g=a;a=null}if(!b){b=Math.round((screen.width-g-10)/2)}if(!c){c=Math.round((screen.height-h-30)/2)}if(b<0){b=0}if(c<0){c=0}a=(a)?a+",":"";a+=(g)?"width="+g+",left="+b+",":"";a+=(h)?"height="+h+",top="+c:"";d=(d)?d:"_blank";Popup=WINDOW.open(e,d,a);if(Popup){Popup.focus()}return Popup}if(typeof SIDEBAR_ACCORDION_NR1!="undefined"){WINDOW.addEvent("domready",function(){new Accordion($("sideBar"),"h3.toggler","div.element",{opacity:false,show:SIDEBAR_ACCORDION_NR1,onActive:function(b,a){b.setStyle("cursor","default")
},onBackground:function(b,a){b.setStyle("cursor","")}})})}function pgPrint(){var d=self.location.href;var c=/.*(\?|~|&).*/;var a=(c.exec(d))?"&":"?";var b=/([^#]*)(#?.*)$/;b=b.exec(d);d=b[1]+a+"rm=print";window.open(d)}function checkNewsletter(a,b){if(a.checked){b.setProperty("value","1")}else{b.setProperty("value","0")
}}window.addEvent("domready",function(){if(IE){marqfun()}if($("fnLogin")&&top.opener&&!top.opener.closed){reloadOpener()}$$("#transferConfirm, .TransferUserSettings #newsletter, .ChooseTransferUserName #agb, .TransferUserSettings #agb").addEvent("change",function(){this.get("checked")?this.setProperty("value","1"):this.removeProperty("value")
})});function maxLengthCounter(a){$extend(Element.NativeEvents,{paste:2,input:2});Element.Events.paste={base:(Browser.Engine.presto||(Browser.Engine.gecko&&Browser.Engine.version<19))?"input":"paste",condition:function(b){this.fireEvent("paste",b,1);return false}};textarea=$("messageContent");infoChars=$("showCharacters");
infoChars.set("html",infoChars.get("html").replace(/-?\d+/,a));textarea.addEvent("keydown",function(b){var c=["backspace","delete","left","right","up","down","tab"];if(c.indexOf(b.key)>=0){return true}if(b.control&&(b.key=="x"||b.key=="c"||b.key=="v"||b.key=="y"||b.key=="z"||b.key=="a")){return true}if(textarea.getSelectedText().length>0){return true
}if(textarea.value.length>=a){return false}return true});textarea.addEvent("keyup",function(){checkLength(a)});textarea.addEvent("input",function(b){checkLength(a)})}var checkLength=function(c){if(textarea.value.length>c){textarea.value=textarea.value.substring(0,c)}var b=textarea.value.length;var d=c-b;
var a=infoChars.get("html").replace(/-?\d+/,d);infoChars.set("html",a)};var reloadOpener=function(){$("fnLogin").addEvent("submit",function(){top.opener.setTimeout("top.location.reload()",2000)})};window.addEvent("domready",function(){GTFormTip=new GT.FormTips($$('#register li[title] input[type="text"]','#register li[title] input[type="password"]','#moneyRegister li[title] input[type="text"]','#moneyRegister li[title] input[type="password"]','#settingsPersonal li[title] input[type="text"]','#settingsPersonal li[title] input[type="password"]','#settingsPassword td[title] input[type="text"]','#settingsPassword td[title] input[type="password"]','#passReset td[title] input[type="text"]','#passReset td[title] input[type="password"]'));
passwordStrengh=new GT.PasswordStrength({context:"body.register, body.settings, body.pass_reset, body.ChooseTransferUserName",passField:"pass",nickField:$("nick")?"nick":$("userName")?"userName":"",validationResponse:{length:"pass_sec_length",numberORspecial:"pass_sec_numberORspecial",userName:"pass_sec_username",mixedCase:"pass_sec_mixedCase",numberANDspecial:"pass_sec_numberANDspecial"},popOverMsgs:{length:passwordStrengthPopOverMessages.length,number:passwordStrengthPopOverMessages.number,nick:passwordStrengthPopOverMessages.nick},onVisualFeedbackDisplayed:function(){var a=$(GTFormTipPassword).getChildren("div").get("html");
GTFormTipPassword.updateTip("pass",a)}});if($$(".gamesHelpContent")[0]&&$$(".backToTop")[0]){GT.HandleBackToTop($$(".gamesHelpContent")[0],$$(".backToTop")[0])}});function checkAll(){for(var a=0;a<document.tournAddSecondForm.elements.length;a++){if(document.tournAddSecondForm.elements[a].type=="checkbox"){document.tournAddSecondForm.elements[a].checked="checked"}}}function unCheckAll(){for(var a=0;a<document.tournAddSecondForm.elements.length;a++){if(document.tournAddSecondForm.elements[a].type=="checkbox"){document.tournAddSecondForm.elements[a].checked=""
}}}function setAllCheckBoxes(d,c,a){if(!document.forms[d]){return}var f=document.forms[d].elements[c];if(!f){return}var b=f.length;if(!b){f.checked=a}else{for(var e=0;e<b;e++){f[e].checked=a}}}function toggleAllCheckBoxes(c,b,a){setAllCheckBoxes(c,b,a);if(a){document.getElementById("unmarkthemall").className="fakebutton active";
document.getElementById("markthemall").className="fakebutton"}else{document.getElementById("unmarkthemall").className="fakebutton";document.getElementById("markthemall").className="fakebutton active"}}function checkSubmit(a){if(document.messageActions.cmd.value==5){document.messageActions.del_box.value=document.messageActions.box.value;
if(confirm(a)){document.messageActions.submit()}}else{document.messageActions.del_box.value="";if(document.messageActions.cmd.value!=0){document.messageActions.submit()}}}function count(b,d,a){var f=document.getElementById(b).value;var g=f.length;var c=a-g;var e=document.getElementById(d).innerHTML.replace(/\d+/,c);
document.getElementById(d).innerHTML=e;if(c<1){f=f.substring(0,a-1);document.getElementById(b).value=f}};window.addEvent("domready",function(){new GT.Countdown({elementsSelector:[".to1.tournStatus_3",".to1.tournStatus_8"],countdownTextElementSelectors:["strong.countdown","strong.countdownOver"],cufonCountdownSelectors:[".to1.tournStatus_3 strong",".to1.tournStatus_8 strong"],cufonCountdownCompletedSelectors:[".to1.tournStatus_5 ul li a span"],onSingleTick:function(k,m){if(!k.hasClass("tournStatus_8")){if((m<=900)&&(m>0)){var l=k.getElement(".to1_container a");
k.removeClass("tournStatus_3");k.addClass("tournStatus_8");if(l){l.addEvent("click",function(n){GT.gameWindow(this.href);n.preventDefault()});l.set("href",k.getElement(".switchPlay").get("href"))}}}},onSingleCompleted:function(k){var l=k.getElement(".to1_container a");k.removeClass("tournStatus_8");k.removeClass("tournStatus_3");
k.addClass("tournStatus_5");if(l){l.addEvent("click",function(m){GT.gameWindow(this.href);m.preventDefault()});l.set("href",k.getElement(".switchPlay").get("href"))}}});var c=BODY.hasClass("tournStatus_1");var d=BODY.hasClass("tournStatus_2");var e=BODY.hasClass("tournStatus_3");var f=BODY.hasClass("tournStatus_4");
var g=BODY.hasClass("tournStatus_5");var h=BODY.hasClass("tournStatus_6");var i=BODY.hasClass("tournStatus_7");var j=BODY.hasClass("tournStatus_8");var a=$("landingSend");var b=(a)?a.getElement("span"):false;if(g){if(a){a.addEvent("click",function(k){k.preventDefault();GT.gameWindow(GT_COUNTER.play.href)
})}}else{if(j){if(a){a.addEvent("click",function(k){k.preventDefault();GT.gameWindow(GT_COUNTER.warmup.href)})}}new GT.Countdown({elementsSelector:"#tournamentSignOn",countdownTextElementSelectors:["#countdown"],cufonCountdownSelectors:["#tournamentSignOn p"],cufonCountdownCompletedSelectors:[],onSingleTick:function(n,o){var m=$("countdown2");
if(!BODY.hasClass("tournStatus_8")){if((o<=900)&&(o>0)){var k=$("landingSend");var l=(k)?k.getElement("span"):false;BODY.removeClass("tournStatus_3");BODY.addClass("tournStatus_8");if(m){var p=new Element("a",{"class":"room",href:GT_COUNTER.warmup.href,text:GT_COUNTER.warmup.text,events:{click:function(q){q.preventDefault();
GT.gameWindow(this.href)}}});m.empty();m.grab(p);if(k&&l){l.set("text",GT_COUNTER.warmup.text);k.addEvent("click",function(q){q.preventDefault();GT.gameWindow(GT_COUNTER.warmup.href)});if(window.USE_CUFON&&("function"==typeof Cufon)){Cufon.replace("button.fbSubmit")}}}}else{if(m){m.set("html",this.timeToString(o))
}}}},onSingleCompleted:function(k){var_countdown=$("countdown2");a=$("landingSend");b=a.getElement("span");BODY.removeClass("tournStatus_3").removeClass("tournStatus_8").addClass("tournStatus_5");if(var_countdown){var l=new Element("a",{"class":"room",href:GT_COUNTER.play.href,text:GT_COUNTER.play.text,events:{click:function(m){m.preventDefault();
GT.gameWindow(this.href)}}});countdown2.empty();countdown2.grab(l);if(a&&b){b.set("text",GT_COUNTER.play.text);a.removeEvents("click");a.addEvent("click",function(m){m.preventDefault();GT.gameWindow(GT_COUNTER.play.href)});if(window.USE_CUFON&&("function"==typeof Cufon)){Cufon.replace("button.fbSubmit")
}}}}})}});var tournamentsDetailsDomReady=function(){var b=$("tournamentsReg");var a=$("tournFreerollReg");if(b){var c=$$("#tournamentSignOn #landingSend, #tournamentsReg, #tournamentsNoPlayersYet a"),f=new GT.Request.HTML({method:"get",url:b.get("href"),onFailure:function(g){window.location="/login.asp"},onSuccess:function(k,h,i,j){var g=$("mb_tournament_register");
if(g){g.set("html",i)}else{g=new Element("div",{id:"mb_tournament_register",html:i,styles:{display:"none"}});$$("body").grab(g)}Mediabox.open("#mb_tournament_register","","500 200");if(USE_CUFON&&("function"==typeof Cufon)){Cufon.replace("h3").replace("button");Cufon.refresh(".tipBox h3").refresh(".fbCancel").refresh(".fbApprove")
}doSubscribe()}.bind(this)});c.addEvent("click",function(g){g.preventDefault();f.send("xpf=ax")})}else{if(a){var d=a.get("href");var e=$("landingSend");e.addEvent("click",function(g){g.preventDefault();window.location=d})}}};window.addEvent("domready",tournamentsDetailsDomReady);function doSubscribe(){var e=$("mbLandingCancel");
var a=$("mbLandingSend");var f=/^([^?&]*)(?:(?:\?|&).*)?$/;var h;var b;if(typeOf(f.exec(self.location.href))=="array"){h=f.exec(self.location.href)[1]}var d=new URI(self.location.href);var g=d.parsed.query.parseQueryString();var c=self.location.href;if(h&&g.id_tourn){c="id_tourn="+g.id_tourn;b=h+"?"+c
}if(a){a=a,request=new GT.Request.HTML({method:"get",url:b,onSuccess:function(o,j,k,l){var i=$("mbImage").getElement(".contBox .container");if(i){i.set("html",k)}var m=new URI(document.location.href);var n=s_gi(omnRepSuite);n.linkTrackVars="s.channel,prop1,prop2,prop3,events";n.linkTrackEvents="event21";
n.events="event21";n.tl(true,"o","Gametwist/Tourn/"+m.getData("id_tourn"));if(USE_CUFON&&("function"==typeof Cufon)){Cufon.replace("h3");Cufon.refresh(".fbCancel")}closeMediaBox()}.bind(this)});a.addEvent("click",function(i){i.preventDefault();request.send("doSubscribe=1&xpf=ax")})}if(e){e.addEvent("click",function(i){i.preventDefault();
Mediabox.close()})}}function closeMediaBox(){if($("tournMessages").getElement(".tournSubscriptionSuccess")||$("tournMessages").getElement(".tournSubscriptionError")){var a=[$("mbCloseLink"),$("mbOverlay"),$("mbTournRegFailClose")];a.each(function(b){b.addEvent("click",function(c){c.preventDefault();location.reload();
Mediabox.close()})})}};var konami={input:"",clear:setTimeout("konami.clear_input()",2000),load:function(a){window.document.onkeyup=function(b){konami.input+=b?b.keyCode:event.keyCode;if(konami.input=="3838404037393739666513"){konami.code(a);clearTimeout(konami.clear)}clearTimeout(konami.clear);konami.clear=setTimeout("konami.clear_input()",2000)
}},code:function(a){window.location=a},clear_input:function(){konami.input="";clearTimeout(konami.clear)}};konami.code=function(){$$("html")[0].setStyles({"-webkit-transform":"rotate(-0.5deg)","-moz-transform":"rotate(-0.5deg)",filter:"Blur()"})};konami.load();window.addEvent("load",function(){var b=b?b:$(document.body);if($("lNick")&&b.hasClass("noLeaderBoard")){var i=$("lNick"),j=$("lPass"),h=$("autologin"),a=$("autoLoginContainer");i.addEvents({focus:function(l){a.tween("height","25")},blur:function(l){if(j.value!=""){$$("label.overTxtLabel").setStyle("display","none")
}a.tween("height","0")}});j.addEvents({focus:function(l){a.tween("height","25")},blur:function(l){a.tween("height","0")}});h.addEvents({focus:function(){a.tween("height","25")},blur:function(){a.tween("height","0")}})}if($("languages")&&b.hasClass("noBanner")){var e=$("languages");var f=220;var d=$("wrapper").getStyle("width").toInt()-f+e.getStyle("right").toInt();
var g=$("languages").getStyle("right").toInt();var c=$("eselcornerSmall")?$("eselcornerSmall").getStyle("width").toInt():0;k(e,f,d,g,c);window.addEvent("resize",function(){k(e,f,d,g,c)})}function k(n,o,m,p,l){if(window.getSize().x>($("wrapper").getSize().x+l*2)){b.removeClass("narrowWindow");n.inject($("status"));
n.setStyle("right",p)}else{if(window.getSize().x<m+l){b.removeClass("narrowWindow");n.inject($("status"));n.setStyle("right",o)}else{b.addClass("narrowWindow");n.inject(b,"top");n.setStyle("right",p.toInt()+l)}}}});var nameBig="peelBig",nameSmall="peelSmall";function sizeup987(){$(nameBig).setStyle("top",0);$(nameSmall).setStyle("top",-1000)}function sizedown987(){$(nameSmall).setStyle("top",0);$(nameBig).setStyle("top",-1000)}function peelIt(a){if(a=="d"){$(nameSmall).setStyle("top",0);$(nameBig).setStyle("top",-1000)
}else{if(a=="u"){$(nameBig).setStyle("top",0);$(nameSmall).setStyle("top",-1000)}}}(function(a){this.GT=this.GT||{};this.GT.Peel=this.GT.Peel||new Class({Implements:[Options],options:{pBigName:"peelBig",pBigSize:650,pBigSWF:"large.swf",pSmallName:"peelSmall",pSmallSize:100,pSmallSWF:"cornersmall.swf",resLocation:"//static1.greentube.com/pagepeel/",arrAds:[],lang:"en"},initialize:function(d){this.setOptions(d);
var e=this.options.arrAds[Math.floor(this.options.arrAds.length*Math.random())],b=this.options.resLocation+"/pagepeel/"+e.folder+this.options.lang+"/",f={ico:b+e.small},c={big:b+e.big,ad_url:e.url};this.pCreate(this.options.pSmallName,this.options.pSmallSize,this.options.pSmallSWF,f);this.pCreate(this.options.pBigName,this.options.pBigSize,this.options.pBigSWF,c);
(function(){$$("#peelBig")[0].setStyle("top",-1000)}).delay(1000)},pCreate:function(c,d,e,b){new Element("div",{id:c,styles:{position:"absolute","z-index":9999,right:0,top:0,width:d,height:d,overflow:"hidden"}}).inject(document.body,"bottom");new Element("div",{id:c+"c"}).inject(c);swfobject.embedSWF(this.options.resLocation+"/pagepeel/"+e,c+"c",d,d,"9",this.options.resLocation+"/js/expressInstall.swf",b,{wmode:"transparent",allowscriptaccess:"always"})
}})})(document.id);var DatePicker=new Class({Implements:Options,d:"",today:"",choice:{},bodysize:{},limit:{},attachTo:null,picker:null,slider:null,oldContents:null,newContents:null,input:null,visual:null,options:{pickerClass:"datepicker",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayShort:2,monthShort:3,startDay:1,timePicker:false,timePickerOnly:false,yearPicker:true,yearsPerPage:20,format:"d-m-Y",allowEmpty:false,inputOutputFormat:"U",animationDuration:400,useFadeInOut:!Browser.Engine.trident,startView:"month",positionOffset:{x:0,y:0},minDate:null,maxDate:null,debug:false,toggleElements:null,prevChar:"",nextChar:"",unavailableDates:[],addTimeToInitTime:0,onShow:$empty,onClose:$empty,onSelect:$empty},initialize:function(a,b){this.attachTo=a;
this.setOptions(b).attach();if(this.options.timePickerOnly){this.options.timePicker=true;this.options.startView="time"}this.formatMinMaxDates();this.formatUnavailableDates();document.addEvent("mousedown",this.close.bind(this))},formatMinMaxDates:function(){if(this.options.minDate&&$type(this.options.minDate)!="date"){this.options.minDate=this.unformat(this.options.minDate.date,this.options.minDate.format)
}this.options.minDate.setHours(0);this.options.minDate.setMinutes(0);this.options.minDate.setSeconds(0);if(this.options.maxDate&&$type(this.options.maxDate)!="date"){this.options.maxDate=this.unformat(this.options.maxDate.date,this.options.maxDate.format);this.options.maxDate.setHours(23);this.options.maxDate.setMinutes(59);
this.options.maxDate.setSeconds(59)}},formatUnavailableDates:function(){for(i=0;i<this.options.unavailableDates.length;i++){this.options.unavailableDates[i]=this.unformat(this.options.unavailableDates[i],this.options.format);this.options.unavailableDates[i]=this.options.unavailableDates[i].setHours(0,0,0,0)
}},attach:function(){if($chk(this.options.toggleElements)){var a=$$(this.options.toggleElements);document.addEvents({keydown:function(b){if(b.key=="tab"){this.close(null,true)}}.bind(this)})}$$(this.attachTo).each(function(g,e){if(g.retrieve("datepicker")){return}if($chk(g.get("value"))){var f=this.format(new Date(this.unformat(g.get("value"),this.options.inputOutputFormat)),this.options.format)
}else{if(!this.options.allowEmpty){var b=new Date();b=new Date(b.getTime()+this.options.addTimeToInitTime);var f=this.format(b,this.options.format)}else{var f=""}}var d=g.getStyle("display");var c=g.setStyle("display",this.options.debug?d:"none").set("value",f).store("datepicker",true).clone().store("datepicker",true).removeProperty("name").setStyle("display",d).addClass("datepickerfield").inject(g,"after");
if($chk(this.options.toggleElements)){a[e].setStyle("cursor","pointer").addEvents({click:function(h){this.onFocus(g,c)}.bind(this)});c.addEvents({blur:function(){g.set("value",c.get("value"))}})}else{c.addEvents({keydown:function(h){if(this.options.allowEmpty&&(h.key=="delete"||h.key=="backspace")){g.set("value","");
h.target.set("value","");this.close(null,true)}else{if(h.key=="tab"){this.close(null,true)}else{h.stop()}}}.bind(this),focus:function(h){this.onFocus(g,c)}.bind(this)})}}.bind(this))},onFocus:function(c,e){var b,a=e.getCoordinates();if($chk(c.get("value"))){b=this.unformat(c.get("value"),this.options.inputOutputFormat).valueOf()
}else{b=new Date();if($chk(this.options.maxDate)&&b.valueOf()>this.options.maxDate.valueOf()){b=new Date(this.options.maxDate.valueOf())}if($chk(this.options.minDate)&&b.valueOf()<this.options.minDate.valueOf()){b=new Date(this.options.minDate.valueOf())}}this.show({left:a.left+this.options.positionOffset.x,top:a.top+a.height+this.options.positionOffset.y},b);
this.input=c;this.visual=e;this.options.onShow()},dateToObject:function(a){return{year:a.getFullYear(),month:a.getMonth(),day:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds()}},dateFromObject:function(b){var a=new Date();a.setDate(1);["year","month","day","hours","minutes","seconds"].each(function(c){var d=b[c];
if(!$chk(d)){return}switch(c){case"day":a.setDate(d);break;case"month":a.setMonth(d);break;case"year":a.setFullYear(d);break;case"hours":a.setHours(d);break;case"minutes":a.setMinutes(d);break;case"seconds":a.setSeconds(d);break}});return a},show:function(a,b){this.formatMinMaxDates();if($chk(b)){this.d=new Date(b)
}else{this.d=new Date()}this.d=new Date(this.d.getTime()+this.options.addTimeToInitTime);this.today=new Date();this.choice=this.dateToObject(this.d);this.mode=(this.options.startView=="time"&&!this.options.timePicker)?"month":this.options.startView;this.render();this.picker.setStyles(a)},render:function(a){if(!$chk(this.picker)){this.constructPicker()
}else{var b=this.oldContents;this.oldContents=this.newContents;this.newContents=b;this.newContents.empty()}var c=new Date(this.d.getTime());this.limit={right:false,left:false};if(this.mode=="decades"){this.renderDecades()}else{if(this.mode=="year"){this.renderYear()}else{if(this.mode=="time"){this.renderTime();
this.limit={right:true,left:true}}else{this.renderMonth()}}}this.picker.getElement(".previous").setStyle("visibility",this.limit.left?"hidden":"visible");this.picker.getElement(".next").setStyle("visibility",this.limit.right?"hidden":"visible");this.picker.getElement(".titleText").setStyle("cursor",this.allowZoomOut()?"pointer":"default");
this.d=c;if(this.picker.getStyle("opacity")==0){this.picker.tween("opacity",0,1)}if($chk(a)){this.fx(a)}},fx:function(a){if(a=="right"){this.oldContents.setStyles({left:0,opacity:1});this.newContents.setStyles({left:this.bodysize.x,opacity:1});this.slider.setStyle("left",0).tween("left",0,-this.bodysize.x)
}else{if(a=="left"){this.oldContents.setStyles({left:this.bodysize.x,opacity:1});this.newContents.setStyles({left:0,opacity:1});this.slider.setStyle("left",-this.bodysize.x).tween("left",-this.bodysize.x,0)}else{if(a=="fade"){this.slider.setStyle("left",0);this.oldContents.setStyle("left",0).set("tween",{duration:this.options.animationDuration/2}).tween("opacity",1,0);
this.newContents.setStyles({opacity:0,left:0}).set("tween",{duration:this.options.animationDuration}).tween("opacity",0,1)}}}},constructPicker:function(){this.picker=new Element("div",{"class":this.options.pickerClass}).inject(document.body);if(this.options.useFadeInOut){this.picker.setStyle("opacity",0).set("tween",{duration:this.options.animationDuration})
}var c=new Element("div",{"class":"header"}).inject(this.picker);var d=new Element("div",{"class":"title"}).inject(c);new Element("div",{"class":"previous"}).addEvent("click",this.previous.bind(this)).set("text",this.options.prevChar).inject(c);new Element("div",{"class":"next"}).addEvent("click",this.next.bind(this)).set("text",this.options.nextChar).inject(c);
new Element("div",{"class":"closeButton"}).addEvent("click",this.close.bindWithEvent(this,true)).set("text","x").inject(c);new Element("span",{"class":"titleText"}).addEvent("click",this.zoomOut.bind(this)).inject(d);var a=new Element("div",{"class":"body"}).inject(this.picker);this.bodysize=a.getSize();
this.slider=new Element("div",{styles:{position:"absolute",top:0,left:0,width:2*this.bodysize.x,height:this.bodysize.y}}).set("tween",{duration:this.options.animationDuration,transition:Fx.Transitions.Quad.easeInOut}).inject(a);this.oldContents=new Element("div",{styles:{position:"absolute",top:0,left:this.bodysize.x,width:this.bodysize.x,height:this.bodysize.y}}).inject(this.slider);
this.newContents=new Element("div",{styles:{position:"absolute",top:0,left:0,width:this.bodysize.x,height:this.bodysize.y}}).inject(this.slider)},renderTime:function(){var a=new Element("div",{"class":"time"}).inject(this.newContents);if(this.options.timePickerOnly){this.picker.getElement(".titleText").set("text","Select a time")
}else{this.picker.getElement(".titleText").set("text",this.format(this.d,"j M, Y"))}new Element("input",{type:"text","class":"hour"}).set("value",this.leadZero(this.d.getHours())).addEvents({mousewheel:function(b){var c=b.target,d=c.get("value").toInt();c.focus();if(b.wheel>0){d=(d<23)?d+1:0}else{d=(d>0)?d-1:23
}c.set("value",this.leadZero(d));b.stop()}.bind(this)}).set("maxlength",2).inject(a);new Element("input",{type:"text","class":"minutes"}).set("value",this.leadZero(this.d.getMinutes())).addEvents({mousewheel:function(b){var c=b.target,d=c.get("value").toInt();c.focus();if(b.wheel>0){d=(d<59)?d+1:0}else{d=(d>0)?d-1:59
}c.set("value",this.leadZero(d));b.stop()}.bind(this)}).set("maxlength",2).inject(a);new Element("div",{"class":"separator"}).set("text",":").inject(a);new Element("input",{type:"submit",value:"OK","class":"ok"}).addEvents({click:function(b){b.stop();var c=this.picker.getElement(".hour"),f=this.picker.getElement(".minutes"),d=c.get("value"),g=f.get("value");
c.removeClass("error");f.removeClass("error");if(isNaN(d)||d>23||!d){c.addClass("error")}else{if(isNaN(g)||g>59||!g){f.addClass("error")}else{this.select($merge(this.dateToObject(this.d),{hours:d,minutes:g}))}}}.bind(this)}).set("maxlength",2).inject(a)},renderMonth:function(){var l=this.d.getMonth();
this.picker.getElement(".titleText").set("text",this.options.months[l]+" "+this.d.getFullYear());this.d.setDate(1);while(this.d.getDay()!=this.options.startDay){this.d.setDate(this.d.getDate()-1)}var c=new Element("div",{"class":"days"}).inject(this.newContents);var n=new Element("div",{"class":"titles"}).inject(c);
var g,j,b,h,o;for(g=this.options.startDay;g<(this.options.startDay+7);g++){new Element("div",{"class":"title day day"+(g%7)}).set("text",this.options.days[(g%7)].substring(0,this.options.dayShort)).inject(n)}var a=false;var k=false;var m=this.today.toDateString();var f=this.dateFromObject(this.choice).toDateString();
for(j=0;j<42;j++){b=[];b.push("day");b.push("day"+this.d.getDay());if(this.d.toDateString()==m){b.push("today")}if(this.d.toDateString()==f){b.push("selected")}if(this.d.getMonth()!=l){b.push("otherMonth")}if(j%7==0){o=new Element("div",{"class":"week week"+(Math.floor(j/7))}).inject(c)}h=new Element("div",{"class":b.join(" ")}).set("text",this.d.getDate()).inject(o);
if(this.limited("date")){h.addClass("unavailable");if(a){this.limit.right=true}else{if(this.d.getMonth()==l){this.limit.left=true}}}else{if(this.options.unavailableDates.indexOf(this.d.setHours(0,0,0,0))!=-1){h.addClass("unavailable")}else{a=true;h.addEvent("click",function(q,p){if(this.options.timePicker){this.d.setDate(p.day);
this.d.setMonth(p.month);this.mode="time";this.render("fade")}else{this.select(p)}}.bindWithEvent(this,{day:this.d.getDate(),month:this.d.getMonth(),year:this.d.getFullYear()}))}}this.d.setDate(this.d.getDate()+1)}if(!a){this.limit.right=true}},renderYear:function(){var f=this.today.getMonth();var h=this.d.getFullYear()==this.today.getFullYear();
var g=this.d.getFullYear()==this.choice.year;this.picker.getElement(".titleText").set("text",this.d.getFullYear());this.d.setMonth(0);var d,c;var a=false;var b=new Element("div",{"class":"months"}).inject(this.newContents);for(d=0;d<=11;d++){c=new Element("div",{"class":"month month"+(d+1)+(d==f&&h?" today":"")+(d==this.choice.month&&g?" selected":"")}).set("text",this.options.monthShort?this.options.months[d].substring(0,this.options.monthShort):this.options.months[d]).inject(b);
if(this.limited("month")&&!(d==f&&h)){c.addClass("unavailable");if(a){this.limit.right=true}else{this.limit.left=true}}else{a=true;c.addEvent("click",function(k,j){this.d.setDate(1);this.d.setMonth(j);this.mode="month";this.render("fade")}.bindWithEvent(this,d))}this.d.setMonth(d)}if(!a){this.limit.right=true
}},renderDecades:function(){while(this.d.getFullYear()%this.options.yearsPerPage>0){this.d.setFullYear(this.d.getFullYear()-1)}this.picker.getElement(".titleText").set("text",this.d.getFullYear()+"-"+(this.d.getFullYear()+this.options.yearsPerPage-1));var d,f,c;var a=false;var b=new Element("div",{"class":"years"}).inject(this.newContents);
if($chk(this.options.minDate)&&this.d.getFullYear()<=this.options.minDate.getFullYear()){this.limit.left=true}for(d=0;d<this.options.yearsPerPage;d++){f=this.d.getFullYear();c=new Element("div",{"class":"year year"+d+(f==this.today.getFullYear()?" today":"")+(f==this.choice.year?" selected":"")}).set("text",f).inject(b);
if(this.limited("year")){c.addClass("unavailable");if(a){this.limit.right=true}else{this.limit.left=true}}else{a=true;c.addEvent("click",function(h,g){this.d.setFullYear(g);this.mode="year";this.render("fade")}.bindWithEvent(this,f))}this.d.setFullYear(this.d.getFullYear()+1)}if(!a){this.limit.right=true
}if($chk(this.options.maxDate)&&this.d.getFullYear()>=this.options.maxDate.getFullYear()){this.limit.right=true}},limited:function(d){var b=$chk(this.options.minDate);var a=$chk(this.options.maxDate);if(!b&&!a){return false}switch(d){case"year":return(b&&this.d.getFullYear()<this.options.minDate.getFullYear())||(a&&this.d.getFullYear()>this.options.maxDate.getFullYear());
case"month":var c=(""+this.d.getFullYear()+this.leadZero(this.d.getMonth())).toInt();return b&&c<(""+this.options.minDate.getFullYear()+this.leadZero(this.options.minDate.getMonth())).toInt()||a&&c>(""+this.options.maxDate.getFullYear()+this.leadZero(this.options.maxDate.getMonth())).toInt();case"date":return(b&&this.d<this.options.minDate)||(a&&this.d>this.options.maxDate)
}},allowZoomOut:function(){if(this.mode=="time"&&this.options.timePickerOnly){return false}if(this.mode=="decades"){return false}if(this.mode=="year"&&!this.options.yearPicker){return false}return true},zoomOut:function(){if(!this.allowZoomOut()){return}if(this.mode=="year"){this.mode="decades"}else{if(this.mode=="time"){this.mode="month"
}else{this.mode="year"}}this.render("fade")},previous:function(){if(this.mode=="decades"){this.d.setFullYear(this.d.getFullYear()-this.options.yearsPerPage)}else{if(this.mode=="year"){this.d.setFullYear(this.d.getFullYear()-1)}else{if(this.mode=="month"){this.d.setMonth(this.d.getMonth()-1)}}}this.render("left")
},next:function(){if(this.mode=="decades"){this.d.setFullYear(this.d.getFullYear()+this.options.yearsPerPage)}else{if(this.mode=="year"){this.d.setFullYear(this.d.getFullYear()+1)}else{if(this.mode=="month"){this.d.setMonth(this.d.getMonth()+1)}}}this.render("right")},close:function(b,c){if(!$(this.picker)){return
}var a=($chk(b)&&b.target!=this.picker&&!this.picker.hasChild(b.target)&&b.target!=this.visual);if(c||a){if(this.options.useFadeInOut){this.picker.set("tween",{duration:this.options.animationDuration/2,onComplete:this.destroy.bind(this)}).tween("opacity",1,0)}else{this.destroy()}}},destroy:function(){this.picker.destroy();
this.picker=null;this.options.onClose()},select:function(b){this.choice=$merge(this.choice,b);var a=this.dateFromObject(this.choice);this.input.set("value",this.format(a,this.options.inputOutputFormat));this.visual.set("value",this.format(a,this.options.format));this.options.onSelect(a);this.close(null,true)
},leadZero:function(a){return a<10?"0"+a:a},format:function(g,b){var a="";var c=g.getHours();var e=g.getMonth();for(var d=0;d<b.length;d++){switch(b.charAt(d)){case"\\":d++;a+=b.charAt(d);break;case"y":a+=(100+g.getYear()+"").substring(1);break;case"Y":a+=g.getFullYear();break;case"m":a+=this.leadZero(e+1);
break;case"n":a+=(e+1);break;case"M":a+=this.options.months[e].substring(0,this.options.monthShort);break;case"F":a+=this.options.months[e];break;case"d":a+=this.leadZero(g.getDate());break;case"j":a+=g.getDate();break;case"D":a+=this.options.days[g.getDay()].substring(0,this.options.dayShort);break;
case"l":a+=this.options.days[g.getDay()];break;F;case"G":a+=c;break;case"H":a+=this.leadZero(c);break;case"g":a+=(c%12?c%12:12);break;case"h":a+=this.leadZero(c%12?c%12:12);break;case"a":a+=(c>11?"pm":"am");break;case"A":a+=(c>11?"PM":"AM");break;case"i":a+=this.leadZero(g.getMinutes());break;case"s":a+=this.leadZero(g.getSeconds());
break;case"U":a+=Math.floor(g.valueOf()/1000);break;default:a+=b.charAt(d)}}return a},unformat:function(k,g){var f=new Date();var b={};var e,j;k=k.toString();for(var h=0;h<g.length;h++){e=g.charAt(h);switch(e){case"\\":r=null;h++;break;case"y":r="[0-9]{2}";break;case"Y":r="[0-9]{4}";break;case"m":r="0[1-9]|1[012]";
break;case"n":r="[1-9]|1[012]";break;case"M":r="[A-Za-z]{"+this.options.monthShort+"}";break;case"F":r="[A-Za-z]+";break;case"d":r="0[1-9]|[12][0-9]|3[01]";break;case"j":r="[1-9]|[12][0-9]|3[01]";break;case"D":r="[A-Za-z]{"+this.options.dayShort+"}";break;case"l":r="[A-Za-z]+";break;case"G":case"H":case"g":case"h":r="[0-9]{1,2}";
break;case"a":r="(am|pm)";break;case"A":r="(AM|PM)";break;case"i":case"s":r="[012345][0-9]";break;case"U":r="-?[0-9]+$";break;default:r=null}if($chk(r)){j=k.match("^"+r);if($chk(j)){b[e]=j[0];k=k.substring(b[e].length)}else{if(this.options.debug){alert("Fatal Error in DatePicker\n\nUnexpected format at: '"+k+"' expected format character '"+e+"' (pattern '"+r+"')")
}return f}}else{k=k.substring(1)}}for(e in b){var l=b[e];switch(e){case"y":f.setFullYear(l<30?2000+l.toInt():1900+l.toInt());break;case"Y":f.setFullYear(l);break;case"m":case"n":f.setMonth(l-1);break;case"M":l=this.options.months.filter(function(c,a){return c.substring(0,this.options.monthShort)==l}.bind(this))[0];
case"F":f.setMonth(this.options.months.indexOf(l));break;case"d":case"j":f.setDate(l);break;case"G":case"H":f.setHours(l);break;case"g":case"h":if(b.a=="pm"||b.A=="PM"){f.setHours(l==12?0:l.toInt()+12)}else{f.setHours(l)}break;case"i":f.setMinutes(l);break;case"s":f.setSeconds(l);break;case"U":f=new Date(l.toInt()*1000)
}}return f}});var swfobject=function(){var ae="undefined",aG="object",aJ="Shockwave Flash",aR="ShockwaveFlash.ShockwaveFlash",aE="application/x-shockwave-flash",aH="SWFObjectExprInst",aS="onreadystatechange",aB=window,ap=document,aK=navigator,aL=false,aN=[al],aA=[],az=[],ao=[],au,aF,ag,aa,aq=false,X=false,ay,ak,aw=true,ax=function(){var a=typeof ap.getElementById!=ae&&typeof ap.getElementsByTagName!=ae&&typeof ap.createElement!=ae,h=aK.userAgent.toLowerCase(),j=aK.platform.toLowerCase(),e=j?/win/.test(j):/win/.test(h),c=j?/mac/.test(j):/mac/.test(h),f=/webkit/.test(h)?parseFloat(h.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,i=!+"\v1",g=[0,0,0],b=null;
if(typeof aK.plugins!=ae&&typeof aK.plugins[aJ]==aG){b=aK.plugins[aJ].description;if(b&&!(typeof aK.mimeTypes!=ae&&aK.mimeTypes[aE]&&!aK.mimeTypes[aE].enabledPlugin)){aL=true;i=false;b=b.replace(/^.*\s+(\S+\s+\S+$)/,"$1");g[0]=parseInt(b.replace(/^(.*)\..*$/,"$1"),10);g[1]=parseInt(b.replace(/^.*\.(.*)\s.*$/,"$1"),10);
g[2]=/[a-zA-Z]/.test(b)?parseInt(b.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof aB.ActiveXObject!=ae){try{var d=new ActiveXObject(aR);if(d){b=d.GetVariable("$version");if(b){i=true;b=b.split(" ")[1].split(",");g=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)]}}}catch(k){}}}return{w3:a,pv:g,wk:f,ie:i,win:e,mac:c}
}(),ar=function(){if(!ax.w3){return}if((typeof ap.readyState!=ae&&ap.readyState=="complete")||(typeof ap.readyState==ae&&(ap.getElementsByTagName("body")[0]||ap.body))){ah()}if(!aq){if(typeof ap.addEventListener!=ae){ap.addEventListener("DOMContentLoaded",ah,false)}if(ax.ie&&ax.win){ap.attachEvent(aS,function(){if(ap.readyState=="complete"){ap.detachEvent(aS,arguments.callee);
ah()}});if(aB==top){(function(){if(aq){return}try{ap.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}ah()})()}}if(ax.wk){(function(){if(aq){return}if(!/loaded|complete/.test(ap.readyState)){setTimeout(arguments.callee,0);return}ah()})()}aI(ah)}}();function ah(){if(aq){return
}try{var d=ap.getElementsByTagName("body")[0].appendChild(ac("span"));d.parentNode.removeChild(d)}catch(a){return}aq=true;var b=aN.length;for(var c=0;c<b;c++){aN[c]()}}function at(a){if(aq){a()}else{aN[aN.length]=a}}function aI(b){if(typeof aB.addEventListener!=ae){aB.addEventListener("load",b,false)
}else{if(typeof ap.addEventListener!=ae){ap.addEventListener("load",b,false)}else{if(typeof aB.attachEvent!=ae){an(aB,"onload",b)}else{if(typeof aB.onload=="function"){var a=aB.onload;aB.onload=function(){a();b()}}else{aB.onload=b}}}}}function al(){if(aL){aP()}else{am()}}function aP(){var b=ap.getElementsByTagName("body")[0];
var a=ac(aG);a.setAttribute("type",aE);var d=b.appendChild(a);if(d){var c=0;(function(){if(typeof d.GetVariable!=ae){var e=d.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");ax.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}}else{if(c<10){c++;setTimeout(arguments.callee,10);return
}}b.removeChild(a);d=null;am()})()}else{am()}}function am(){var g=aA.length;if(g>0){for(var f=0;f<g;f++){var k=aA[f].id;var b=aA[f].callbackFn;var a={success:false,id:k};if(ax.pv[0]>0){var e=ab(k);if(e){if(ai(aA[f].swfVersion)&&!(ax.wk&&ax.wk<312)){aQ(k,true);if(b){a.success=true;a.ref=aU(k);b(a)}}else{if(aA[f].expressInstall&&Y()){var i={};
i.data=aA[f].expressInstall;i.width=e.getAttribute("width")||"0";i.height=e.getAttribute("height")||"0";if(e.getAttribute("class")){i.styleclass=e.getAttribute("class")}if(e.getAttribute("align")){i.align=e.getAttribute("align")}var h={};var j=e.getElementsByTagName("param");var c=j.length;for(var d=0;
d<c;d++){if(j[d].getAttribute("name").toLowerCase()!="movie"){h[j[d].getAttribute("name")]=j[d].getAttribute("value")}}aD(i,h,k,b)}else{aC(e);if(b){b(a)}}}}}else{aQ(k,true);if(b){var l=aU(k);if(l&&typeof l.SetVariable!=ae){a.success=true;a.ref=l}b(a)}}}}}function aU(a){var b=null;var c=ab(a);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=ae){b=c
}else{var d=c.getElementsByTagName(aG)[0];if(d){b=d}}}return b}function Y(){return !X&&ai("6.0.65")&&(ax.win||ax.mac)&&!(ax.wk&&ax.wk<312)}function aD(a,b,f,h){X=true;ag=h||null;aa={success:false,id:f};var e=ab(f);if(e){if(e.nodeName=="OBJECT"){au=aj(e);aF=null}else{au=e;aF=f}a.id=aH;if(typeof a.width==ae||(!/%$/.test(a.width)&&parseInt(a.width,10)<310)){a.width="310"
}if(typeof a.height==ae||(!/%$/.test(a.height)&&parseInt(a.height,10)<137)){a.height="137"}ap.title=ap.title.slice(0,47)+" - Flash Player Installation";var d=ax.ie&&ax.win?"ActiveX":"PlugIn",c="MMplayerType="+d+"&MMdoctitle="+ap.title;if(typeof b.flashvars!=ae){b.flashvars+="&"+c}else{b.flashvars=c}if(ax.ie&&ax.win&&e.readyState!=4){var g=ac("div");
f+="SWFObjectNew";g.setAttribute("id",f);e.parentNode.insertBefore(g,e);e.style.display="none";(function(){if(e.readyState==4){e.parentNode.removeChild(e)}else{setTimeout(arguments.callee,10)}})()}aM(a,b,f)}}function aC(b){if(ax.ie&&ax.win&&b.readyState!=4){var a=ac("div");b.parentNode.insertBefore(a,b);
a.parentNode.replaceChild(aj(b),a);b.style.display="none";(function(){if(b.readyState==4){b.parentNode.removeChild(b)}else{setTimeout(arguments.callee,10)}})()}else{b.parentNode.replaceChild(aj(b),b)}}function aj(b){var a=ac("div");if(ax.win&&ax.ie){a.innerHTML=b.innerHTML}else{var e=b.getElementsByTagName(aG)[0];
if(e){var c=e.childNodes;if(c){var d=c.length;for(var f=0;f<d;f++){if(!(c[f].nodeType==1&&c[f].nodeName=="PARAM")&&!(c[f].nodeType==8)){a.appendChild(c[f].cloneNode(true))}}}}}return a}function aM(i,g,k){var j,a=ab(k);if(ax.wk&&ax.wk<312){return j}if(a){if(typeof i.id==ae){i.id=k}if(ax.ie&&ax.win){var h="";
for(var e in i){if(i[e]!=Object.prototype[e]){if(e.toLowerCase()=="data"){g.movie=i[e]}else{if(e.toLowerCase()=="styleclass"){h+=' class="'+i[e]+'"'}else{if(e.toLowerCase()!="classid"){h+=" "+e+'="'+i[e]+'"'}}}}}var f="";for(var d in g){if(g[d]!=Object.prototype[d]){f+='<param name="'+d+'" value="'+g[d]+'" />'
}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+h+">"+f+"</object>";az[az.length]=i.id;j=ab(i.id)}else{var l=ac(aG);l.setAttribute("type",aE);for(var c in i){if(i[c]!=Object.prototype[c]){if(c.toLowerCase()=="styleclass"){l.setAttribute("class",i[c])}else{if(c.toLowerCase()!="classid"){l.setAttribute(c,i[c])
}}}}for(var b in g){if(g[b]!=Object.prototype[b]&&b.toLowerCase()!="movie"){af(l,b,g[b])}}a.parentNode.replaceChild(l,a);j=l}}return j}function af(d,b,c){var a=ac("param");a.setAttribute("name",b);a.setAttribute("value",c);d.appendChild(a)}function aT(b){var a=ab(b);if(a&&a.nodeName=="OBJECT"){if(ax.ie&&ax.win){a.style.display="none";
(function(){if(a.readyState==4){Z(b)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.removeChild(a)}}}function Z(c){var b=ab(c);if(b){for(var a in b){if(typeof b[a]=="function"){b[a]=null}}b.parentNode.removeChild(b)}}function ab(c){var a=null;try{a=ap.getElementById(c)}catch(b){}return a
}function ac(a){return ap.createElement(a)}function an(c,a,b){c.attachEvent(a,b);ao[ao.length]=[c,a,b]}function ai(c){var b=ax.pv,a=c.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return(b[0]>a[0]||(b[0]==a[0]&&b[1]>a[1])||(b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]))?true:false
}function aO(c,f,d,b){if(ax.ie&&ax.mac){return}var a=ap.getElementsByTagName("head")[0];if(!a){return}var e=(d&&typeof d=="string")?d:"screen";if(b){ay=null;ak=null}if(!ay||ak!=e){var g=ac("style");g.setAttribute("type","text/css");g.setAttribute("media",e);ay=a.appendChild(g);if(ax.ie&&ax.win&&typeof ap.styleSheets!=ae&&ap.styleSheets.length>0){ay=ap.styleSheets[ap.styleSheets.length-1]
}ak=e}if(ax.ie&&ax.win){if(ay&&typeof ay.addRule==aG){ay.addRule(c,f)}}else{if(ay&&typeof ap.createTextNode!=ae){ay.appendChild(ap.createTextNode(c+" {"+f+"}"))}}}function aQ(c,a){if(!aw){return}var b=a?"visible":"hidden";if(aq&&ab(c)){ab(c).style.visibility=b}else{aO("#"+c,"visibility:"+b)}}function av(b){var c=/[\\\"<>\.;]/;
var a=c.exec(b)!=null;return a&&typeof encodeURIComponent!=ae?encodeURIComponent(b):b}var ad=function(){if(ax.ie&&ax.win){window.attachEvent("onunload",function(){var c=ao.length;for(var b=0;b<c;b++){ao[b][0].detachEvent(ao[b][1],ao[b][2])}var f=az.length;for(var a=0;a<f;a++){aT(az[a])}for(var e in ax){ax[e]=null
}ax=null;for(var d in swfobject){swfobject[d]=null}swfobject=null})}}();return{registerObject:function(b,c,a,e){if(ax.w3&&b&&c){var d={};d.id=b;d.swfVersion=c;d.expressInstall=a;d.callbackFn=e;aA[aA.length]=d;aQ(b,false)}else{if(e){e({success:false,id:b})}}},getObjectById:function(a){if(ax.w3){return aU(a)
}},embedSWF:function(b,h,e,g,j,a,k,d,f,c){var i={success:false,id:h};if(ax.w3&&!(ax.wk&&ax.wk<312)&&b&&h&&e&&g&&j){aQ(h,false);at(function(){e+="";g+="";var m={};if(f&&typeof f===aG){for(var o in f){m[o]=f[o]}}m.data=b;m.width=e;m.height=g;var p={};if(d&&typeof d===aG){for(var n in d){p[n]=d[n]}}if(k&&typeof k===aG){for(var l in k){if(typeof p.flashvars!=ae){p.flashvars+="&"+l+"="+k[l]
}else{p.flashvars=l+"="+k[l]}}}if(ai(j)){var q=aM(m,p,h);if(m.id==h){aQ(h,true)}i.success=true;i.ref=q}else{if(a&&Y()){m.data=a;aD(m,p,h,c);return}else{aQ(h,true)}}if(c){c(i)}})}else{if(c){c(i)}}},switchOffAutoHideShow:function(){aw=false},ua:ax,getFlashPlayerVersion:function(){return{major:ax.pv[0],minor:ax.pv[1],release:ax.pv[2]}
},hasFlashPlayerVersion:ai,createSWF:function(c,b,a){if(ax.w3){return aM(c,b,a)}else{return undefined}},showExpressInstall:function(d,a,b,c){if(ax.w3&&Y()){aD(d,a,b,c)}},removeSWF:function(a){if(ax.w3){aT(a)}},createCSS:function(a,d,c,b){if(ax.w3){aO(a,d,c,b)}},addDomLoadEvent:at,addLoadEvent:aI,getQueryParamValue:function(a){var d=ap.location.search||ap.location.hash;
if(d){if(/\?/.test(d)){d=d.split("?")[1]}if(a==null){return av(d)}var c=d.split("&");for(var b=0;b<c.length;b++){if(c[b].substring(0,c[b].indexOf("="))==a){return av(c[b].substring((c[b].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(X){var a=ab(aH);if(a&&au){a.parentNode.replaceChild(au,a);
if(aF){aQ(aF,true);if(ax.ie&&ax.win){au.style.display="block"}}if(ag){ag(aa)}}X=false}}}}();window.addEvent("domready",function(){if($("main")){var d=$("main");var e=new GT.PaymentTip(d.getElements(".paymentTable tbody tr, .lastpayment"),{offset:{x:0,y:22},delayHide:700,durationShow:200,durationHide:200})}if($("showCountryCurrencyForm")){var b=new GT.CountryCurrencyForm({opener:$("showCountryCurrencyForm")})
}if($("paymentToolTip")){BODY.addEvent("click:relay(#paymentToolTip a)",function(i,h){i.preventDefault();window.open(h.href,"_blank")})}if($("countryCurrencyForm")&&$("selectCountry")&&$("selectCurrency")){var g,f;var a=$$("#selectCountry option"),c=$$("#selectCurrency option");$("selectCountry").addEvent("change",function(){f=$("selectCountry").get("value");
g=$("selectCountry").getElements("option[value="+f+"]")[0].getProperty("relatedCurr");$("selectCurrency").getElements("option[value="+g+"]")[0].setProperty("selected","selected")})}});(function(a){this.GT=this.GT||{};this.GT.PaymentTip=this.GT.PaymentTip||new Class({Implements:[Options,Events],options:{offset:{x:0,y:0},delayHide:200,durationShow:200,durationHide:100},initialize:function(c,b){this.setOptions(b);this.paymentSelector=$$(c);this.currentlyHoveredElement=null;this.currentlyActiveElement=null;
this.container=a("paymentToolTip");this.timerHide;this.content;if(this.paymentSelector.length){this.prepareElements();this.prepareTweens();this.init()}},init:function(){this.container.setStyles({opacity:0,top:-9999,left:-9999,display:"block"});this.container.addEvents({mouseenter:function(b){this.timerHide=$clear(this.timerHide)
}.bindWithEvent(this),mouseleave:function(b){this.timerHide=$clear(this.timerHide);this.timerHide=this.hide.delay(this.options.delayHide,this)}.bindWithEvent(this)})},prepareElements:function(){this.paymentSelector.each(function(b,d){if(b.getElement("div.paymentDescContainer p.desc").get("html")){var c=new GT.HoverIntent({element:b,sensitivity:1,delay:200,mouseEnter:function(){this.currentlyHoveredElement=b
}.bind(this),mouseLeave:function(){this.timerHide=$clear(this.timerHide);this.timerHide=this.hide.delay(this.options.delayHide,this)}.bind(this),hoverIntent:function(){if(this.timerHide){this.timerHide=$clear(this.timerHide);if(this.currentlyActiveElement!=this.currentlyHoveredElement){this.hideAndShow()
}}else{this.currentlyActiveElement=null;this.show()}}.bind(this)})}},this)},prepareTweens:function(){this.tweenShow=new Fx.Tween(this.container,{link:"cancel",duration:this.options.durationShow,transition:"cubic:out",onStart:function(){if(this.TweenHide){this.TweenHide.cancel()}if(this.tweenHideAndShow){this.tweenHideAndShow.cancel()
}}.bind(this)});this.tweenHide=new Fx.Tween(this.container,{link:"cancel",duration:this.options.durationHide,transition:"cubic:out",onComplete:function(){this.timerHide=$clear(this.timerHide);this.container.setStyles({top:-99999,left:-99999})}.bind(this),onStart:function(){if(this.tweenShow){this.tweenShow.cancel()
}if(this.tweenHideAndShow){this.tweenHideAndShow.cancel()}}.bind(this)});this.tweenHideAndShow=new Fx.Tween(this.container,{link:"cancel",duration:this.options.durationHide,transition:"cubic:out",onComplete:function(){this.show()}.bind(this),onStart:function(){if(this.tweenShow){this.tweenShow.cancel()
}if(this.TweenHide){this.TweenHide.cancel()}}.bind(this)})},show:function(){this.currentlyActiveElement=this.currentlyHoveredElement;this.setPosition();if(IE){this.tweenShow.set("opacity",1);this.tweenShow.start("opacity",1)}else{this.tweenShow.start("opacity",1)}},hide:function(){if(0!==this.container.getStyle("opacity")){if(this.currentlyActiveElement){this.currentlyActiveElement=null
}if(IE){this.tweenHide.set("opacity",0);this.tweenHide.start("opacity",0)}else{this.tweenHide.start("opacity",0)}}},hideAndShow:function(){if(this.currentlyActiveElement){this.currentlyActiveElement=null}if(IE){this.tweenHideAndShow.set("opacity",0);this.tweenHideAndShow.start("opacity",0)}else{this.tweenHideAndShow.start("opacity",0)
}},setPosition:function(){var d=this.currentlyActiveElement,b=d.getElement("button.formButton").getPosition("wrapper"),c=d.getElement("button.formButton").getStyle("width").toInt();this.content=d.getElement("div.paymentDescContainer p.desc").get("html");this.container.getElement("div.toolTipText div.desc").set("html",this.content);
this.container.setStyles({top:b.y-this.options.offset.y,left:b.x+c+this.options.offset.x})}})})(document.id);(function(a){this.GT=this.GT||{};this.GT.CountryCurrencyForm=this.GT.CountryCurrencyForm||new Class({Implements:[Options,Events],options:{opener:""},initialize:function(b){this.setOptions(b);this.opener=this.options.opener;this.frameOverlay;this.body=a(document.body);this.form=a("countryCurrencyForm");
this.opener.addEvent("click",function(c){c.preventDefault();this.createFormOverlay()}.bind(this))},createFormOverlay:function(){if(!a("countryCurrencyFormContainer")){var e=new Element("div",{id:"countryCurrencyFormContainer"});var b=new Element("div",{id:"formCloseBtn"});var c=new Element("a",{href:"javascript:void(0)"});
var d=new Element("span",{text:"close"});d.inject(c);c.inject(b);e.setStyle("opacity",0);this.form.setStyle("display","block");this.form.inject(e);b.inject(e);this.body.grab(e);var f=new Mask(this.body,{hideOnClick:false,id:"showFormContainerMask",useIframeShim:true,style:{position:"absolute",zIndex:999,background:"#fff",display:"block",opacity:0},onClick:function(){this.hideFrame(this.mask,e)
}.bind(this)});f.show();this.frameOverlay=e;this.mask=f.element;this.showMask(f.element,e)}},showMask:function(c,b){c.setStyle("width","100%");var d=new Fx.Tween(c,{duration:"normal",onComplete:function(){if(b){this.showFrame(b)}}.bind(this)});d.start("opacity","0.7")},showFrame:function(b){var c=new Fx.Tween(b,{duration:"normal",onComplete:function(){this.focusFirstEle()
}.bind(this)});c.start("opacity",1)},focusFirstEle:function(){var b=this.frameOverlay.getElements("input[type!=hidden], select, textarea");if(b){b[0].focus()}this.setCloseBtnEvent()},setCloseBtnEvent:function(){var b=a("formCloseBtn");if(b){b.addEvent("click",function(c){c.preventDefault();this.hideFrame(this.mask,this.frameOverlay)
}.bind(this))}this.frameOverlay.addEvent("keydown",function(c){if(c.key=="esc"){this.hideFrame(this.mask,this.frameOverlay)}}.bind(this))},hideFrame:function(c,b){var d=new Fx.Tween(b,{duration:"normal",onComplete:function(){if(c){this.hideMask(c,b)}}.bind(this)});d.start("opacity",0)},hideMask:function(c,b){var d=new Fx.Tween(c,{duration:"normal",onComplete:function(){c.destroy();
b.dispose();if("element"===$type($$(".iframeShim")[0])){$$(".iframeShim")[0].dispose()}}.bind(this)});d.start("opacity",0)}})})(document.id);