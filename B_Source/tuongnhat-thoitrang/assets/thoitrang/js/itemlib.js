var Scriptaculous={Version:"1.8.1",require:function(a){document.write('<script type="text/javascript" src="'+a+'"><\/script>')},REQUIRED_PROTOTYPE:"1.6.0",load:function(){function a(b){var c=b.split(".");return parseInt(c[0])*100000+parseInt(c[1])*1000+parseInt(c[2])}if((typeof Prototype=="undefined")||(typeof Element=="undefined")||(typeof Element.Methods=="undefined")||(a(Prototype.Version)<a(Scriptaculous.REQUIRED_PROTOTYPE))){throw ("script.aculo.us requires the Prototype JavaScript framework >= "+Scriptaculous.REQUIRED_PROTOTYPE)}}};Scriptaculous.load();String.prototype.parseColor=function(){var a="#";if(this.slice(0,4)=="rgb("){var c=this.slice(4,this.length-1).split(",");var b=0;do{a+=parseInt(c[b]).toColorPart()}while(++b<3)}else{if(this.slice(0,1)=="#"){if(this.length==4){for(var b=1;b<4;b++){a+=(this.charAt(b)+this.charAt(b)).toLowerCase()}}if(this.length==7){a=this.toLowerCase()}}}return(a.length==7?a:(arguments[0]||this))};Element.collectTextNodes=function(a){return $A($(a).childNodes).collect(function(b){return(b.nodeType==3?b.nodeValue:(b.hasChildNodes()?Element.collectTextNodes(b):""))}).flatten().join("")};Element.collectTextNodesIgnoreClass=function(a,b){return $A($(a).childNodes).collect(function(c){return(c.nodeType==3?c.nodeValue:((c.hasChildNodes()&&!Element.hasClassName(c,b))?Element.collectTextNodesIgnoreClass(c,b):""))}).flatten().join("")};Element.setContentZoom=function(a,b){a=$(a);a.setStyle({fontSize:(b/100)+"em"});if(Prototype.Browser.WebKit){window.scrollBy(0,0)}return a};Element.getInlineOpacity=function(a){return $(a).style.opacity||""};Element.forceRerendering=function(a){try{a=$(a);var c=document.createTextNode(" ");a.appendChild(c);a.removeChild(c)}catch(b){}};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},Transitions:{linear:Prototype.K,sinoidal:function(a){return(-Math.cos(a*Math.PI)/2)+0.5},reverse:function(a){return 1-a},flicker:function(a){var a=((-Math.cos(a*Math.PI)/4)+0.75)+Math.random()/4;return a>1?1:a},wobble:function(a){return(-Math.cos(a*Math.PI*(9*a))/2)+0.5},pulse:function(b,a){a=a||5;return(((b%(1/a))*a).round()==0?((b*a*2)-(b*a*2).floor()):1-((b*a*2)-(b*a*2).floor()))},spring:function(a){return 1-(Math.cos(a*4.5*Math.PI)*Math.exp(-a*6))},none:function(a){return 0},full:function(a){return 1}},DefaultOptions:{duration:1,fps:100,sync:false,from:0,to:1,delay:0,queue:"parallel"},tagifyText:function(a){var b="position:relative";if(Prototype.Browser.IE){b+=";zoom:1"}a=$(a);$A(a.childNodes).each(function(c){if(c.nodeType==3){c.nodeValue.toArray().each(function(d){a.insertBefore(new Element("span",{style:b}).update(d==" "?String.fromCharCode(160):d),c)});Element.remove(c)}})},multiple:function(b,c){var e;if(((typeof b=="object")||Object.isFunction(b))&&(b.length)){e=b}else{e=$(b).childNodes}var a=Object.extend({speed:0.1,delay:0},arguments[2]||{});var d=a.delay;$A(e).each(function(g,f){new c(g,Object.extend(a,{delay:f*a.speed+d}))})},PAIRS:{slide:["SlideDown","SlideUp"],blind:["BlindDown","BlindUp"],appear:["Appear","Fade"]},toggle:function(b,c){b=$(b);c=(c||"appear").toLowerCase();var a=Object.extend({queue:{position:"end",scope:(b.id||"global"),limit:1}},arguments[2]||{});Effect[b.visible()?Effect.PAIRS[c][1]:Effect.PAIRS[c][0]](b,a)}};Effect.DefaultOptions.transition=Effect.Transitions.sinoidal;Effect.ScopedQueue=Class.create(Enumerable,{initialize:function(){this.effects=[];this.interval=null},_each:function(a){this.effects._each(a)},add:function(b){var c=new Date().getTime();var a=Object.isString(b.options.queue)?b.options.queue:b.options.queue.position;switch(a){case"front":this.effects.findAll(function(d){return d.state=="idle"}).each(function(d){d.startOn+=b.finishOn;d.finishOn+=b.finishOn});break;case"with-last":c=this.effects.pluck("startOn").max()||c;break;case"end":c=this.effects.pluck("finishOn").max()||c;break}b.startOn+=c;b.finishOn+=c;if(!b.options.queue.limit||(this.effects.length<b.options.queue.limit)){this.effects.push(b)}if(!this.interval){this.interval=setInterval(this.loop.bind(this),15)}},remove:function(a){this.effects=this.effects.reject(function(b){return b==a});if(this.effects.length==0){clearInterval(this.interval);this.interval=null}},loop:function(){var c=new Date().getTime();for(var b=0,a=this.effects.length;b<a;b++){this.effects[b]&&this.effects[b].loop(c)}}});Effect.Queues={instances:$H(),get:function(a){if(!Object.isString(a)){return a}return this.instances.get(a)||this.instances.set(a,new Effect.ScopedQueue())}};Effect.Queue=Effect.Queues.get("global");Effect.Base=Class.create({position:null,start:function(options){function codeForEvent(options,eventName){return((options[eventName+"Internal"]?"this.options."+eventName+"Internal(this);":"")+(options[eventName]?"this.options."+eventName+"(this);":""))}if(options&&options.transition===false){options.transition=Effect.Transitions.linear}this.options=Object.extend(Object.extend({},Effect.DefaultOptions),options||{});this.currentFrame=0;this.state="idle";this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);this.fromToDelta=this.options.to-this.options.from;this.totalTime=this.finishOn-this.startOn;this.totalFrames=this.options.fps*this.options.duration;eval('this.render = function(pos){ if (this.state=="idle"){this.state="running";'+codeForEvent(this.options,"beforeSetup")+(this.setup?"this.setup();":"")+codeForEvent(this.options,"afterSetup")+'};if (this.state=="running"){pos=this.options.transition(pos)*'+this.fromToDelta+"+"+this.options.from+";this.position=pos;"+codeForEvent(this.options,"beforeUpdate")+(this.update?"this.update(pos);":"")+codeForEvent(this.options,"afterUpdate")+"}}");this.event("beforeStart");if(!this.options.sync){Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).add(this)}},loop:function(c){if(c>=this.startOn){if(c>=this.finishOn){this.render(1);this.cancel();this.event("beforeFinish");if(this.finish){this.finish()}this.event("afterFinish");return}var b=(c-this.startOn)/this.totalTime,a=(b*this.totalFrames).round();if(a>this.currentFrame){this.render(b);this.currentFrame=a}}},cancel:function(){if(!this.options.sync){Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).remove(this)}this.state="finished"},event:function(a){if(this.options[a+"Internal"]){this.options[a+"Internal"](this)}if(this.options[a]){this.options[a](this)}},inspect:function(){var a=$H();for(property in this){if(!Object.isFunction(this[property])){a.set(property,this[property])}}return"#<Effect:"+a.inspect()+",options:"+$H(this.options).inspect()+">"}});Effect.Parallel=Class.create(Effect.Base,{initialize:function(a){this.effects=a||[];this.start(arguments[1])},update:function(a){this.effects.invoke("render",a)},finish:function(a){this.effects.each(function(b){b.render(1);b.cancel();b.event("beforeFinish");if(b.finish){b.finish(a)}b.event("afterFinish")})}});Effect.Tween=Class.create(Effect.Base,{initialize:function(c,f,e){c=Object.isString(c)?$(c):c;var b=$A(arguments),d=b.last(),a=b.length==5?b[3]:null;this.method=Object.isFunction(d)?d.bind(c):Object.isFunction(c[d])?c[d].bind(c):function(g){c[d]=g};this.start(Object.extend({from:f,to:e},a||{}))},update:function(a){this.method(a)}});Effect.Event=Class.create(Effect.Base,{initialize:function(){this.start(Object.extend({duration:0},arguments[0]||{}))},update:Prototype.emptyFunction});Effect.Opacity=Class.create(Effect.Base,{initialize:function(b){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError)}if(Prototype.Browser.IE&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1})}var a=Object.extend({from:this.element.getOpacity()||0,to:1},arguments[1]||{});this.start(a)},update:function(a){this.element.setOpacity(a)}});Effect.Move=Class.create(Effect.Base,{initialize:function(b){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(a)},setup:function(){this.element.makePositioned();this.originalLeft=parseFloat(this.element.getStyle("left")||"0");this.originalTop=parseFloat(this.element.getStyle("top")||"0");if(this.options.mode=="absolute"){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop}},update:function(a){this.element.setStyle({left:(this.options.x*a+this.originalLeft).round()+"px",top:(this.options.y*a+this.originalTop).round()+"px"})}});Effect.MoveBy=function(b,a,c){return new Effect.Move(b,Object.extend({x:c,y:a},arguments[3]||{}))};Effect.Scale=Class.create(Effect.Base,{initialize:function(b,c){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({scaleX:true,scaleY:true,scaleContent:true,scaleFromCenter:false,scaleMode:"box",scaleFrom:100,scaleTo:c},arguments[2]||{});this.start(a)},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||false;this.elementPositioning=this.element.getStyle("position");this.originalStyle={};["top","left","width","height","fontSize"].each(function(b){this.originalStyle[b]=this.element.style[b]}.bind(this));this.originalTop=this.element.offsetTop;this.originalLeft=this.element.offsetLeft;var a=this.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(b){if(a.indexOf(b)>0){this.fontSize=parseFloat(a);this.fontSizeType=b}}.bind(this));this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;if(this.options.scaleMode=="box"){this.dims=[this.element.offsetHeight,this.element.offsetWidth]}if(/^content/.test(this.options.scaleMode)){this.dims=[this.element.scrollHeight,this.element.scrollWidth]}if(!this.dims){this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth]}},update:function(a){var b=(this.options.scaleFrom/100)+(this.factor*a);if(this.options.scaleContent&&this.fontSize){this.element.setStyle({fontSize:this.fontSize*b+this.fontSizeType})}this.setDimensions(this.dims[0]*b,this.dims[1]*b)},finish:function(a){if(this.restoreAfterFinish){this.element.setStyle(this.originalStyle)}},setDimensions:function(a,e){var f={};if(this.options.scaleX){f.width=e.round()+"px"}if(this.options.scaleY){f.height=a.round()+"px"}if(this.options.scaleFromCenter){var c=(a-this.dims[0])/2;var b=(e-this.dims[1])/2;if(this.elementPositioning=="absolute"){if(this.options.scaleY){f.top=this.originalTop-c+"px"}if(this.options.scaleX){f.left=this.originalLeft-b+"px"}}else{if(this.options.scaleY){f.top=-c+"px"}if(this.options.scaleX){f.left=-b+"px"}}}this.element.setStyle(f)}});Effect.Highlight=Class.create(Effect.Base,{initialize:function(b){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(a)},setup:function(){if(this.element.getStyle("display")=="none"){this.cancel();return}this.oldStyle={};if(!this.options.keepBackgroundImage){this.oldStyle.backgroundImage=this.element.getStyle("background-image");this.element.setStyle({backgroundImage:"none"})}if(!this.options.endcolor){this.options.endcolor=this.element.getStyle("background-color").parseColor("#ffffff")}if(!this.options.restorecolor){this.options.restorecolor=this.element.getStyle("background-color")}this._base=$R(0,2).map(function(a){return parseInt(this.options.startcolor.slice(a*2+1,a*2+3),16)}.bind(this));this._delta=$R(0,2).map(function(a){return parseInt(this.options.endcolor.slice(a*2+1,a*2+3),16)-this._base[a]}.bind(this))},update:function(a){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(b,c,d){return b+((this._base[d]+(this._delta[d]*a)).round().toColorPart())}.bind(this))})},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}))}});Effect.ScrollTo=function(d){var c=arguments[1]||{},b=document.viewport.getScrollOffsets(),e=$(d).cumulativeOffset(),a=(window.height||document.body.scrollHeight)-document.viewport.getHeight();if(c.offset){e[1]+=c.offset}return new Effect.Tween(null,b.top,e[1]>a?a:e[1],c,function(f){scrollTo(b.left,f.round())})};Effect.Fade=function(c){c=$(c);var a=c.getInlineOpacity();var b=Object.extend({from:c.getOpacity()||1,to:0,afterFinishInternal:function(d){if(d.options.to!=0){return}d.element.hide().setStyle({opacity:a})}},arguments[1]||{});return new Effect.Opacity(c,b)};Effect.Appear=function(b){b=$(b);var a=Object.extend({from:(b.getStyle("display")=="none"?0:b.getOpacity()||0),to:1,afterFinishInternal:function(c){c.element.forceRerendering()},beforeSetup:function(c){c.element.setOpacity(c.options.from).show()}},arguments[1]||{});return new Effect.Opacity(b,a)};Effect.Puff=function(b){b=$(b);var a={opacity:b.getInlineOpacity(),position:b.getStyle("position"),top:b.style.top,left:b.style.left,width:b.style.width,height:b.style.height};return new Effect.Parallel([new Effect.Scale(b,200,{sync:true,scaleFromCenter:true,scaleContent:true,restoreAfterFinish:true}),new Effect.Opacity(b,{sync:true,to:0})],Object.extend({duration:1,beforeSetupInternal:function(c){Position.absolutize(c.effects[0].element)},afterFinishInternal:function(c){c.effects[0].element.hide().setStyle(a)}},arguments[1]||{}))};Effect.BlindUp=function(a){a=$(a);a.makeClipping();return new Effect.Scale(a,0,Object.extend({scaleContent:false,scaleX:false,restoreAfterFinish:true,afterFinishInternal:function(b){b.element.hide().undoClipping()}},arguments[1]||{}))};Effect.BlindDown=function(b){b=$(b);var a=b.getDimensions();return new Effect.Scale(b,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:0,scaleMode:{originalHeight:a.height,originalWidth:a.width},restoreAfterFinish:true,afterSetup:function(c){c.element.makeClipping().setStyle({height:"0px"}).show()},afterFinishInternal:function(c){c.element.undoClipping()}},arguments[1]||{}))};Effect.SwitchOff=function(b){b=$(b);var a=b.getInlineOpacity();return new Effect.Appear(b,Object.extend({duration:0.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(c){new Effect.Scale(c.element,1,{duration:0.3,scaleFromCenter:true,scaleX:false,scaleContent:false,restoreAfterFinish:true,beforeSetup:function(d){d.element.makePositioned().makeClipping()},afterFinishInternal:function(d){d.element.hide().undoClipping().undoPositioned().setStyle({opacity:a})}})}},arguments[1]||{}))};Effect.DropOut=function(b){b=$(b);var a={top:b.getStyle("top"),left:b.getStyle("left"),opacity:b.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(b,{x:0,y:100,sync:true}),new Effect.Opacity(b,{sync:true,to:0})],Object.extend({duration:0.5,beforeSetup:function(c){c.effects[0].element.makePositioned()},afterFinishInternal:function(c){c.effects[0].element.hide().undoPositioned().setStyle(a)}},arguments[1]||{}))};Effect.Shake=function(d){d=$(d);var b=Object.extend({distance:20,duration:0.5},arguments[1]||{});var e=parseFloat(b.distance);var c=parseFloat(b.duration)/10;var a={top:d.getStyle("top"),left:d.getStyle("left")};return new Effect.Move(d,{x:e,y:0,duration:c,afterFinishInternal:function(f){new Effect.Move(f.element,{x:-e*2,y:0,duration:c*2,afterFinishInternal:function(g){new Effect.Move(g.element,{x:e*2,y:0,duration:c*2,afterFinishInternal:function(k){new Effect.Move(k.element,{x:-e*2,y:0,duration:c*2,afterFinishInternal:function(l){new Effect.Move(l.element,{x:e*2,y:0,duration:c*2,afterFinishInternal:function(m){new Effect.Move(m.element,{x:-e,y:0,duration:c,afterFinishInternal:function(n){n.element.undoPositioned().setStyle(a)}})}})}})}})}})}})};Effect.SlideDown=function(c){c=$(c).cleanWhitespace();var a=c.down().getStyle("bottom");var b=c.getDimensions();return new Effect.Scale(c,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:b.height,originalWidth:b.width},restoreAfterFinish:true,afterSetup:function(d){d.element.makePositioned();d.element.down().makePositioned();if(window.opera){d.element.setStyle({top:""})}d.element.makeClipping().setStyle({height:"0px"}).show()},afterUpdateInternal:function(d){d.element.down().setStyle({bottom:(d.dims[0]-d.element.clientHeight)+"px"})},afterFinishInternal:function(d){d.element.undoClipping().undoPositioned();d.element.down().undoPositioned().setStyle({bottom:a})}},arguments[1]||{}))};Effect.SlideUp=function(c){c=$(c).cleanWhitespace();var a=c.down().getStyle("bottom");var b=c.getDimensions();return new Effect.Scale(c,window.opera?0:1,Object.extend({scaleContent:false,scaleX:false,scaleMode:"box",scaleFrom:100,scaleMode:{originalHeight:b.height,originalWidth:b.width},restoreAfterFinish:true,afterSetup:function(d){d.element.makePositioned();d.element.down().makePositioned();if(window.opera){d.element.setStyle({top:""})}d.element.makeClipping().show()},afterUpdateInternal:function(d){d.element.down().setStyle({bottom:(d.dims[0]-d.element.clientHeight)+"px"})},afterFinishInternal:function(d){d.element.hide().undoClipping().undoPositioned();d.element.down().undoPositioned().setStyle({bottom:a})}},arguments[1]||{}))};Effect.Squish=function(a){return new Effect.Scale(a,window.opera?1:0,{restoreAfterFinish:true,beforeSetup:function(b){b.element.makeClipping()},afterFinishInternal:function(b){b.element.hide().undoClipping()}})};Effect.Grow=function(c){c=$(c);var b=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{});var a={top:c.style.top,left:c.style.left,height:c.style.height,width:c.style.width,opacity:c.getInlineOpacity()};var g=c.getDimensions();var k,f;var e,d;switch(b.direction){case"top-left":k=f=e=d=0;break;case"top-right":k=g.width;f=d=0;e=-g.width;break;case"bottom-left":k=e=0;f=g.height;d=-g.height;break;case"bottom-right":k=g.width;f=g.height;e=-g.width;d=-g.height;break;case"center":k=g.width/2;f=g.height/2;e=-g.width/2;d=-g.height/2;break}return new Effect.Move(c,{x:k,y:f,duration:0.01,beforeSetup:function(l){l.element.hide().makeClipping().makePositioned()},afterFinishInternal:function(l){new Effect.Parallel([new Effect.Opacity(l.element,{sync:true,to:1,from:0,transition:b.opacityTransition}),new Effect.Move(l.element,{x:e,y:d,sync:true,transition:b.moveTransition}),new Effect.Scale(l.element,100,{scaleMode:{originalHeight:g.height,originalWidth:g.width},sync:true,scaleFrom:window.opera?1:0,transition:b.scaleTransition,restoreAfterFinish:true})],Object.extend({beforeSetup:function(m){m.effects[0].element.setStyle({height:"0px"}).show()},afterFinishInternal:function(m){m.effects[0].element.undoClipping().undoPositioned().setStyle(a)}},b))}})};Effect.Shrink=function(c){c=$(c);var b=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{});var a={top:c.style.top,left:c.style.left,height:c.style.height,width:c.style.width,opacity:c.getInlineOpacity()};var f=c.getDimensions();var e,d;switch(b.direction){case"top-left":e=d=0;break;case"top-right":e=f.width;d=0;break;case"bottom-left":e=0;d=f.height;break;case"bottom-right":e=f.width;d=f.height;break;case"center":e=f.width/2;d=f.height/2;break}return new Effect.Parallel([new Effect.Opacity(c,{sync:true,to:0,from:1,transition:b.opacityTransition}),new Effect.Scale(c,window.opera?1:0,{sync:true,transition:b.scaleTransition,restoreAfterFinish:true}),new Effect.Move(c,{x:e,y:d,sync:true,transition:b.moveTransition})],Object.extend({beforeStartInternal:function(g){g.effects[0].element.makePositioned().makeClipping()},afterFinishInternal:function(g){g.effects[0].element.hide().undoClipping().undoPositioned().setStyle(a)}},b))};Effect.Pulsate=function(c){c=$(c);var b=arguments[1]||{};var a=c.getInlineOpacity();var e=b.transition||Effect.Transitions.sinoidal;var d=function(f){return e(1-Effect.Transitions.pulse(f,b.pulses))};d.bind(e);return new Effect.Opacity(c,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(f){f.element.setStyle({opacity:a})}},b),{transition:d}))};Effect.Fold=function(b){b=$(b);var a={top:b.style.top,left:b.style.left,width:b.style.width,height:b.style.height};b.makeClipping();return new Effect.Scale(b,5,Object.extend({scaleContent:false,scaleX:false,afterFinishInternal:function(c){new Effect.Scale(b,1,{scaleContent:false,scaleY:false,afterFinishInternal:function(d){d.element.hide().undoClipping().setStyle(a)}})}},arguments[1]||{}))};Effect.Morph=Class.create(Effect.Base,{initialize:function(c){this.element=$(c);if(!this.element){throw (Effect._elementDoesNotExistError)}var a=Object.extend({style:{}},arguments[1]||{});if(!Object.isString(a.style)){this.style=$H(a.style)}else{if(a.style.include(":")){this.style=a.style.parseStyle()}else{this.element.addClassName(a.style);this.style=$H(this.element.getStyles());this.element.removeClassName(a.style);var b=this.element.getStyles();this.style=this.style.reject(function(d){return d.value==b[d.key]});a.afterFinishInternal=function(d){d.element.addClassName(d.options.style);d.transforms.each(function(e){d.element.style[e.style]=""})}}}this.start(a)},setup:function(){function a(b){if(!b||["rgba(0, 0, 0, 0)","transparent"].include(b)){b="#ffffff"}b=b.parseColor();return $R(0,2).map(function(c){return parseInt(b.slice(c*2+1,c*2+3),16)})}this.transforms=this.style.map(function(g){var f=g[0],e=g[1],d=null;if(e.parseColor("#zzzzzz")!="#zzzzzz"){e=e.parseColor();d="color"}else{if(f=="opacity"){e=parseFloat(e);if(Prototype.Browser.IE&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1})}}else{if(Element.CSS_LENGTH.test(e)){var c=e.match(/^([\+\-]?[0-9\.]+)(.*)$/);e=parseFloat(c[1]);d=(c.length==3)?c[2]:null}}}var b=this.element.getStyle(f);return{style:f.camelize(),originalValue:d=="color"?a(b):parseFloat(b||0),targetValue:d=="color"?a(e):e,unit:d}}.bind(this)).reject(function(b){return((b.originalValue==b.targetValue)||(b.unit!="color"&&(isNaN(b.originalValue)||isNaN(b.targetValue))))})},update:function(a){var d={},b,c=this.transforms.length;while(c--){d[(b=this.transforms[c]).style]=b.unit=="color"?"#"+(Math.round(b.originalValue[0]+(b.targetValue[0]-b.originalValue[0])*a)).toColorPart()+(Math.round(b.originalValue[1]+(b.targetValue[1]-b.originalValue[1])*a)).toColorPart()+(Math.round(b.originalValue[2]+(b.targetValue[2]-b.originalValue[2])*a)).toColorPart():(b.originalValue+(b.targetValue-b.originalValue)*a).toFixed(3)+(b.unit===null?"":b.unit)}this.element.setStyle(d,true)}});Effect.Transform=Class.create({initialize:function(a){this.tracks=[];this.options=arguments[1]||{};this.addTracks(a)},addTracks:function(a){a.each(function(b){b=$H(b);var c=b.values().first();this.tracks.push($H({ids:b.keys().first(),effect:Effect.Morph,options:{style:c}}))}.bind(this));return this},play:function(){return new Effect.Parallel(this.tracks.map(function(a){var d=a.get("ids"),c=a.get("effect"),b=a.get("options");var e=[$(d)||$$(d)].flatten();return e.map(function(f){return new c(f,Object.extend({sync:true},b))})}).flatten(),this.options)}});Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderSpacing borderTopColor borderTopStyle borderTopWidth bottom clip color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop markerOffset maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex");Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/;String.__parseStyleElement=document.createElement("div");String.prototype.parseStyle=function(){var b,a=$H();if(Prototype.Browser.WebKit){b=new Element("div",{style:this}).style}else{String.__parseStyleElement.innerHTML='<div style="'+this+'"></div>';b=String.__parseStyleElement.childNodes[0].style}Element.CSS_PROPERTIES.each(function(c){if(b[c]){a.set(c,b[c])}});if(Prototype.Browser.IE&&this.include("opacity")){a.set("opacity",this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1])}return a};if(document.defaultView&&document.defaultView.getComputedStyle){Element.getStyles=function(b){var a=document.defaultView.getComputedStyle($(b),null);return Element.CSS_PROPERTIES.inject({},function(c,d){c[d]=a[d];return c})}}else{Element.getStyles=function(b){b=$(b);var a=b.currentStyle,c;c=Element.CSS_PROPERTIES.inject({},function(d,e){d[e]=a[e];return d});if(!c.opacity){c.opacity=b.getOpacity()}return c}}Effect.Methods={morph:function(a,b){a=$(a);new Effect.Morph(a,Object.extend({style:b},arguments[2]||{}));return a},visualEffect:function(c,e,b){c=$(c);var d=e.dasherize().camelize(),a=d.charAt(0).toUpperCase()+d.substring(1);new Effect[a](c,b);return c},highlight:function(b,a){b=$(b);new Effect.Highlight(b,a);return b}};$w("fade appear grow shrink fold blindUp blindDown slideUp slideDown pulsate shake puff squish switchOff dropOut").each(function(a){Effect.Methods[a]=function(c,b){c=$(c);Effect[a.charAt(0).toUpperCase()+a.substring(1)](c,b);return c}});$w("getInlineOpacity forceRerendering setContentZoom collectTextNodes collectTextNodesIgnoreClass getStyles").each(function(a){Effect.Methods[a]=Element[a]});Element.addMethods(Effect.Methods);if(Object.isUndefined(Effect)){throw ("dragdrop.js requires including script.aculo.us' effects.js library")}var Droppables={drops:[],remove:function(a){this.drops=this.drops.reject(function(b){return b.element==$(a)})},add:function(b){b=$(b);var a=Object.extend({greedy:true,hoverclass:null,tree:false},arguments[1]||{});if(a.containment){a._containers=[];var c=a.containment;if(Object.isArray(c)){c.each(function(d){a._containers.push($(d))})}else{a._containers.push($(c))}}if(a.accept){a.accept=[a.accept].flatten()}Element.makePositioned(b);a.element=b;this.drops.push(a)},findDeepestChild:function(a){deepest=a[0];for(i=1;i<a.length;++i){if(Element.isParent(a[i].element,deepest.element)){deepest=a[i]}}return deepest},isContained:function(b,a){var c;if(a.tree){c=b.treeNode}else{c=b.parentNode}return a._containers.detect(function(d){return c==d})},isAffected:function(a,c,b){return((b.element!=c)&&((!b._containers)||this.isContained(c,b))&&((!b.accept)||(Element.classNames(c).detect(function(d){return b.accept.include(d)})))&&Position.within(b.element,a[0],a[1]))},deactivate:function(a){if(a.hoverclass){Element.removeClassName(a.element,a.hoverclass)}this.last_active=null},activate:function(a){if(a.hoverclass){Element.addClassName(a.element,a.hoverclass)}this.last_active=a},show:function(a,c){if(!this.drops.length){return}var b,d=[];this.drops.each(function(e){if(Droppables.isAffected(a,c,e)){d.push(e)}});if(d.length>0){b=Droppables.findDeepestChild(d)}if(this.last_active&&this.last_active!=b){this.deactivate(this.last_active)}if(b){Position.within(b.element,a[0],a[1]);if(b.onHover){b.onHover(c,b.element,Position.overlap(b.overlap,b.element))}if(b!=this.last_active){Droppables.activate(b)}}},fire:function(b,a){if(!this.last_active){return}Position.prepare();if(this.isAffected([Event.pointerX(b),Event.pointerY(b)],a,this.last_active)){if(this.last_active.onDrop){this.last_active.onDrop(a,this.last_active.element,b);return true}}},reset:function(){if(this.last_active){this.deactivate(this.last_active)}}};var Draggables={drags:[],observers:[],register:function(a){if(this.drags.length==0){this.eventMouseUp=this.endDrag.bindAsEventListener(this);this.eventMouseMove=this.updateDrag.bindAsEventListener(this);this.eventKeypress=this.keyPress.bindAsEventListener(this);Event.observe(document,"mouseup",this.eventMouseUp);Event.observe(document,"mousemove",this.eventMouseMove);Event.observe(document,"keypress",this.eventKeypress)}this.drags.push(a)},unregister:function(a){this.drags=this.drags.reject(function(b){return b==a});if(this.drags.length==0){Event.stopObserving(document,"mouseup",this.eventMouseUp);Event.stopObserving(document,"mousemove",this.eventMouseMove);Event.stopObserving(document,"keypress",this.eventKeypress)}},activate:function(a){if(a.options.delay){this._timeout=setTimeout(function(){Draggables._timeout=null;window.focus();Draggables.activeDraggable=a}.bind(this),a.options.delay)}else{window.focus();this.activeDraggable=a}},deactivate:function(){this.activeDraggable=null},updateDrag:function(a){if(!this.activeDraggable){return}var b=[Event.pointerX(a),Event.pointerY(a)];if(this._lastPointer&&(this._lastPointer.inspect()==b.inspect())){return}this._lastPointer=b;this.activeDraggable.updateDrag(a,b)},endDrag:function(a){if(this._timeout){clearTimeout(this._timeout);this._timeout=null}if(!this.activeDraggable){return}this._lastPointer=null;this.activeDraggable.endDrag(a);this.activeDraggable=null},keyPress:function(a){if(this.activeDraggable){this.activeDraggable.keyPress(a)}},addObserver:function(a){this.observers.push(a);this._cacheObserverCallbacks()},removeObserver:function(a){this.observers=this.observers.reject(function(b){return b.element==a});this._cacheObserverCallbacks()},notify:function(b,a,c){if(this[b+"Count"]>0){this.observers.each(function(d){if(d[b]){d[b](b,a,c)}})}if(a.options[b]){a.options[b](a,c)}},_cacheObserverCallbacks:function(){["onStart","onEnd","onDrag"].each(function(a){Draggables[a+"Count"]=Draggables.observers.select(function(b){return b[a]}).length})}};var Draggable=Class.create({initialize:function(b){var c={handle:false,reverteffect:function(f,e,d){var g=Math.sqrt(Math.abs(e^2)+Math.abs(d^2))*0.02;new Effect.Move(f,{x:-d,y:-e,duration:g,queue:{scope:"_draggable",position:"end"}})},endeffect:function(e){var d=Object.isNumber(e._opacity)?e._opacity:1;new Effect.Opacity(e,{duration:0.2,from:0.7,to:d,queue:{scope:"_draggable",position:"end"},afterFinish:function(){Draggable._dragging[e]=false}})},zindex:1000,revert:false,quiet:false,scroll:false,scrollSensitivity:20,scrollSpeed:15,snap:false,delay:0};if(!arguments[1]||Object.isUndefined(arguments[1].endeffect)){Object.extend(c,{starteffect:function(d){d._opacity=Element.getOpacity(d);Draggable._dragging[d]=true;new Effect.Opacity(d,{duration:0.2,from:d._opacity,to:0.7})}})}var a=Object.extend(c,arguments[1]||{});this.element=$(b);if(a.handle&&Object.isString(a.handle)){this.handle=this.element.down("."+a.handle,0)}if(!this.handle){this.handle=$(a.handle)}if(!this.handle){this.handle=this.element}if(a.scroll&&!a.scroll.scrollTo&&!a.scroll.outerHTML){a.scroll=$(a.scroll);this._isScrollChild=Element.childOf(this.element,a.scroll)}Element.makePositioned(this.element);this.options=a;this.dragging=false;this.eventMouseDown=this.initDrag.bindAsEventListener(this);Event.observe(this.handle,"mousedown",this.eventMouseDown);Draggables.register(this)},destroy:function(){Event.stopObserving(this.handle,"mousedown",this.eventMouseDown);Draggables.unregister(this)},currentDelta:function(){return([parseInt(Element.getStyle(this.element,"left")||"0"),parseInt(Element.getStyle(this.element,"top")||"0")])},initDrag:function(a){if(!Object.isUndefined(Draggable._dragging[this.element])&&Draggable._dragging[this.element]){return}if(Event.isLeftClick(a)){var c=Event.element(a);if((tag_name=c.tagName.toUpperCase())&&(tag_name=="INPUT"||tag_name=="SELECT"||tag_name=="OPTION"||tag_name=="BUTTON"||tag_name=="TEXTAREA")){return}var b=[Event.pointerX(a),Event.pointerY(a)];var d=Position.cumulativeOffset(this.element);this.offset=[0,1].map(function(e){return(b[e]-d[e])});Draggables.activate(this);Event.stop(a)}},startDrag:function(b){this.dragging=true;if(!this.delta){this.delta=this.currentDelta()}if(this.options.zindex){this.originalZ=parseInt(Element.getStyle(this.element,"z-index")||0);this.element.style.zIndex=this.options.zindex}if(this.options.ghosting){this._clone=this.element.cloneNode(true);this.element._originallyAbsolute=(this.element.getStyle("position")=="absolute");if(!this.element._originallyAbsolute){Position.absolutize(this.element)}this.element.parentNode.insertBefore(this._clone,this.element)}if(this.options.scroll){if(this.options.scroll==window){var a=this._getWindowScroll(this.options.scroll);this.originalScrollLeft=a.left;this.originalScrollTop=a.top}else{this.originalScrollLeft=this.options.scroll.scrollLeft;this.originalScrollTop=this.options.scroll.scrollTop}}Draggables.notify("onStart",this,b);if(this.options.starteffect){this.options.starteffect(this.element)}},updateDrag:function(event,pointer){if(!this.dragging){this.startDrag(event)}if(!this.options.quiet){Position.prepare();Droppables.show(pointer,this.element)}Draggables.notify("onDrag",this,event);this.draw(pointer);if(this.options.change){this.options.change(this)}if(this.options.scroll){this.stopScrolling();var p;if(this.options.scroll==window){with(this._getWindowScroll(this.options.scroll)){p=[left,top,left+width,top+height]}}else{p=Position.page(this.options.scroll);p[0]+=this.options.scroll.scrollLeft+Position.deltaX;p[1]+=this.options.scroll.scrollTop+Position.deltaY;p.push(p[0]+this.options.scroll.offsetWidth);p.push(p[1]+this.options.scroll.offsetHeight)}var speed=[0,0];if(pointer[0]<(p[0]+this.options.scrollSensitivity)){speed[0]=pointer[0]-(p[0]+this.options.scrollSensitivity)}if(pointer[1]<(p[1]+this.options.scrollSensitivity)){speed[1]=pointer[1]-(p[1]+this.options.scrollSensitivity)}if(pointer[0]>(p[2]-this.options.scrollSensitivity)){speed[0]=pointer[0]-(p[2]-this.options.scrollSensitivity)}if(pointer[1]>(p[3]-this.options.scrollSensitivity)){speed[1]=pointer[1]-(p[3]-this.options.scrollSensitivity)}this.startScrolling(speed)}if(Prototype.Browser.WebKit){window.scrollBy(0,0)}Event.stop(event)},finishDrag:function(b,f){this.dragging=false;if(this.options.quiet){Position.prepare();var e=[Event.pointerX(b),Event.pointerY(b)];Droppables.show(e,this.element)}if(this.options.ghosting){if(!this.element._originallyAbsolute){Position.relativize(this.element)}delete this.element._originallyAbsolute;Element.remove(this._clone);this._clone=null}var g=false;if(f){g=Droppables.fire(b,this.element);if(!g){g=false}}if(g&&this.options.onDropped){this.options.onDropped(this.element)}Draggables.notify("onEnd",this,b);var a=this.options.revert;if(a&&Object.isFunction(a)){a=a(this.element)}var c=this.currentDelta();if(a&&this.options.reverteffect){if(g==0||a!="failure"){this.options.reverteffect(this.element,c[1]-this.delta[1],c[0]-this.delta[0])}}else{this.delta=c}if(this.options.zindex){this.element.style.zIndex=this.originalZ}if(this.options.endeffect){this.options.endeffect(this.element)}Draggables.deactivate(this);Droppables.reset()},keyPress:function(a){if(a.keyCode!=Event.KEY_ESC){return}this.finishDrag(a,false);Event.stop(a)},endDrag:function(a){if(!this.dragging){return}this.stopScrolling();this.finishDrag(a,true);Event.stop(a)},draw:function(a){var g=Position.cumulativeOffset(this.element);if(this.options.ghosting){var c=Position.realOffset(this.element);g[0]+=c[0]-Position.deltaX;g[1]+=c[1]-Position.deltaY}var f=this.currentDelta();g[0]-=f[0];g[1]-=f[1];if(this.options.scroll&&(this.options.scroll!=window&&this._isScrollChild)){g[0]-=this.options.scroll.scrollLeft-this.originalScrollLeft;g[1]-=this.options.scroll.scrollTop-this.originalScrollTop}var e=[0,1].map(function(d){return(a[d]-g[d]-this.offset[d])}.bind(this));if(this.options.snap){if(Object.isFunction(this.options.snap)){e=this.options.snap(e[0],e[1],this)}else{if(Object.isArray(this.options.snap)){e=e.map(function(d,k){return(d/this.options.snap[k]).round()*this.options.snap[k]}.bind(this))}else{e=e.map(function(d){return(d/this.options.snap).round()*this.options.snap}.bind(this))}}}var b=this.element.style;if((!this.options.constraint)||(this.options.constraint=="horizontal")){b.left=e[0]+"px"}if((!this.options.constraint)||(this.options.constraint=="vertical")){b.top=e[1]+"px"}if(b.visibility=="hidden"){b.visibility=""}},stopScrolling:function(){if(this.scrollInterval){clearInterval(this.scrollInterval);this.scrollInterval=null;Draggables._lastScrollPointer=null}},startScrolling:function(a){if(!(a[0]||a[1])){return}this.scrollSpeed=[a[0]*this.options.scrollSpeed,a[1]*this.options.scrollSpeed];this.lastScrolled=new Date();this.scrollInterval=setInterval(this.scroll.bind(this),10)},scroll:function(){var current=new Date();var delta=current-this.lastScrolled;this.lastScrolled=current;if(this.options.scroll==window){with(this._getWindowScroll(this.options.scroll)){if(this.scrollSpeed[0]||this.scrollSpeed[1]){var d=delta/1000;this.options.scroll.scrollTo(left+d*this.scrollSpeed[0],top+d*this.scrollSpeed[1])}}}else{this.options.scroll.scrollLeft+=this.scrollSpeed[0]*delta/1000;this.options.scroll.scrollTop+=this.scrollSpeed[1]*delta/1000}Position.prepare();Droppables.show(Draggables._lastPointer,this.element);Draggables.notify("onDrag",this);if(this._isScrollChild){Draggables._lastScrollPointer=Draggables._lastScrollPointer||$A(Draggables._lastPointer);Draggables._lastScrollPointer[0]+=this.scrollSpeed[0]*delta/1000;Draggables._lastScrollPointer[1]+=this.scrollSpeed[1]*delta/1000;if(Draggables._lastScrollPointer[0]<0){Draggables._lastScrollPointer[0]=0}if(Draggables._lastScrollPointer[1]<0){Draggables._lastScrollPointer[1]=0}this.draw(Draggables._lastScrollPointer)}if(this.options.change){this.options.change(this)}},_getWindowScroll:function(w){var T,L,W,H;with(w.document){if(w.document.documentElement&&documentElement.scrollTop){T=documentElement.scrollTop;L=documentElement.scrollLeft}else{if(w.document.body){T=body.scrollTop;L=body.scrollLeft}}if(w.innerWidth){W=w.innerWidth;H=w.innerHeight}else{if(w.document.documentElement&&documentElement.clientWidth){W=documentElement.clientWidth;H=documentElement.clientHeight}else{W=body.offsetWidth;H=body.offsetHeight}}}return{top:T,left:L,width:W,height:H}}});Draggable._dragging={};var SortableObserver=Class.create({initialize:function(b,a){this.element=$(b);this.observer=a;this.lastValue=Sortable.serialize(this.element)},onStart:function(){this.lastValue=Sortable.serialize(this.element)},onEnd:function(){Sortable.unmark();if(this.lastValue!=Sortable.serialize(this.element)){this.observer(this.element)}}});var Sortable={SERIALIZE_RULE:/^[^_\-](?:[A-Za-z0-9\-\_]*)[_](.*)$/,sortables:{},_findRootElement:function(a){while(a.tagName.toUpperCase()!="BODY"){if(a.id&&Sortable.sortables[a.id]){return a}a=a.parentNode}},options:function(a){a=Sortable._findRootElement($(a));if(!a){return}return Sortable.sortables[a.id]},destroy:function(a){var b=Sortable.options(a);if(b){Draggables.removeObserver(b.element);b.droppables.each(function(c){Droppables.remove(c)});b.draggables.invoke("destroy");delete Sortable.sortables[b.element.id]}},create:function(c){c=$(c);var b=Object.extend({element:c,tag:"li",dropOnEmpty:false,tree:false,treeTag:"ul",overlap:"vertical",constraint:"vertical",containment:c,handle:false,only:false,delay:0,hoverclass:null,ghosting:false,quiet:false,scroll:false,scrollSensitivity:20,scrollSpeed:15,format:this.SERIALIZE_RULE,elements:false,handles:false,onChange:Prototype.emptyFunction,onUpdate:Prototype.emptyFunction},arguments[1]||{});this.destroy(c);var a={revert:true,quiet:b.quiet,scroll:b.scroll,scrollSpeed:b.scrollSpeed,scrollSensitivity:b.scrollSensitivity,delay:b.delay,ghosting:b.ghosting,constraint:b.constraint,handle:b.handle};if(b.starteffect){a.starteffect=b.starteffect}if(b.reverteffect){a.reverteffect=b.reverteffect}else{if(b.ghosting){a.reverteffect=function(f){f.style.top=0;f.style.left=0}}}if(b.endeffect){a.endeffect=b.endeffect}if(b.zindex){a.zindex=b.zindex}var d={overlap:b.overlap,containment:b.containment,tree:b.tree,hoverclass:b.hoverclass,onHover:Sortable.onHover};var e={onHover:Sortable.onEmptyHover,overlap:b.overlap,containment:b.containment,hoverclass:b.hoverclass};Element.cleanWhitespace(c);b.draggables=[];b.droppables=[];if(b.dropOnEmpty||b.tree){Droppables.add(c,e);b.droppables.push(c)}(b.elements||this.findElements(c,b)||[]).each(function(k,f){var g=b.handles?$(b.handles[f]):(b.handle?$(k).select("."+b.handle)[0]:k);b.draggables.push(new Draggable(k,Object.extend(a,{handle:g})));Droppables.add(k,d);if(b.tree){k.treeNode=c}b.droppables.push(k)});if(b.tree){(Sortable.findTreeElements(c,b)||[]).each(function(f){Droppables.add(f,e);f.treeNode=c;b.droppables.push(f)})}this.sortables[c.id]=b;Draggables.addObserver(new SortableObserver(c,b.onUpdate))},findElements:function(b,a){return Element.findChildren(b,a.only,a.tree?true:false,a.tag)},findTreeElements:function(b,a){return Element.findChildren(b,a.only,a.tree?true:false,a.treeTag)},onHover:function(e,d,a){if(Element.isParent(d,e)){return}if(a>0.33&&a<0.66&&Sortable.options(d).tree){return}else{if(a>0.5){Sortable.mark(d,"before");if(d.previousSibling!=e){var b=e.parentNode;e.style.visibility="hidden";d.parentNode.insertBefore(e,d);if(d.parentNode!=b){Sortable.options(b).onChange(e)}Sortable.options(d.parentNode).onChange(e)}}else{Sortable.mark(d,"after");var c=d.nextSibling||null;if(c!=e){var b=e.parentNode;e.style.visibility="hidden";d.parentNode.insertBefore(e,c);if(d.parentNode!=b){Sortable.options(b).onChange(e)}Sortable.options(d.parentNode).onChange(e)}}}},onEmptyHover:function(e,g,k){var l=e.parentNode;var a=Sortable.options(g);if(!Element.isParent(g,e)){var f;var c=Sortable.findElements(g,{tag:a.tag,only:a.only});var b=null;if(c){var d=Element.offsetSize(g,a.overlap)*(1-k);for(f=0;f<c.length;f+=1){if(d-Element.offsetSize(c[f],a.overlap)>=0){d-=Element.offsetSize(c[f],a.overlap)}else{if(d-(Element.offsetSize(c[f],a.overlap)/2)>=0){b=f+1<c.length?c[f+1]:null;break}else{b=c[f];break}}}}g.insertBefore(e,b);Sortable.options(l).onChange(e);a.onChange(e)}},unmark:function(){if(Sortable._marker){Sortable._marker.hide()}},mark:function(b,a){var d=Sortable.options(b.parentNode);if(d&&!d.ghosting){return}if(!Sortable._marker){Sortable._marker=($("dropmarker")||Element.extend(document.createElement("DIV"))).hide().addClassName("dropmarker").setStyle({position:"absolute"});document.getElementsByTagName("body").item(0).appendChild(Sortable._marker)}var c=Position.cumulativeOffset(b);Sortable._marker.setStyle({left:c[0]+"px",top:c[1]+"px"});if(a=="after"){if(d.overlap=="horizontal"){Sortable._marker.setStyle({left:(c[0]+b.clientWidth)+"px"})}else{Sortable._marker.setStyle({top:(c[1]+b.clientHeight)+"px"})}}Sortable._marker.show()},_tree:function(e,b,f){var d=Sortable.findElements(e,b)||[];for(var c=0;c<d.length;++c){var a=d[c].id.match(b.format);if(!a){continue}var g={id:encodeURIComponent(a?a[1]:null),element:e,parent:f,children:[],position:f.children.length,container:$(d[c]).down(b.treeTag)};if(g.container){this._tree(g.container,b,g)}f.children.push(g)}return f},tree:function(d){d=$(d);var c=this.options(d);var b=Object.extend({tag:c.tag,treeTag:c.treeTag,only:c.only,name:d.id,format:c.format},arguments[1]||{});var a={id:null,parent:null,children:[],container:d,position:0};return Sortable._tree(d,b,a)},_constructIndex:function(b){var a="";do{if(b.id){a="["+b.position+"]"+a}}while((b=b.parent)!=null);return a},sequence:function(b){b=$(b);var a=Object.extend(this.options(b),arguments[1]||{});return $(this.findElements(b,a)||[]).map(function(c){return c.id.match(a.format)?c.id.match(a.format)[1]:""})},setSequence:function(b,c){b=$(b);var a=Object.extend(this.options(b),arguments[2]||{});var d={};this.findElements(b,a).each(function(e){if(e.id.match(a.format)){d[e.id.match(a.format)[1]]=[e,e.parentNode]}e.parentNode.removeChild(e)});c.each(function(e){var f=d[e];if(f){f[1].appendChild(f[0]);delete d[e]}})},serialize:function(c){c=$(c);var b=Object.extend(Sortable.options(c),arguments[1]||{});var a=encodeURIComponent((arguments[1]&&arguments[1].name)?arguments[1].name:c.id);if(b.tree){return Sortable.tree(c,arguments[1]).children.map(function(d){return[a+Sortable._constructIndex(d)+"[id]="+encodeURIComponent(d.id)].concat(d.children.map(arguments.callee))}).flatten().join("&")}else{return Sortable.sequence(c,arguments[1]).map(function(d){return a+"[]="+encodeURIComponent(d)}).join("&")}}};Element.isParent=function(b,a){if(!b.parentNode||b==a){return false}if(b.parentNode==a){return true}return Element.isParent(b.parentNode,a)};Element.findChildren=function(d,b,a,c){if(!d.hasChildNodes()){return null}c=c.toUpperCase();if(b){b=[b].flatten()}var e=[];$A(d.childNodes).each(function(g){if(g.tagName&&g.tagName.toUpperCase()==c&&(!b||(Element.classNames(g).detect(function(k){return b.include(k)})))){e.push(g)}if(a){var f=Element.findChildren(g,b,a,c);if(f){e.push(f)}}});return(e.length>0?e.flatten():[])};Element.offsetSize=function(a,b){return a["offset"+((b=="vertical"||b=="height")?"Height":"Width")]}
/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
;var swfobject=function(){var H="undefined",u="object",W="Shockwave Flash",aa="ShockwaveFlash.ShockwaveFlash",t="application/x-shockwave-flash",V="SWFObjectExprInst",B="onreadystatechange",S=window,m=document,x=navigator,X=false,Y=[k],r=[],R=[],M=[],o,U,I,F,N=false,a=false,q,K,p=true,Q=function(){var ae=typeof m.getElementById!=H&&typeof m.getElementsByTagName!=H&&typeof m.createElement!=H,al=x.userAgent.toLowerCase(),ac=x.platform.toLowerCase(),ai=ac?/win/.test(ac):/win/.test(al),ag=ac?/mac/.test(ac):/mac/.test(al),aj=/webkit/.test(al)?parseFloat(al.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,ab=!+"\v1",ak=[0,0,0],af=null;if(typeof x.plugins!=H&&typeof x.plugins[W]==u){af=x.plugins[W].description;if(af&&!(typeof x.mimeTypes!=H&&x.mimeTypes[t]&&!x.mimeTypes[t].enabledPlugin)){X=true;ab=false;af=af.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ak[0]=parseInt(af.replace(/^(.*)\..*$/,"$1"),10);ak[1]=parseInt(af.replace(/^.*\.(.*)\s.*$/,"$1"),10);ak[2]=/[a-zA-Z]/.test(af)?parseInt(af.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof S.ActiveXObject!=H){try{var ah=new ActiveXObject(aa);if(ah){af=ah.GetVariable("$version");if(af){ab=true;af=af.split(" ")[1].split(",");ak=[parseInt(af[0],10),parseInt(af[1],10),parseInt(af[2],10)]}}}catch(ad){}}}return{w3:ae,pv:ak,wk:aj,ie:ab,win:ai,mac:ag}}(),n=function(){if(!Q.w3){return}if((typeof m.readyState!=H&&m.readyState=="complete")||(typeof m.readyState==H&&(m.getElementsByTagName("body")[0]||m.body))){f()}if(!N){if(typeof m.addEventListener!=H){m.addEventListener("DOMContentLoaded",f,false)}if(Q.ie&&Q.win){m.attachEvent(B,function(){if(m.readyState=="complete"){m.detachEvent(B,arguments.callee);f()}});if(S==top){(function(){if(N){return}try{m.documentElement.doScroll("left")}catch(ab){setTimeout(arguments.callee,0);return}f()})()}}if(Q.wk){(function(){if(N){return}if(!/loaded|complete/.test(m.readyState)){setTimeout(arguments.callee,0);return}f()})()}v(f)}}();function f(){if(N){return}try{var ad=m.getElementsByTagName("body")[0].appendChild(G("span"));ad.parentNode.removeChild(ad)}catch(ae){return}N=true;var ab=Y.length;for(var ac=0;ac<ab;ac++){Y[ac]()}}function O(ab){if(N){ab()}else{Y[Y.length]=ab}}function v(ac){if(typeof S.addEventListener!=H){S.addEventListener("load",ac,false)}else{if(typeof m.addEventListener!=H){m.addEventListener("load",ac,false)}else{if(typeof S.attachEvent!=H){l(S,"onload",ac)}else{if(typeof S.onload=="function"){var ab=S.onload;S.onload=function(){ab();ac()}}else{S.onload=ac}}}}}function k(){if(X){Z()}else{L()}}function Z(){var ab=m.getElementsByTagName("body")[0];var ae=G(u);ae.setAttribute("type",t);var ad=ab.appendChild(ae);if(ad){var ac=0;(function(){if(typeof ad.GetVariable!=H){var af=ad.GetVariable("$version");if(af){af=af.split(" ")[1].split(",");Q.pv=[parseInt(af[0],10),parseInt(af[1],10),parseInt(af[2],10)]}}else{if(ac<10){ac++;setTimeout(arguments.callee,10);return}}ab.removeChild(ae);ad=null;L()})()}else{L()}}function L(){var ak=r.length;if(ak>0){for(var aj=0;aj<ak;aj++){var ac=r[aj].id;var af=r[aj].callbackFn;var ae={success:false,id:ac};if(Q.pv[0]>0){var ai=c(ac);if(ai){if(J(r[aj].swfVersion)&&!(Q.wk&&Q.wk<312)){A(ac,true);if(af){ae.success=true;ae.ref=D(ac);af(ae)}}else{if(r[aj].expressInstall&&E()){var am={};am.data=r[aj].expressInstall;am.width=ai.getAttribute("width")||"0";am.height=ai.getAttribute("height")||"0";if(ai.getAttribute("class")){am.styleclass=ai.getAttribute("class")}if(ai.getAttribute("align")){am.align=ai.getAttribute("align")}var al={};var ab=ai.getElementsByTagName("param");var ag=ab.length;for(var ah=0;ah<ag;ah++){if(ab[ah].getAttribute("name").toLowerCase()!="movie"){al[ab[ah].getAttribute("name")]=ab[ah].getAttribute("value")}}T(am,al,ac,af)}else{s(ai);if(af){af(ae)}}}}}else{A(ac,true);if(af){var ad=D(ac);if(ad&&typeof ad.SetVariable!=H){ae.success=true;ae.ref=ad}af(ae)}}}}}function D(ae){var ab=null;var ac=c(ae);if(ac&&ac.nodeName=="OBJECT"){if(typeof ac.SetVariable!=H){ab=ac}else{var ad=ac.getElementsByTagName(u)[0];if(ad){ab=ad}}}return ab}function E(){return !a&&J("6.0.65")&&(Q.win||Q.mac)&&!(Q.wk&&Q.wk<312)}function T(ae,af,ab,ad){a=true;I=ad||null;F={success:false,id:ab};var ai=c(ab);if(ai){if(ai.nodeName=="OBJECT"){o=g(ai);U=null}else{o=ai;U=ab}ae.id=V;if(typeof ae.width==H||(!/%$/.test(ae.width)&&parseInt(ae.width,10)<310)){ae.width="310"}if(typeof ae.height==H||(!/%$/.test(ae.height)&&parseInt(ae.height,10)<137)){ae.height="137"}m.title=m.title.slice(0,47)+" - Flash Player Installation";var ah=Q.ie&&Q.win?"ActiveX":"PlugIn",ag="MMredirectURL="+S.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ah+"&MMdoctitle="+m.title;if(typeof af.flashvars!=H){af.flashvars+="&"+ag}else{af.flashvars=ag}if(Q.ie&&Q.win&&ai.readyState!=4){var ac=G("div");ab+="SWFObjectNew";ac.setAttribute("id",ab);ai.parentNode.insertBefore(ac,ai);ai.style.display="none";(function(){if(ai.readyState==4){ai.parentNode.removeChild(ai)}else{setTimeout(arguments.callee,10)}})()}y(ae,af,ab)}}function s(ac){if(Q.ie&&Q.win&&ac.readyState!=4){var ab=G("div");ac.parentNode.insertBefore(ab,ac);ab.parentNode.replaceChild(g(ac),ab);ac.style.display="none";(function(){if(ac.readyState==4){ac.parentNode.removeChild(ac)}else{setTimeout(arguments.callee,10)}})()}else{ac.parentNode.replaceChild(g(ac),ac)}}function g(ag){var af=G("div");if(Q.win&&Q.ie){af.innerHTML=ag.innerHTML}else{var ad=ag.getElementsByTagName(u)[0];if(ad){var ah=ad.childNodes;if(ah){var ab=ah.length;for(var ae=0;ae<ab;ae++){if(!(ah[ae].nodeType==1&&ah[ae].nodeName=="PARAM")&&!(ah[ae].nodeType==8)){af.appendChild(ah[ae].cloneNode(true))}}}}}return af}function y(am,ak,ac){var ab,ae=c(ac);if(Q.wk&&Q.wk<312){return ab}if(ae){if(typeof am.id==H){am.id=ac}if(Q.ie&&Q.win){var al="";for(var ai in am){if(am[ai]!=Object.prototype[ai]){if(ai.toLowerCase()=="data"){ak.movie=am[ai]}else{if(ai.toLowerCase()=="styleclass"){al+=' class="'+am[ai]+'"'}else{if(ai.toLowerCase()!="classid"){al+=" "+ai+'="'+am[ai]+'"'}}}}}var aj="";for(var ah in ak){if(ak[ah]!=Object.prototype[ah]){aj+='<param name="'+ah+'" value="'+ak[ah]+'" />'}}ae.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+al+">"+aj+"</object>";R[R.length]=am.id;ab=c(am.id)}else{var ad=G(u);ad.setAttribute("type",t);for(var ag in am){if(am[ag]!=Object.prototype[ag]){if(ag.toLowerCase()=="styleclass"){ad.setAttribute("class",am[ag])}else{if(ag.toLowerCase()!="classid"){ad.setAttribute(ag,am[ag])}}}}for(var af in ak){if(ak[af]!=Object.prototype[af]&&af.toLowerCase()!="movie"){e(ad,af,ak[af])}}ae.parentNode.replaceChild(ad,ae);ab=ad}}return ab}function e(ad,ab,ac){var ae=G("param");ae.setAttribute("name",ab);ae.setAttribute("value",ac);ad.appendChild(ae)}function C(ac){var ab=c(ac);if(ab&&ab.nodeName=="OBJECT"){if(Q.ie&&Q.win){ab.style.display="none";(function(){if(ab.readyState==4){b(ac)}else{setTimeout(arguments.callee,10)}})()}else{ab.parentNode.removeChild(ab)}}}function b(ad){var ac=c(ad);if(ac){for(var ab in ac){if(typeof ac[ab]=="function"){ac[ab]=null}}ac.parentNode.removeChild(ac)}}function c(ad){var ab=null;try{ab=m.getElementById(ad)}catch(ac){}return ab}function G(ab){return m.createElement(ab)}function l(ad,ab,ac){ad.attachEvent(ab,ac);M[M.length]=[ad,ab,ac]}function J(ad){var ac=Q.pv,ab=ad.split(".");ab[0]=parseInt(ab[0],10);ab[1]=parseInt(ab[1],10)||0;ab[2]=parseInt(ab[2],10)||0;return(ac[0]>ab[0]||(ac[0]==ab[0]&&ac[1]>ab[1])||(ac[0]==ab[0]&&ac[1]==ab[1]&&ac[2]>=ab[2]))?true:false}function z(ag,ac,ah,af){if(Q.ie&&Q.mac){return}var ae=m.getElementsByTagName("head")[0];if(!ae){return}var ab=(ah&&typeof ah=="string")?ah:"screen";if(af){q=null;K=null}if(!q||K!=ab){var ad=G("style");ad.setAttribute("type","text/css");ad.setAttribute("media",ab);q=ae.appendChild(ad);if(Q.ie&&Q.win&&typeof m.styleSheets!=H&&m.styleSheets.length>0){q=m.styleSheets[m.styleSheets.length-1]}K=ab}if(Q.ie&&Q.win){if(q&&typeof q.addRule==u){q.addRule(ag,ac)}}else{if(q&&typeof m.createTextNode!=H){q.appendChild(m.createTextNode(ag+" {"+ac+"}"))}}}function A(ad,ab){if(navigator.userAgent.indexOf("iPad")==-1){if(!p){return}var ac=ab?"visible":"hidden";if(N&&c(ad)){c(ad).style.visibility=ac}else{z("#"+ad,"visibility:"+ac)}}else{c(ad).style.visibility="hidden"}}function P(ac){var ad=/[\\\"<>\.;]/;var ab=ad.exec(ac)!=null;return ab&&typeof encodeURIComponent!=H?encodeURIComponent(ac):ac}var d=function(){if(Q.ie&&Q.win){window.attachEvent("onunload",function(){var ag=M.length;for(var af=0;af<ag;af++){M[af][0].detachEvent(M[af][1],M[af][2])}var ad=R.length;for(var ae=0;ae<ad;ae++){C(R[ae])}for(var ac in Q){Q[ac]=null}Q=null;for(var ab in swfobject){swfobject[ab]=null}swfobject=null})}}();return{registerObject:function(af,ab,ae,ad){if(Q.w3&&af&&ab){var ac={};ac.id=af;ac.swfVersion=ab;ac.expressInstall=ae;ac.callbackFn=ad;r[r.length]=ac;A(af,false)}else{if(ad){ad({success:false,id:af})}}},getObjectById:function(ab){if(Q.w3){return D(ab)}},embedSWF:function(af,al,ai,ak,ac,ae,ad,ah,aj,ag){var ab={success:false,id:al};if(Q.w3&&!(Q.wk&&Q.wk<312)&&af&&al&&ai&&ak&&ac){A(al,false);O(function(){ai+="";ak+="";var an={};if(aj&&typeof aj===u){for(var ap in aj){an[ap]=aj[ap]}}an.data=af;an.width=ai;an.height=ak;var aq={};if(ah&&typeof ah===u){for(var ao in ah){aq[ao]=ah[ao]}}if(ad&&typeof ad===u){for(var am in ad){if(typeof aq.flashvars!=H){aq.flashvars+="&"+am+"="+ad[am]}else{aq.flashvars=am+"="+ad[am]}}}if(J(ac)){var ar=y(an,aq,al);if(an.id==al){A(al,true)}ab.success=true;ab.ref=ar}else{if(ae&&E()){an.data=ae;T(an,aq,al,ag);return}else{A(al,true)}}if(ag){ag(ab)}})}else{if(ag){ag(ab)}}},switchOffAutoHideShow:function(){p=false},ua:Q,getFlashPlayerVersion:function(){return{major:Q.pv[0],minor:Q.pv[1],release:Q.pv[2]}},hasFlashPlayerVersion:J,createSWF:function(ad,ac,ab){if(Q.w3){return y(ad,ac,ab)}else{return undefined}},showExpressInstall:function(ad,ae,ab,ac){if(Q.w3&&E()){T(ad,ae,ab,ac)}},removeSWF:function(ab){if(Q.w3){C(ab)}},createCSS:function(ae,ad,ac,ab){if(Q.w3){z(ae,ad,ac,ab)}},addDomLoadEvent:O,addLoadEvent:v,getQueryParamValue:function(ae){var ad=m.location.search||m.location.hash;if(ad){if(/\?/.test(ad)){ad=ad.split("?")[1]}if(ae==null){return P(ad)}var ac=ad.split("&");for(var ab=0;ab<ac.length;ab++){if(ac[ab].substring(0,ac[ab].indexOf("="))==ae){return P(ac[ab].substring((ac[ab].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var ab=c(V);if(ab&&o){ab.parentNode.replaceChild(o,ab);if(U){A(U,true);if(Q.ie&&Q.win){o.style.display="block"}}if(I){I(F)}}a=false}}}}();var Newsletter=Class.create({REQUIRED_ERROR:"errNewsletterRequired",CONFIRM_ERROR:"errNewsletterConfirm",EMAIL_NOT_VALID_ERROR:"errNewsletterEmailNotValid",FLAG_ERROR:"errNewsletterFlag",EMAIL_ELEM:"emailNewsletter",CONF_EMAIL_ELEM:"confEmailNewsletter",FULL_ELEM:"fullNewsletter",GO_ELEM:"goNewsletter",YLETTER_ELEM:"yletterNewsletter",YLETTER_2_ELEM:"yletterNewsletter_2",LABELEMAIL_ELEM:"labelEmailNewsletter",LABELCONF_EMAIL_ELEM:"labelConfEmailNewsletter",LABELYLETTER_ELEM:"subscribeNl",initialize:function(a){this.defaultText=a.defaultText;this.invalidEmail=a.invalidEmail;Event.observe($("newsletterInput"),"focus",function(b){if($F("newsletterInput")==this.defaultText){$("newsletterInput").value=""}}.bindAsEventListener(this));Event.observe($("newsletterInput"),"blur",function(b){if($F("newsletterInput")==""){$("newsletterInput").value=this.defaultText}}.bindAsEventListener(this));Event.observe($("newsletterInput"),"keyup",this.checkEnterKey.bindAsEventListener(this));Event.observe($("newsletterSubmit"),"click",this.checkMailNewsletter.bindAsEventListener(this));Event.observe($("newsletterButton"),"click",this.newsletter.bindAsEventListener(this))},checkEnterKey:function(a){if(a.keyCode=="13"){this.checkMailNewsletter(a)}},checkMailNewsletter:function(a){if(!ValidateForm.checkMail("newsletterInput")){alert(this.invalidEmail);XYooxJF.Analisys.trackEvent("Newsletter","SendForm","Error");return}this.newsletter(a,$F("newsletterInput"))},newsletter:function(b,a){this.newsletterLayer=Links.openNewsletter({onComplete:function(){if($("formNewsletter")){$("emailNewsletter").value=a;$("confEmailNewsletter").value=a;$("emailNewsletter").disabled=true;$("confEmailNewsletter").disabled=true;$("labelConfEmailNewsletter").hide();Event.observe($("submitNewsletter"),"click",this.checkFormNewsletter.bindAsEventListener(this));Event.observe($("formNewsletter"),"submit",this.checkFormNewsletter.bindAsEventListener(this))}}.bind(this)})},checkFormNewsletter:function(){Element.hide(this.REQUIRED_ERROR);Element.hide(this.CONFIRM_ERROR);Element.hide(this.EMAIL_NOT_VALID_ERROR);Element.removeClassName(this.LABELEMAIL_ELEM,"error");Element.removeClassName(this.LABELCONF_EMAIL_ELEM,"error");Element.removeClassName(this.LABELYLETTER_ELEM,"error");if($F(this.EMAIL_ELEM)==""||$F(this.CONF_EMAIL_ELEM)==""){Element.show(this.REQUIRED_ERROR);if($F(this.EMAIL_ELEM)==""){Element.addClassName(this.LABELEMAIL_ELEM,"error")}if($F(this.CONF_EMAIL_ELEM)==""){Element.addClassName(this.LABELCONF_EMAIL_ELEM,"error")}XYooxJF.Analisys.trackEvent("Newsletter","SendForm","Error")}else{if(!ValidateForm.checkMail(this.EMAIL_ELEM)){Element.show(this.EMAIL_NOT_VALID_ERROR);Element.addClassName(this.LABELEMAIL_ELEM,"error");XYooxJF.Analisys.trackEvent("Newsletter","SendForm","Error")}else{if($F(this.EMAIL_ELEM)!=$F(this.CONF_EMAIL_ELEM)){Element.show(this.CONFIRM_ERROR);Element.addClassName(this.LABELCONF_EMAIL_ELEM,"error");XYooxJF.Analisys.trackEvent("Newsletter","SendForm","Error")}else{if($(this.YLETTER_ELEM).checked===false){this.submitNewsletter()}else{this.submitNewsletter()}}}}},submitNewsletter:function(){Element.hide(this.FLAG_ERROR);var a;var c;if($(this.YLETTER_2_ELEM)){if($(this.YLETTER_ELEM).readAttribute("mm_id")==null||$(this.YLETTER_2_ELEM).readAttribute("mm_id")==null){Logger.warn("manca attributo mm_id su checkbox ",this.YLETTER_ELEM," e/o ",this.YLETTER_2_ELEM)}a=(($F(this.YLETTER_ELEM)!=null)?$(this.YLETTER_ELEM).readAttribute("mm_id"):"");if($F(this.YLETTER_2_ELEM)!=null){if(a!=""){a=a+","+$(this.YLETTER_2_ELEM).readAttribute("mm_id")}else{a=$(this.YLETTER_2_ELEM).readAttribute("mm_id")}}if(($F(this.YLETTER_ELEM)==null)&&($F(this.YLETTER_2_ELEM)==null)){c=""}else{c="on"}}else{a=null;c=($F(this.YLETTER_ELEM)==null?"":$F(this.YLETTER_ELEM))}var d={layer:1,full:$F(this.FULL_ELEM),go:$F(this.GO_ELEM),mail:$F(this.EMAIL_ELEM),confMail:$F(this.CONF_EMAIL_ELEM),tskay:Links.tskay(),yletter:c};if(a!=null){d.mm_id=a}var b={method:"post",parameters:d,cache:Ajax.NOT_CACHED,onComplete:function(e){this.processNewsletter(e.responseText)}.bind(this)};if(a==""){Logger.warn("NESSUN MM SELEZIONATO");Element.show(this.FLAG_ERROR)}else{new Ajax.Request(Links.FASTREG_SERVICE_URL,b)}},processNewsletter:function(a){this.newsletterLayer.update(a);this.newsletterLayer.locate();var c=$("esitoNewsletter");if(!!c){var b=$("esitoNewsletter").innerHTML;XYooxJF.Analisys.trackEvent("Newsletter","SendForm",((b==="OK")?"Ok":"Error"))}else{XYooxJF.Analisys.trackEvent("Newsletter","SendForm","Ok")}}});var newsletter;var NewsletterManager={process:function(){if(!$("newsletterInput")||typeof(jsinit_newsletter)==="undefined"){return}try{newsletter=new Newsletter(jsinit_newsletter)}catch(a){ErrorManager.error(a)}}};if(typeof($LAB)==="undefined"){Event.observe(window,"load",NewsletterManager.process)}var ValidateForm={checkMail:function(b){if($(b)==null){return false}var c=$F(b);if(c==""){return false}var a=new RegExp("^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-]{2,})+.)+([a-zA-Z0-9]{2,})+$");return a.test(c)}};var test;try{test=top.location.hostname}catch(err){test=true}if(test&&test!=self.location.hostname){top.location.href=self.location.href}CartLayer=Class.create("CartLayer");CartLayer.prototype={initialize:function(){if((navigator.platform!="iPhone")&&(navigator.platform!="iPad")){if($("cartLink")){this.divElm=document.createElement("div");this.divElm.id="cartLayer";$("addToShoppingBag").appendChild(this.divElm);this.divElm=$("cartLayer");this.divElm.style.display="none";this.updateLayer();var d=navigator.userAgent.toLowerCase();var c=parseInt(navigator.appVersion);var b=parseFloat(navigator.appVersion);this.is_ie=((d.indexOf("msie")!=-1)&&(d.indexOf("opera")==-1));this.is_ie6=(this.is_ie&&(c==4)&&(d.indexOf("msie 6.")!=-1));var a=$("cartLink");Event.observe(a,"mouseover",this.mouseEnterLeave.bind(this,"enter"));Event.observe(a,!!Prototype.Browser.IE?"mouseenter":"mouse:enter",function(){this.openLayer()}.bindAsEventListener(this));Event.observe(a,"mouseout",this.mouseEnterLeave.bind(this,"leave"));Event.observe(a,!!Prototype.Browser.IE?"mouseleave":"mouse:leave",function(){this.closeLayer()}.bindAsEventListener(this))}}},openLayer:function(){if(this.is_ie6){var a=$A(document.getElementsByTagName("select"))||[];a.each(function(b){b.setStyle({visibility:"hidden"})})}if($("addToShoppingBag").innerHTML!=""){this.divElm.style.display="block";this.divElm.style.opacity="1.0"}},closeLayer:function(){if(this.is_ie6){var a=$A(document.getElementsByTagName("select"))||[];a.each(function(b){b.setStyle({visibility:"visible"})})}if($("addToShoppingBag").innerHTML!=""){this.divElm.hide();this.divElm.style.opacity="0.0"}},mouseEnterLeave:function(b,c){if(!this.is_ie){var a=c.relatedTarget,d=c.currentTarget;if(a&&a.nodeType==3){a=a.parentNode}if(a==undefined||(a.tagName&&a.tagName.match(/^xul\:/i))||(a&&a!=d&&a.descendantOf&&!a.descendantOf(d))){c.currentTarget.fire("mouse:"+b,c);return}}},updateLayer:function(){if(typeof(this.divElm)!=="undefined"){new Ajax.Request("/checkout/cart.asp?service=1",{onSuccess:function(a){this.divElm.update(a.responseText)}.bind(this)})}}};var CartLayerIstance;var CartLayerManager={process:function(){CartLayerIstance=new CartLayer()}};Event.observe(window,"load",CartLayerManager.process);Object.extend(Links,{SITE_CONTEXT:"valentino.Site",FASTREG_SERVICE_URL:"/fastreg.asp",openShippingTimes:function(f){var b=Element.cumulativeOffset($("footer"))[1]-300;var d=(screen.width/2)-250;var c={type:"window",width:500,draggable:true,enableClose:true,top:b,left:d};var a=new LITBox("/scripts/server/PopupDeliveryCostService.asp",c)},openAvailability:function(){Links.openXYooxWindow(Links.AVAILABILITY_URL,"AvailabilityPopup","320","260")},infoDreamboxGift:function(){Links.openXYooxWindow(Links.INFODREAMBOXGIFT_URL,"dreamboxGiftPopup","430","270")},dreamboxSend:function(){Links.openXYooxWindow(Links.DREAMBOXSEND_URL,"sendmy","460","400")},dreamboxSendInvite:function(){Links.openXYooxWindow(Links.DREAMBOXSENDINVITE_URL,"sendinvite","460","400")},infoYooxLetterExample:function(){Links.openXYooxWindow(Links.INFOYOOXLETTER_URL,"yooxLetterPopup","430","700")},infoROW:function(){Links.openXYooxWindow(Links.INFOROW_URL,"Worldwide","430","450")},openTrackDetail:function(b,a){Links.openXYooxWindow("/account/trackingDetail.asp?vettore="+a+"&trackNum="+b,"TrackDetailPopup","700","580")},openCopyright:function(){var a=new XYooxJF.Cookies("VISIT");a.load();Links.openXYooxWindow("/popupinfo.asp?page=main/popupinfo_copyright&tskay="+a.TSKAY,"CopyrightPopup","430","350")},openCorporate:function(b){var a=new XYooxJF.Cookies("VISIT");a.load();Links.openXYooxWindow(b+"?cart=1&tskay="+a.TSKAY,"LegalPopup","1080","450")},openForgetPass:function(){Links.openXYooxWindow(Links.FORGETPASS_URL,"ForgetPassPopup","460","300")},openOtherCountry:function(){var a=new XYooxJF.Cookies("VISIT");a.load();Links.openXYooxWindow(Links.OTHERCOUNTRY_URL+"?tskay="+a.TSKAY,"popupOther","430","330")},infoCompile:function(){Links.openXYooxWindow(Links.INFOCOMPILE_URL,"infoCompile","770","400")},openPopupFixedPromo:function(a){Links.openXYooxWindow(Links.POPUPPROMO_URL+"?promocode="+a,"popupPromo","800","425")},openPopupImage:function(a,b){Links.openXYooxWindow("/popupinfo.asp?page=checkout/cart/popupinfo_itemlink&code="+a,"yooxInfoCode","380","300")},openPopupItemPrint:function(c){var b=new XYooxJF.Cookies("VISIT");b.load();var a={resizable:"yes",width:"670",height:"790",pointer:{pointerX:100,pointerY:50}};XYooxJF.openWindow("/item.asp?tskay="+b.TSKAY+"&cod10="+c+"&sts=print","ItemPrint",a)},openPopupUpsTollFree:function(){var b=new XYooxJF.Cookies("VISIT");b.load();var a={resizable:"yes",width:"350",height:"300",pointer:{pointerX:100,pointerY:50}};XYooxJF.openWindow("/popupinfo.asp?page=help/infoUpsNumbers&tskay="+b.TSKAY,"UPSNumbersPopup",a)},openProposition:function(){var a={type:"window",width:500,height:400,enableClose:true,className:"Proposition65Popup",draggable:false};Links.openXYooxLITBoxOptions("/scripts/services/layerinfoservice.asp?gender=D&page=popupinfo_proposition65&tskay=B60ACEA7",a)},infoCVV:function(){Links.openXYooxWindow(Links.INFOCVV_URL,"CVVPopup","680","500")},openTechAssistance:function(){Links.openXYooxWindow(Links.TECHASSISTANCE_URL,"TechAssistancePopup","470","480")},openPopupHolidaysCrm:function(){Links.openXYooxWindow(Links.POPUP_HOLIDAYSCRM,"HolidaysCrmPopup","360","335")},openPopupHolidays:function(){var a={type:"window",width:260,height:260,className:"popupHolidays",draggable:false};Links.openXYooxWindow(Links.POPUP_HOLIDAYS,"HolidaysPopup","400","260")},openSizeConversion:function(f,c,b,e){var a={type:"window",width:400,height:200,enableClose:true,className:"popupSizeConversion",draggable:false};var d="";if(typeof(jsoninit_itemsnavigation)!=="undefined"){d+="&gender="+jsoninit_itemsnavigation.gender}Links.openXYooxLITBoxOptions(Links.INSERTSIZECONVERSION_URL+"&Nax="+f+"&CT="+c+d+"&brand_id="+b+"&tskay="+e,a)},openOrderDetail:function(b,a){if(a=="return"){Links.openXYooxWindow(Links.ORDERDETAIL_URL+"?ret=1&idord="+b,"order_detail","930","350")}else{Links.openXYooxWindow(Links.ORDERDETAIL_URL+"?idord="+b,"order_detail","930","380")}},openAvailability:function(){Links.openXYooxWindow(Links.AVAILABILITY_URL,"AvailabilityPopup","360","380")},openPopupSecureOrder:function(){var a={type:"window",width:450,height:300,enableClose:true,left:Position.cumulativeOffset($("secureOrder"))[0],top:Position.cumulativeOffset($("secureOrder"))[1]-150};new LITBox(Links.LAYER_SECURE,a)},openReturns:function(f){var b=Element.cumulativeOffset($("footer"))[1]-200;var d=(screen.width/2)-240;var c={type:"window",width:500,draggable:true,enableClose:true,top:b,left:d,enableNoBottomGap:true,closePosition:"bottom"};var a=new LITBox(Links.LAYER_RETURNS,c)},openPopupPromoCode:function(d){var c=new XYooxJF.Cookies("VISIT");c.load();var b={event:d,pageX:d.pageX,pageY:d.pageY,clientX:d.clientX,clientY:d.clientY};var a={type:"window",width:260,height:220,enableClose:true,moveToMouse:true,pointer:{pointerX:Event.pointerX(d),pointerY:Event.pointerY(d)-250}};new LITBox(Links.LAYER_PROMOCODE+"&tskay="+c.TSKAY,a)},openNewsletter:function(b){var a=Element.cumulativeOffset($("header"))[1]+200;var d=(screen.width/2)-240;var c={type:"window",width:500,draggable:true,enableClose:true,top:a,left:d,moveToElement:"newsletterSubmit",ajaxOptions:b};return new LITBox(Links.FASTREG_SERVICE_URL+"?layer=1&tskay="+Links.tskay(),c)},openFacebookILike:function(d){var a=document.createElement("iframe");var c="http://www.facebook.com/plugins/like.php?href="+Links.DYNAMIC_DOMAIN+"/item.asp?cod10="+d;a.src=c;var b={conservative:false,enableClose:true,overlay:false,width:"400",height:"120",type:"node",allowTransparency:"true",frameborder:"0"};new LITBox(a,b)}});menuClassName="menuNavigation";var HomeMenu=Class.create({inizialize:function(a){this.menu=a},closeSub:function(b){for(var a=0;a<b.childNodes.length;a++){if(b.childNodes[a].nodeName.toLowerCase()=="li"){li=b.childNodes[a];li.onmouseover=li.onactivate=li.onfocus=function(){if(this.subMenu){elem=this;elem.className=elem.className+" currentSel";this.subMenu.className=this.subMenu.className.replace(/subMenu-off/g,"subMenu-on")}};li.onmouseout=li.ondeactivate=li.onblur=function(){if(this.subMenu){elem=this;elem.className=elem.className.replace(/currentSel/g,"");menuObj.closeSub(this.subMenu)}};for(j=0;j<li.childNodes.length;j++){if(li.childNodes[j].nodeName.toLowerCase()=="ul"||li.childNodes[j].nodeName.toLowerCase()=="ol"){this.closeSub(li.subMenu=li.childNodes[j])}}}}b.className=b.className.replace(/\s?subMenu-on/g,"")+" subMenu-off"}});var menuObj;var onFocusManager={process:function(a){menuObj=new HomeMenu();if(tags_=document.getElementsByTagName("ul")){for(i=0;i<tags_.length;i++){if(tags_[i].className==menuClassName){menuObj.closeSub(tags_[i])}}}if(tags_=document.getElementsByTagName("ol")){for(i=0;i<tags_.length;i++){if(tags_[i].className==menuClassName){menuObj.closeSub(tags_[i])}}}}};Event.observe(window,"load",onFocusManager.process);var isIpad=(navigator.userAgent.indexOf("iPad")==-1)?false:true;Event.observe(document,"dom:loaded",function(){if(typeof(jsinit_player)!=="undefined"){var b=$("targetVideo").readAttribute("rel");var a=new BCplayer(b,jsinit_player);a.setupVideoPlayer();a.play()}if((typeof(jsInit_FromVideo)!=="undefined")&&!(isIpad)){Event.observe("linkLayer","click",function(c){window.location.href=jsInit_FromVideo.link})}});var Menu=Class.create();Menu.prototype={initialize:function(b,a){this.name=a;this.type="menu";this.closeDelayTimer=null;this.closingMenuItem=null;this.collapseBorders=true;this.quickCollapse=true;this.closeDelayTime=300;this.rootContainer=new MenuContainer(b,this)}};var MenuContainer=Class.create();MenuContainer.prototype={initialize:function(b,a){this.type="menuContainer";this.menuItems=[];this.setup(b,a)},setup:function(d,b){this.element=$(d);this.parent=b;this.parentMenu=(this.type=="menuContainer")?((b)?b.parent:null):b;this.root=b instanceof Menu?b:b.root;this.id=this.element.id;if(this.type=="menuContainer"){if(this.element.hasClassName("firstSel")){this.menuType="horizontal"}else{if(this.element.hasClassName("secondSel")){this.menuType="dropdown"}else{this.menuType="flyout"}}if(this.menuType=="flyout"||this.menuType=="dropdown"){this.isOpen=false;Element.setStyle(this.element,{position:"absolute",top:"0px",left:"0px",display:"none"})}else{this.isOpen=true}}else{this.isOpen=this.parentMenu.isOpen}var e=this.element.childNodes;if(e==null){return}for(var a=0;a<e.length;a++){var c=e[a];if(c.nodeType==1){if(this.type=="menuContainer"){if(c.tagName.toLowerCase()=="li"){this.menuItems.push(new MenuItem(c,this))}}else{if(c.tagName.toLowerCase()=="ul"){this.subMenu=new MenuContainer(c,this)}}}}},getBorders:function(d){var b=["Left","Top","Right","Bottom"];var a={};for(var c=0;c<b.length;++c){if(this.element.currentStyle){var e=parseInt(this.element.currentStyle["border"+b[c]+"Width"])}else{if(window.getComputedStyle){var e=parseInt(window.getComputedStyle(this.element,"").getPropertyValue("border-"+b[c].toLowerCase()+"-width"))}else{var e=parseInt(this.element.style["border"+b[c]])}}a[b[c].toLowerCase()]=isNaN(e)?0:e}return a},open:function(){if(this.root.closeDelayTimer){window.clearTimeout(this.root.closeDelayTimer)}this.parentMenu.closeAll(this);this.isOpen=true;if(this.menuType=="dropdown"){var c=0;if(this.parent.element.className=="lastFilter"){c=Element.getWidth(this.element)-Element.getWidth(this.parent.element)-12}Element.setStyle(this.element,{left:(Element.positionedOffset(this.parent.element)[0]-c)+"px",top:(Element.positionedOffset(this.parent.element)[1]+Element.getHeight(this.parent.element))+"px"})}else{if(this.menuType=="flyout"){var b=this.parentMenu?this.parentMenu.getBorders():new Object();var a=this.getBorders();if((Position.positionedOffset(this.parentMenu.element)[0]+this.parentMenu.element.offsetWidth+this.element.offsetWidth+20)>(window.innerWidth?window.innerWidth:document.body.offsetWidth)){Element.setStyle(this.element,{left:(-this.element.offsetWidth-(this.root.collapseBorders?0:b.left))+"px"})}else{Element.setStyle(this.element,{left:(this.parentMenu.element.offsetWidth-b.left-(this.root.collapseBorders?Math.min(b.right,a.left):0))+"px"})}Element.setStyle(this.element,{top:(this.parent.element.offsetTop-b.top-this.menuItems[0].element.offsetTop)+"px"})}}Element.setStyle(this.element,{display:"block"})},close:function(){Element.setStyle(this.element,{display:"none"});this.isOpen=false;this.closeAll()},closeAll:function(a){for(var b=0;b<this.menuItems.length;++b){this.menuItems[b].closeItem(a)}}};var MenuItem=Class.create();Object.extend(Object.extend(MenuItem.prototype,MenuContainer.prototype),{initialize:function(idOrElement,parent){var menuItem=this;this.type="menuItem";this.subMenu;this.setup(idOrElement,parent);if(this.subMenu){this.element.onmouseover=function(){menuItem.subMenu.open()}}else{if(this.root.quickCollapse){this.element.onmouseover=function(){menuItem.parentMenu.closeAll()}}}var linkTag=this.element.getElementsByTagName("A")[0];if(linkTag){linkTag.onfocus=this.element.onmouseover;this.link=linkTag;this.text=linkTag.text}if(this.subMenu){this.element.onmouseout=function(){if(menuItem.root.openDelayTimer){window.clearTimeout(menuItem.root.openDelayTimer)}if(menuItem.root.closeDelayTimer){window.clearTimeout(menuItem.root.closeDelayTimer)}eval(menuItem.root.name+".closingMenuItem = menuItem");menuItem.root.closeDelayTimer=window.setTimeout(menuItem.root.name+".closingMenuItem.subMenu.close()",menuItem.root.closeDelayTime)}}},openItem:function(){this.isOpen=true;if(this.subMenu){this.subMenu.open()}},closeItem:function(a){this.isOpen=false;if(this.subMenu&&this.subMenu!=a){this.subMenu.close()}}});var menu,menuFilter;var MenuManager={process:function(){Logger.debug("process");if($("menu")){menu=new Menu("menu","menu")}if($("menuFilter")){menuFilter=new Menu("menuFilter","menuFilter")}}};Event.observe(window,"load",MenuManager.process);if(brightcove==undefined){var brightcove={};brightcove.getExperience=function(){alert("Please import APIModules_all.js in order to use the API.")}}if(brightcove.experiences==undefined){brightcove.servicesURL="http://c.brightcove.com/services";brightcove.cdnURL="http://admin.brightcove.com";brightcove.secureCDNURL="https://sadmin.brightcove.com";brightcove.secureServicesURL="https://secure.brightcove.com/services";brightcove.pubHost="c.$pubcode$.$zoneprefix$$zone$";brightcove.pubSecureHost="secure.$pubcode$.$zoneprefix$$zone$";brightcove.pubSubdomain="ariessaucetown.local";brightcove.experiences={};brightcove.experienceNum=0;brightcove.majorVersion=9;brightcove.majorRevision=0;brightcove.minorRevision=28;brightcove.servlet={AS3:"federated_f9",HTML:"htmlFederated"};brightcove.playerType={FLASH:"flash",HTML:"html",INSTALLER:"installer",NO_SUPPORT:"nosupport"};brightcove.defaultParam={};brightcove.defaultParam.width="100%";brightcove.defaultParam.height="100%";brightcove.defaultFlashParam={};brightcove.defaultFlashParam.allowScriptAccess="always";brightcove.defaultFlashParam.allowFullScreen="true";brightcove.defaultFlashParam.seamlessTabbing=false;brightcove.defaultFlashParam.swliveconnect=true;brightcove.defaultFlashParam.wmode="window";brightcove.defaultFlashParam.quality="high";brightcove.defaultFlashParam.bgcolor="#999999";brightcove.isIE=(window.ActiveXObject!=undefined);brightcove.userAgent=navigator.userAgent;var brightcoveJS=brightcove;brightcove.createExperiences=function(f,c){var b=[];var k;var n;var a;var p;var l=brightcove.checkFlashSupport();var o=brightcove.checkHtmlSupport();if(c!=null){b.push(document.getElementById(c))}else{b=brightcove.collectExperiences()}if(brightcove.isIE){k=document.getElementsByTagName("param")}var d=brightcove.cacheUrlParams();var e=b.length;for(var m=0;m<e;m++){n=b[m];n=brightcove.copyDefaultParams(n);n=brightcove.copySnippetParams(n,k);n=brightcove.copyUrlParams(n,d,e);var r=brightcove.determinePlayerType(n,l,o);var q=(n.params.secureConnections=="true");if(r==brightcove.playerType.HTML){q=false}if(r==brightcove.playerType.NO_SUPPORT){brightcove.renderInstallGif(n,q);continue}var g=brightcove.generateRequestUrl(n,r,q);brightcove.renderExperience(n,g,r,q)}};brightcove.collectExperiences=function(){var d=[];var a=document.getElementsByTagName("object");var c=a.length;for(var b=0;b<c;b++){if(/\bBrightcoveExperience\b/.test(a[b].className)){if(a[b].type!="application/x-shockwave-flash"){d.push(a[b])}}}return d};brightcove.cacheUrlParams=function(){var b={};b.playerKey=brightcove.getParameter("bckey");b.escapedPlayerKey=b.playerKey;if(b.playerKey){b.escapedPlayerKey=b.playerKey.split(",");for(var a in b.escapedPlayerKey){b.escapedPlayerKey[a]=brightcove.encode(b.escapedPlayerKey[a])}b.escapedPlayerKey=b.escapedPlayerKey.join(",")}b.playerID=brightcove.getParameter("bcpid");b.titleID=brightcove.getParameter("bctid");b.lineupID=brightcove.getParameter("bclid");b.autoStart=brightcove.getParameter("autoStart");return b};brightcove.copyDefaultParams=function(b){if(!b.params){b.params={}}if(!b.flashParams){b.flashParams={}}for(var a in brightcove.defaultParam){b.params[a]=brightcove.defaultParam[a]}for(var a in brightcove.defaultFlashParam){b.flashParams[a]=brightcove.defaultFlashParam[a]}if(b.id.length>0){b.params.flashID=b.id}else{b.id=b.params.flashID="bcExperienceObj"+(brightcove.experienceNum++)}return b};brightcove.copySnippetParams=function(b,e){if(!brightcove.isIE){e=b.getElementsByTagName("param")}var d=e.length;var c;for(var a=0;a<d;a++){c=e[a];if(brightcove.isIE&&c.parentNode.id!=b.id){continue}b.params[c.name]=c.value}if(b.params.bgcolor!=undefined){b.flashParams.bgcolor=b.params.bgcolor}if(b.params.wmode!=undefined){b.flashParams.wmode=b.params.wmode}return b};brightcove.copyUrlParams=function(c,b,d){if(c.params.autoStart==undefined&&b.autoStart!=undefined){c.params.autoStart=b.autoStart}var a=(b.playerID.length<1&&b.playerKey.length<1)||(b.playerID==c.params.playerID)||(b.playerKey==c.params.playerKey)||(b.escapedPlayerKey==c.params.playerKey);if(a){if(b.titleID.length>0){c.params.videoID=b.titleID;c.params["@videoPlayer"]=b.titleID;c.params.autoStart=(c.params.autoStart!="false"&&b.autoStart!="false")}if(b.lineupID.length>0){c.params.lineupID=b.lineupID}}return c};brightcove.determinePlayerType=function(a,b,c){if(b==null&&c==false){return brightcove.playerType.NO_SUPPORT}if(a.params.forceHTML5){return brightcove.playerType.HTML}if(b!=null){if(brightcove.isFlashVersionSufficient(a,b)){return brightcove.playerType.FLASH}else{return brightcove.playerType.INSTALLER}}if(c){return brightcove.playerType.HTML}return brightcove.playerType.NO_SUPPORT};brightcove.isFlashVersionSufficient=function(b,e){if(e==null){return false}var a=false;var d;var c;var f;if(b.params.majorVersion!=undefined){d=parseInt(b.params.majorVersion,10);a=true}else{d=brightcove.majorVersion}if(b.params.majorRevision!=undefined){c=parseInt(b.params.majorRevision,10)}else{if(a){c=0}else{c=brightcove.majorRevision}}if(b.params.minorRevision!=undefined){f=parseInt(b.params.minorRevision,10)}else{if(a){f=0}else{f=brightcove.minorRevision}}if(e.majorVersion>d||(e.majorVersion==d&&e.majorRevision>c)||(e.majorVersion==d&&e.majorRevision==c&&e.minorRevision>=f)){return true}return false};brightcove.generateRequestUrl=function(e,g,b){var d;if(g==brightcove.playerType.INSTALLER){d=brightcove.cdnURL+"/viewer/playerProductInstall.swf";var f=brightcove.isIE?"ActiveX":"PlugIn";document.title=document.title.slice(0,47)+" - Flash Player Installation";var a=document.title;d+="?&MMredirectURL="+window.location+"&MMplayerType="+f+"&MMdoctitle="+a}else{if(b){d=brightcove.getPubURL(brightcove.secureServicesURL,brightcove.pubSecureHost,e.params.pubCode)}else{d=brightcove.getPubURL(brightcove.servicesURL,brightcove.pubHost,e.params.pubCode)}var k=(g==brightcove.playerType.HTML)?brightcove.servlet.HTML:brightcove.servlet.AS3;d+=("/viewer/"+k+"?"+brightcove.getOverrides());for(var c in e.params){d+="&"+encodeURIComponent(c)+"="+encodeURIComponent(e.params[c])}}return d};brightcove.renderInstallGif=function(d,c){var a="_container"+d.id;var b=brightcove.createElement("span");if(d.params.height.charAt(d.params.height.length-1)=="%"){b.style.display="block"}else{b.style.display="inline-block"}b.id=a;var f=c?brightcove.secureCDNURL:brightcove.cdnURL;var e="<a href='http://www.adobe.com/go/getflash/' target='_blank'><img src='"+f+"/viewer/upgrade_flash_player2.gif' alt='Get Flash Player' width='314' height='200' border='0'></a>";d.parentNode.replaceChild(b,d);document.getElementById(a).innerHTML=e};brightcove.renderExperience=function(k,d,o,l){var a;var b;var m="_container"+k.id;if(k.params.playerKey||k.params.playerID||k.params.playerId||k.params.playerid){if(o==brightcove.playerType.HTML){d+="&startTime="+new Date().getTime();d+="&refURL="+(window.document.referrer?window.document.referrer:"not available");if(brightcove.getParameter("unminified")=="true"){d+="&unminified=true"}a=brightcove.createElement("iframe");a.width=k.params.width;a.height=k.params.height;a.className=k.className;a.frameborder=0;a.scrolling="no";a.style.borderStyle="none";k.parentNode.replaceChild(a,k);brightcove.experiences[k.id]=a;if(k.params.videoID){d+="&"+encodeURIComponent("@videoPlayer")+"="+encodeURIComponent(k.params.videoID)}a.src=d}else{if(brightcove.isIE){b=brightcove.createElement("span");if(k.params.height.charAt(k.params.height.length-1)=="%"){b.style.display="block"}else{b.style.display="inline-block"}b.id=m;k.flashParams.movie=d;var p="";for(var e in k.flashParams){p+='<param name="'+e+'" value="'+k.flashParams[e]+'" />'}var n=l?"https":"http";var g='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+n+"://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+brightcove.majorVersion+","+brightcove.majorRevision+","+brightcove.minorRevision+',0" id="'+k.id+'" width="'+k.params.width+'" height="'+k.params.height+'" type="application/x-shockwave-flash" class="BrightcoveExperience">'+p+"</object>";k.parentNode.replaceChild(b,k);document.getElementById(m).innerHTML=g;k.experience=document.getElementById(k.id);brightcove.experiences[k.id]=b}else{a=brightcove.createElement("object");a.type="application/x-shockwave-flash";a.data=d;a.id=k.params.flashID;a.width=k.params.width;a.height=k.params.height;a.className=k.className;var f;for(var c in k.flashParams){f=brightcove.createElement("param");f.name=c;f.value=k.flashParams[c];a.appendChild(f)}k.parentNode.replaceChild(a,k);brightcove.experiences[k.id]=a}}}};brightcove.checkFlashSupport=function(){var b=(window.ActiveXObject!=undefined);var a=(b)?brightcove.checkFlashSupportIE():brightcove.checkFlashSupportStandard();return a};brightcove.checkFlashSupportIE=function(){var a;try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");var b=c.GetVariable("$version");a=/ ([0-9]+),([0-9]+),([0-9]+),/.exec(b)}catch(d){return null}return{majorVersion:a[1],majorRevision:a[2],minorRevision:a[3]}};brightcove.checkFlashSupportStandard=function(){var b;var a;var g;var k;try{if(typeof navigator.plugins!="undefined"&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var f=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var e=navigator.plugins["Shockwave Flash"+f].description;var c=navigator.plugins["Shockwave Flash"+f].filename;if(c.match){if(c.toLowerCase().match(/lite/)){throw new Error()}}b=e.split(" ");a=b[2].split(".")[0];g=b[2].split(".")[1];k=b[3];if(k==""){k=b[4]}if(k[0]=="d"){k=k.substring(1)}else{if(k[0]=="r"){k=k.substring(1);if(k.indexOf("d")>0){k=k.substring(0,k.indexOf("d"))}}}}else{throw new Error()}}else{return null}}catch(d){return null}return{majorVersion:a,majorRevision:g,minorRevision:k}};brightcove.checkHtmlSupport=function(){var b=brightcove.createElement("video");var e=brightcove.createElement("canvas");var d=true;if(!brightcove.userAgent.match(new RegExp("android","i"))){d=!!(b.canPlayType&&b.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))}var a=!!brightcove.createElement("canvas").getContext;return d&&a&&brightcove.iDevice()};brightcove.iDevice=function(e){var c=["iPad","iPhone","iPod","android"];var d=c.length;var a=brightcove.userAgent;for(var b=0;b<d;b++){if(a.match(new RegExp(c[b],"i"))){return true}}return false};brightcove.getTechnology=function(a){for(var b in brightcove.experiences){if(a==b){return(brightcove.experiences[b].tagName=="object")?brightcove.playerType.FLASH:brightcove.playerType.HTML}}};brightcove.createExperience=function(a,c,b){if(!a.id||a.id.length<1){a.id="bcExperienceObj"+(brightcove.experienceNum++)}if(b){c.appendChild(a)}else{c.parentNode.insertBefore(a,c)}brightcove.createExperiences(null,a.id)};brightcove.removeExperience=function(a){if(brightcove.experiences[a]!=null){brightcove.experiences[a].parentNode.removeChild(brightcove.experiences[a])}};brightcove.getURL=function(){var a;if(typeof window.location.search!="undefined"){a=window.location.search}else{a=/(\?.*)$/.exec(document.location.href)}return a};brightcove.getOverrides=function(){var a=brightcove.getURL();var c=new RegExp("@[\\w\\.]+=[^&]+","g");var b=c.exec(a);var d="";while(b!=null){d+="&"+b;b=c.exec(a)}return d};brightcove.getParameter=function(a,e){if(e==null){e=""}var b=brightcove.getURL();var d=new RegExp(a+"=([^&]*)");var c=d.exec(b);if(c!=null){return c[1]}else{return e}};brightcove.createElement=function(a){if(document.createElementNS){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}else{return document.createElement(a)}};brightcove.i18n={BROWSER_TOO_OLD:"The browser you are using is too old. Please upgrade to the latest version of your browser."};brightcove.removeListeners=function(){if(/KHTML/i.test(navigator.userAgent)){clearInterval(checkLoad);document.removeEventListener("load",brightcove.createExperiences,false)}if(typeof document.addEventListener!="undefined"){document.removeEventListener("DOMContentLoaded",brightcove.createExperiences,false);document.removeEventListener("load",brightcove.createExperiences,false)}else{if(typeof window.attachEvent!="undefined"){window.detachEvent("onload",brightcove.createExperiences)}}};brightcove.getPubURL=function(d,c,a){if(!a||a==""){return d}var b=/^([htps]{4,5}\:\/\/)([^\/\:]+)/i;c=c.replace("$pubcode$",a).replace("$zoneprefix$$zone$",brightcove.pubSubdomain);return d.replace(b,"$1"+c)};brightcove.createExperiencesPostLoad=function(){brightcove.removeListeners();brightcove.createExperiences()};brightcove.encode=function(a){a=escape(a);a=a.replace(/\+/g,"%2B");a=a.replace(/\-/g,"%2D");a=a.replace(/\*/g,"%2A");a=a.replace(/\//g,"%2F");a=a.replace(/\./g,"%2E");a=a.replace(/_/g,"%5F");a=a.replace(/@/g,"%40");return a};brightcove.onTemplateLoaded=function(id,handler){var player=brightcove.getExperience(id);if(player){player.getModule("experience").addEventListener("templateReady",eval(handler))}};if(/KHTML/i.test(navigator.userAgent)){var checkLoad=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(checkLoad);brightcove.createExperiencesPostLoad()}},70);document.addEventListener("load",brightcove.createExperiencesPostLoad,false)}if(typeof document.addEventListener!="undefined"){document.addEventListener("DOMContentLoaded",brightcove.createExperiencesPostLoad,false);document.addEventListener("load",brightcove.createExperiencesPostLoad,false)}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onload",brightcove.createExperiencesPostLoad)}else{alert(brightcove.i18n.BROWSER_TOO_OLD)}}}var APIModules={};APIModules.EXPERIENCE="experience";APIModules.CONTENT="content";APIModules.VIDEO_PLAYER="videoPlayer";APIModules.SOCIAL="social";APIModules.SEARCH="search";APIModules.CUE_POINTS="cuePoints";APIModules.ADVERTISING="advertising";APIModules.MENU="menu";APIModules.EFFECTS="effects";APIModules.CONVIVA="conviva";if(brightcove==undefined){var brightcove={}}brightcove.instances={};brightcove.modules={};brightcove.ID_DELIM="|||";var bcPlayer=brightcove;brightcove.getExperience=function(a){if(this.instances[a]==null){alert("Experience '"+a+"' not found. Please ensure the name is correct and the API for the player is enabled.")}return this.instances[a]};brightcove.getPlayer=brightcove.getExperience;function setAPICallback(b,a){brightcove.instances[b]=new BrightcoveExperience(a)}function BrightcoveExperience(a){this.callback=a;this.modules={}}BrightcoveExperience.prototype.getModule=function(a){if(this.modules[a]==null){var b=new brightcove.modules[a](this);if(b.isPlayerDefined!=null){if(!b.isPlayerDefined()){return null}}this.modules[a]=b}return this.modules[a]};function APIModule(){this.handlers=[]}APIModule.handlerCount=0;APIModule.getHandler=function(){return"bc_handler"+(APIModule.handlerCount++)};APIModule.callFlash=function(c,e){var b=c.split(brightcove.ID_DELIM);if(b.length<2){return}if(b[0].length<1){return}var d=b[0];var c=b[1];var a=document.getElementById(d);if(a[c]!=null){return a[c](BCXML.convertToXML(e,"js2flash"))}};APIModule.prototype.name="APIModule";APIModule.prototype.addEventListener=function(a,b){var c=APIModule.getHandler();this.handlers.push({handler:b,bcHandler:c,event:a});window[c]=b;return this.callMethod("addEventListener",[a,c])};APIModule.prototype.removeEventListener=function(b,c){var e=this.handlers.length;for(var d=0;d<e;d++){if(this.handlers[d].event==b&&this.handlers[d].handler==c){var a=this.handlers[d].bcHandler;this.handlers.splice(d,1);break}}if(a==undefined){return}return this.callMethod("removeEventListener",[b,a])};APIModule.prototype.callMethod=function(c,d){var a=[];for(var b=0;b<d.length;b++){a.push(d[b])}return APIModule.callFlash(this.callback,{module:this.name,method:c,params:a})};var BCXML={};BCXML.convertToXML=function(f,a){if(f instanceof Function){return""}var c=BCXML.getType(f);var e="<"+c.name+a+">";if(c.name=="obj"){for(var d in f){e+=BCXML.convertToXML(f[d],d)}}else{if(c.name=="arr"){for(var b=0;b<f.length;b++){e+=BCXML.convertToXML(f[b],b)}}else{if(c.name=="str"){f=BCXML.replaceEntities(f);e+=f}else{e+=f}}}e+="</"+c.name+a+">";return e};BCXML.replaceEntities=function(a){a=a.replace(new RegExp("&","g"),"&amp;");a=a.replace(new RegExp("<","g"),"&lt;");a=a.replace(new RegExp(">","g"),"&gt;");return a};BCXML.getType=function(a){switch(typeof(a)){case"boolean":return{name:"boo",type:Boolean};case"string":return{name:"str",type:String};case"number":return{name:"num",type:Number};default:if(a instanceof Array){return{name:"arr",type:Array}}else{return{name:"obj",type:Object}}}};BCAdvertisingEvent={};BCAdvertisingEvent.AD_COMPLETE="adComplete";BCAdvertisingEvent.AD_POSTROLLS_COMPLETE="adPostRollsComplete";BCAdvertisingEvent.AD_PAUSE="adPause";BCAdvertisingEvent.AD_PROGRESS="adProgress";BCAdvertisingEvent.AD_RESUME="adResume";BCAdvertisingEvent.AD_RECEIVED="adReceived";BCAdvertisingEvent.AD_START="adStart";BCAdvertisingEvent.AD_CLICK="adClick";BCAdvertisingEvent.EXTERNAL_AD="externalAd";BCAdvertisingEvent.AD_RULES_READY="adRulesReady";brightcove.modules[APIModules.ADVERTISING]=AdvertisingAPI;function AdvertisingAPI(a){this.experience=a;this.callback=a.callback;this.name=APIModules.ADVERTISING}var pttp=AdvertisingAPI.prototype=new APIModule();pttp.showAd=function(){return this.callMethod("showAd",arguments)};pttp.resumeAfterExternalAd=function(){return this.callMethod("resumeAfterExternalAd",arguments)};pttp.getEnabledAdFormats=function(){return this.callMethod("getEnabledAdFormats",arguments)};pttp.enableAdFormats=function(){return this.callMethod("enableAdFormats",arguments)};pttp.enableExternalAds=function(){return this.callMethod("enableExternalAds",arguments)};pttp.enableOverrideAds=function(){return this.callMethod("enableOverrideAds",arguments)};pttp.getExternalAdsEnabled=function(){return this.callMethod("getExternalAdsEnabled",arguments)};pttp.getOverrideAdsEnabled=function(){return this.callMethod("getOverrideAdsEnabled",arguments)};pttp.disableForExternalAd=function(){return this.callMethod("disableForExternalAd",arguments)};pttp.getCurrentAdProperties=function(){return this.callMethod("getCurrentAdProperties",arguments)};pttp.showSponsorMessage=function(){return this.callMethod("showSponsorMessage",arguments)};pttp.getShowSponsorMessage=function(){return this.callMethod("getShowSponsorMessage",arguments)};pttp.allowThirdPartyControl=function(){return this.callMethod("allowThirdPartyControl",arguments)};pttp.setThirdPartyTime=function(){return this.callMethod("setThirdPartyTime",arguments)};pttp.getThirdPartyTime=function(){return this.callMethod("getThirdPartyTime",arguments)};pttp.getAdPolicy=function(){return this.callMethod("getAdPolicy",arguments)};pttp.setAdPolicy=function(){return this.callMethod("setAdPolicy",arguments)};pttp.requestAd=function(){return this.callMethod("requestAd",arguments)};pttp.getStayInFullScreen=function(){return this.callMethod("getStayInFullScreen",arguments)};pttp.setStayInFullScreen=function(){return this.callMethod("setStayInFullScreen",arguments)};BCContentEvent={};BCContentEvent.VIDEO_LOAD="videoLoad";BCContentEvent.PLAYLIST_LOAD="playlistLoad";BCContentEvent.MEDIA_LOAD="mediaLoad";BCContentEvent.MEDIA_COLLECTION_LOAD="mediaCollectionLoad";brightcove.modules[APIModules.CONTENT]=ContentAPI;function ContentAPI(a){this.experience=a;this.callback=a.callback;this.name=APIModules.CONTENT}var pttp=ContentAPI.prototype=new APIModule();pttp.getAllMediaCollections=function(){return this.callMethod("getAllMediaCollections",arguments)};pttp.getAllMediaCollectionIDs=function(){return this.callMethod("getAllMediaCollectionIDs",arguments)};pttp.getAllPlaylists=function(){return this.callMethod("getAllPlaylists",arguments)};pttp.getAllPlaylistIDs=function(){return this.callMethod("getAllPlaylistIDs",arguments)};pttp.getMediaCollection=function(){return this.callMethod("getMediaCollection",arguments)};pttp.getMediaCollectionAsynch=function(){return this.callMethod("getMediaCollectionAsynch",arguments)};pttp.getPlaylist=function(){return this.callMethod("getPlaylist",arguments)};pttp.getPlaylistAsynch=function(){return this.callMethod("getPlaylistAsynch",arguments)};pttp.getMedia=function(){return this.callMethod("getMedia",arguments)};pttp.getMediaAsynch=function(){return this.callMethod("getMediaAsynch",arguments)};pttp.getVideo=function(){return this.callMethod("getVideo",arguments)};pttp.getVideoAsynch=function(){return this.callMethod("getVideoAsynch",arguments)};pttp.purgeAllContent=function(){return this.callMethod("purgeAllContent",arguments)};pttp.purgeMediaCollections=function(){return this.callMethod("purgeMediaCollections",arguments)};pttp.purgeMedia=function(){return this.callMethod("purgeMedia",arguments)};pttp.purgePlaylist=function(){return this.callMethod("purgePlaylist",arguments)};pttp.purgePlaylists=function(){return this.callMethod("purgePlaylists",arguments)};pttp.purgeVideo=function(){return this.callMethod("purgeVideo",arguments)};pttp.purgeVideos=function(){return this.callMethod("purgeVideos",arguments)};pttp.getMediaInGroupAsynch=function(){return this.callMethod("getMediaInGroupAsynch",arguments)};pttp.createRuntimeMediaCollection=function(){return this.callMethod("createRuntimeMediaCollection",arguments)};pttp.updateMedia=function(){return this.callMethod("updateMedia",arguments)};pttp.appendArgsToMediaRequest=function(){return this.callMethod("appendArgsToMediaRequest",arguments)};brightcove.modules[APIModules.CONVIVA]=ConvivaAPI;function ConvivaAPI(a){this.experience=a;this.callback=a.callback;this.name=APIModules.CONVIVA}var pttp=ConvivaAPI.prototype=new APIModule();pttp.sendEvent=function(){return this.callMethod("sendEvent",arguments)};BCCuePointEvent={};BCCuePointEvent.CUE="cuePoint";brightcove.modules[APIModules.CUE_POINTS]=CuePointsAPI;function CuePointsAPI(a){this.experience=a;this.callback=a.callback;this.name=APIModules.CUE_POINTS}var pttp=CuePointsAPI.prototype=new APIModule();pttp.addCuePoints=function(){return this.callMethod("addCuePoints",arguments)};pttp.clearCodeCuePoints=function(){return this.callMethod("clearCodeCuePoints",arguments)};pttp.removeCodeCuePointsAtTime=function(){return this.callMethod("removeCodeCuePointsAtTime",arguments)};pttp.getCuePoints=function(){return this.callMethod("getCuePoints",arguments)};pttp.clearAdCuePoints=function(){return this.callMethod("clearAdCuePoints",arguments)};pttp.removeAdCuePointsAtTime=function(){return this.callMethod("removeAdCuePointsAtTime",arguments)};BCEffectsEvent={};BCEffectsEvent.BEGIN="animationBegin";BCEffectsEvent.COMPLETE="animationComplete";BCEffectsEvent.CHANGE="animationChange";brightcove.modules[APIModules.EFFECTS]=EffectsAPI;function EffectsAPI(a){this.experience=a;this.callback=a.callback;this.name=APIModules.EFFECTS}EffectsAPI.animations={};var pttp=EffectsAPI.prototype=new APIModule();pttp.createAnimation=function(){var a=this.callMethod("createAnimationJS",arguments);return this.getAnimation(a)};pttp.getAnimation=function(){var a=this.callMethod("getAnimationJS",arguments);if(a){return this.getAnimationWrapper(a)}return null};pttp.getAnimationWrapper=function(b){var a=EffectsAPI.animations[b];if(a==undefined){a=new EffectsAPIAnimation(b,this.callback);EffectsAPI.animations[b]=a}return a};function EffectsAPIAnimation(b,a){this.id=b;this.name=APIModules.EFFECTS;this.callback=a}pttp=EffectsAPIAnimation.prototype=new APIModule();pttp.id=-1;pttp.callMethod=function(c,d){if(d==undefined){d=[]}var a=[this.id];for(var b=0;b<d.length;b++){a.push(d[b])}return APIModule.callFlash(this.callback,{module:this.name,method:c,params:a})};pttp.start=function(){return this.callMethod("startJS",arguments)};pttp.stop=function(){return this.callMethod("stopJS",arguments)};pttp.apply=function(b){var a=b.getID();if(a){return this.callMethod("applyJS",[a])}};pttp.addEventListener=function(a,b){var c=APIModule.getHandler();this.handlers.push({handler:b,bcHandler:c,event:a});window[c]=b;return this.callMethod("addEventListenerJS",[a,c])};pttp.removeEventListener=function(b,c){var e=this.handlers.length;for(var d=0;d<e;d++){if(this.handlers[d].event==b&&this.handlers[d].handler==c){var a=this.handlers[d].bcHandler;this.handlers.splice(d,1);break}}if(a==undefined){return}return this.callMethod("removeEventListenerJS",[b,a])};BCExperienceEvent={};BCExperienceEvent.CONTENT_LOAD="contentLoad";BCExperienceEvent.USER_MESSAGE="userMessage";BCExperienceEvent.TEMPLATE_READY="templateReady";BCExperienceEvent.ENTER_FULLSCREEN="enterFullScreen";BCExperienceEvent.EXIT_FULLSCREEN="exitFullScreen";brightcove.modules[APIModules.EXPERIENCE]=ExperienceAPI;BCComponentModules={};function ExperienceAPI(a){this.experience=a;this.callback=a.callback;this.name=APIModules.EXPERIENCE}var pttp=ExperienceAPI.prototype=new APIModule();pttp.setSize=function(){return this.callMethod("setSize",arguments)};pttp.getPlayerName=function(){return this.callMethod("getPlayerName",arguments)};pttp.getReady=function(){return this.callMethod("getReady",arguments)};pttp.getWidth=function(){return this.callMethod("getWidth",arguments)};pttp.getHeight=function(){return this.callMethod("getHeight",arguments)};pttp.getAdEnabled=function(){return this.callMethod("getAdEnabled",arguments)};pttp.getEnabled=function(){return this.callMethod("getEnabled",arguments)};pttp.setEnabled=function(){return this.callMethod("setEnabled",arguments)};pttp.loadExperience=function(){return this.callMethod("loadExperience",arguments)};pttp.getLayout=function(){return this.callMethod("getLayout",arguments)};pttp.getAffiliateID=function(){return this.callMethod("getAffiliateID",arguments)};pttp.getExperienceID=function(){return this.callMethod("getExperienceID",arguments)};pttp.getPublisherID=function(){return this.callMethod("getPublisherID",arguments)};pttp.getExperienceURL=function(){return this.callMethod("getExperienceURL",arguments)};pttp.getReferrerURL=function(){return this.callMethod("getReferrerURL",arguments)};pttp.getConfiguredPropertiesForID=function(){return this.callMethod("getConfiguredPropertiesForID",arguments)};pttp.getPlayerParameter=function(){return this.callMethod("getPlayerParameter",arguments)};pttp.getLayoutRoot=function(){var a=this.callMethod("getLayoutRootJS",arguments);if(a!=null){if(BCComponentModules[a.elementName]!=null){return new BCComponentModules[a.elementName](this.experience,this.callback,a.elementID)}}return null};pttp.getElementByID=function(){var a=this.callMethod("getJSElementByID",arguments);if(a!=null){if(a=="VideoPlayer"||a=="VideoDisplay"){var b=this.experience.getModule(APIModules.VIDEO_PLAYER);if(b){b.initializeComponentAPI();return b}}else{if(BCComponentModules[a]!=null){return new BCComponentModules[a](this.experience,this.callback,arguments[0])}}}return null};pttp.getElementsByType=function(){var c=this.callMethod("getJSElementsByType",arguments);var d=[];var a;for(var b in c){if(typeof(c[b])!="function"){a=this.getElementByID(c[b]);if(a){d.push(a)}}}return d};pttp.getModules=function(){return this.callMethod("getModules",arguments)};pttp.unload=function(){return this.callMethod("unload",arguments)};pttp.debug=function(){return this.callMethod("debug",arguments)};pttp.getUserCountry=function(){return this.callMethod("getUserCountry",arguments)};pttp.getTranslation=function(){return this.callMethod("getTranslation",arguments)};BCMenuEvent={};BCMenuPage={};BCMenuAdditionalMedia={};BCMenuEvent.MENU_PAGE_OPEN="menuPageOpen";BCMenuEvent.MENU_PAGE_CLOSE="menuPageClose";BCMenuEvent.OVERLAY_MENU_OPEN="overlayMenuOpen";BCMenuEvent.OVERLAY_MENU_CLOSE="overlayMenuClose";BCMenuEvent.OVERLAY_MENU_PLAY_CLICK="overlayMenuPlayClick";BCMenuEvent.ICON_MENU_OPEN="iconMenuOpen";BCMenuEvent.ICON_MENU_CLOSE="iconMenuClose";BCMenuEvent.SEND_EMAIL_CLICK="sendEmailClick";BCMenuEvent.BLOG_POST_CLICK="blogPostClick";BCMenuEvent.COPY_LINK="copyLink";BCMenuEvent.COPY_CODE="copyCode";BCMenuEvent.VIDEO_REQUEST="videoRequest";BCMenuPage.EMAIL="Email";BCMenuPage.SHARE="Share";BCMenuPage.LINK="Link";BCMenuPage.CODE="Embed";BCMenuPage.INFO="Info";BCMenuAdditionalMedia.RELATED_VIDEOS="related videos";BCMenuAdditionalMedia.NEWEST_VIDEOS="newest videos";BCMenuAdditionalMedia.MOST_VIEWED_VIDEOS="most viewed videos";brightcove.modules[APIModules.MENU]=MenuAPI;function MenuAPI(a){this.experience=a;this.callback=a.callback;this.name=APIModules.MENU}var pttp=MenuAPI.prototype=new APIModule();pttp.showIconMenu=function(){return this.callMethod("showIconMenu",arguments)};pttp.isIconMenuShowing=function(){return this.callMethod("isIconMenuShowing",arguments)};pttp.showMenuPage=function(){return this.callMethod("showMenuPage",arguments)};pttp.closeMenuPage=function(){return this.callMethod("closeMenuPage",arguments)};pttp.isMenuPageShowing=function(){return this.callMethod("isMenuPageShowing",arguments)};pttp.isOverlayMenuShowing=function(){return this.callMethod("isOverlayMenuShowing",arguments)};pttp.removeOverlayMenu=function(){return this.callMethod("removeOverlayMenu",arguments)};pttp.getCurrentMenuPage=function(){return this.callMethod("getCurrentMenuPage",arguments)};pttp.setOverlayMenuVisible=function(){return this.callMethod("setOverlayMenuVisible",arguments)};pttp.getOverlayMenuVisible=function(){return this.callMethod("getOverlayMenuVisible",arguments)};pttp.setAdditionalMediaForType=function(){return this.callMethod("setAdditionalMediaForType",arguments)};pttp.getAdditionalMediaForType=function(){return this.callMethod("getAdditionalMediaForType",arguments)};var bcAdditionalMediaCallback;pttp.setAdditionalMediaCallback=function(a,b){bcAdditionalMediaCallback=a;return this.callMethod("setAdditionalMediaCallbackJS",["bcCallAdditionalMediaCallback",b])};function bcCallAdditionalMediaCallback(b,a){return bcAdditionalMediaCallback(b,a)}BCSearchEvent={};BCSearchEvent.RESULT="searchResult";BCSearchEvent.ERROR="searchError";brightcove.modules[APIModules.SEARCH]=SearchAPI;SortOrderType={ASC:"ASC",DESC:"DESC"};SortByType={PUBLISH_DATE:"PUBLISH_DATE",CREATION_DATE:"CREATION_DATE",MODIFIED_DATE:"MODIFIED_DATE",PLAYS_TOTAL:"PLAYS_TOTAL",PLAYS_TRAILING_WEEK:"PLAYS_TRAILING_WEEK"};function SearchAPI(a){this.experience=a;this.callback=a.callback;this.name=APIModules.SEARCH}SearchAPI.searches={};var pttp=SearchAPI.prototype=new APIModule();pttp.findRelatedVideos=function(){var a=this.callMethod("findRelatedVideosJS",arguments);return this.getVideoSearch(a)};pttp.findVideosByText=function(){var a=this.callMethod("findVideosByTextJS",arguments);return this.getVideoSearch(a)};pttp.findVideosByTags=function(){var a=this.callMethod("findVideosByTagsJS",arguments);return this.getVideoSearch(a)};pttp.findAllVideos=function(){var a=this.callMethod("findAllVideosJS",arguments);return this.getVideoSearch(a)};pttp.getVideoSearch=function(b){var a=SearchAPI.searches[b];if(a==undefined){a=new VideoSearch(b,this.callback);SearchAPI.searches[b]=a}return a};pttp.getMaxItemsInMemory=function(){return this.callMethod("getMaxItemsInMemory",arguments)};pttp.setMaxItemsInMemory=function(){return this.callMethod("setMaxItemsInMemory",arguments)};function VideoSearch(b,a){this.id=b;this.name=APIModules.SEARCH;this.callback=a}pttp=VideoSearch.prototype=new APIModule();pttp.id=-1;pttp.callMethod=function(c,d){if(d==undefined){d=[]}var a=[this.id];for(var b=0;b<d.length;b++){a.push(d[b])}return APIModule.callFlash(this.callback,{module:this.name,method:c,params:a})};pttp.getItems=function(){return this.callMethod("getItems",arguments)};pttp.getPage=function(){return this.callMethod("getPage",arguments)};pttp.getPageAsynch=function(){this.pageNumber=this.callMethod("getPageNumber");return this.callMethod("getPageAsynch",arguments)};pttp.getNextPage=function(){return this.callMethod("getNextPage",arguments)};pttp.getNextPageAsynch=function(){return this.callMethod("getNextPageAsynch",arguments)};pttp.getPreviousPage=function(){return this.callMethod("getPreviousPage",arguments)};pttp.getPreviousPageAsynch=function(){return this.callMethod("getPreviousPageAsynch",arguments)};pttp.getRow=function(){return this.callMethod("getRow",arguments)};pttp.getRowOnPage=function(){return this.callMethod("getRowOnPage",arguments)};pttp.purgeAll=function(){return this.callMethod("purgeAll",arguments)};pttp.purgePage=function(){return this.callMethod("purgePage",arguments)};pttp.getTotalRows=function(){return this.callMethod("getTotalRows",arguments)};pttp.getTotalPages=function(){return this.callMethod("getTotalPages",arguments)};pttp.getPageNumber=function(){return this.callMethod("getPageNumber",arguments)};pttp.getPageSize=function(){return this.callMethod("getPageSize",arguments)};pttp.getMaxPagesInMemory=function(){return this.callMethod("getMaxPagesInMemory",arguments)};pttp.setMaxPagesInMemory=function(){return this.callMethod("setMaxPagesInMemory",arguments)};BCSocialEvent={};BCSocialEvent.EMBED_CODE_RETRIEVED="embedCodeRetrieved";BCSocialEvent.LINK_GENERATED="linkGenerated";brightcove.modules[APIModules.SOCIAL]=SocialAPI;function SocialAPI(a){this.experience=a;this.callback=a.callback;this.name=APIModules.SOCIAL}var pttp=SocialAPI.prototype=new APIModule();pttp.shareVideoViaEmail=function(){return this.callMethod("shareVideoViaEmail",arguments)};pttp.getEmbedCode=function(){return this.callMethod("getEmbedCode",arguments)};pttp.setEmbedCode=function(){return this.callMethod("setEmbedCode",arguments)};pttp.setLink=function(){return this.callMethod("setLink",arguments)};pttp.getLink=function(){return this.callMethod("getLink",arguments)};pttp.isURLShortenedForMedia=function(){return this.callMethod("isURLShortenedForMedia",arguments)};pttp.getRSS=function(){return this.callMethod("getRSS",arguments)};pttp.enableBlogging=function(){return this.callMethod("enableBlogging",arguments)};if(BCMediaEvent==undefined){var BCMediaEvent={};BCMediaEvent.BEGIN="mediaBegin";BCMediaEvent.BUFFER_BEGIN="mediaBufferBegin";BCMediaEvent.BUFFER_COMPLETE="mediaBufferComplete";BCMediaEvent.CHANGE="mediaChange";BCMediaEvent.COMPLETE="mediaComplete";BCMediaEvent.ERROR="mediaError";BCMediaEvent.MUTE_CHANGE="mediaMuteChange";BCMediaEvent.PLAY="mediaPlay";BCMediaEvent.PROGRESS="mediaProgress";BCMediaEvent.SEEK="mediaSeek";BCMediaEvent.STOP="mediaStop";BCMediaEvent.VOLUME_CHANGE="mediaVolumeChange"}var BCVideoEvent={};BCVideoEvent.END_BUFFER="endBuffering";BCVideoEvent.RENDITION_CHANGE="renditionChange";BCVideoEvent.VIDEO_CHANGE="videoChange";BCVideoEvent.VIDEO_COMPLETE="videoComplete";BCVideoEvent.VIDEO_CONNECT="videoConnect";BCVideoEvent.VIDEO_LOAD="videoLoad";BCVideoEvent.VIDEO_PROGRESS="videoProgress";BCVideoEvent.VIDEO_START="videoStart";BCVideoEvent.VIDEO_STOP="videoStop";BCVideoEvent.VIDEO_MUTE="ui_mute";BCVideoEvent.VIDEO_SEEK="seek";BCVideoEvent.START_BUFFER="startBuffering";BCVideoEvent.STREAM_START="streamStart";BCVideoEvent.VOLUME_CHANGE="volumeChange";brightcove.modules[APIModules.VIDEO_PLAYER]=VideoPlayerAPI;function VideoPlayerAPI(a){this.experience=a;if(a){this.callback=a.callback}this.name=APIModules.VIDEO_PLAYER}var pttp=VideoPlayerAPI.prototype=new APIModule();pttp.initializeComponentAPI=function(){return this.callMethod("initializeComponentAPI",arguments)};pttp.getComponentAPI=function(a,b){if(a!=null){if(a=="VideoPlayer"||a=="VideoDisplay"){var c=this.experience.getModule(APIModules.VIDEO_PLAYER);c.initializeComponentAPI();return c}else{if(BCComponentModules[a]!=null){return new BCComponentModules[a](this.experience,this.callback,b)}}}return null};pttp.isPlayerDefined=function(){return this.callMethod("isPlayerDefined",arguments)};pttp.setVideoFilter=function(){return this.callMethod("setVideoFilter",arguments)};pttp.getCurrentVideo=function(){return this.callMethod("getCurrentVideo",arguments)};pttp.getCurrentRendition=function(){return this.callMethod("getCurrentRendition",arguments)};pttp.loadVideo=function(){return this.callMethod("loadVideo",arguments)};pttp.cueVideo=function(){return this.callMethod("cueVideo",arguments)};pttp.play=function(){return this.callMethod("play",arguments)};pttp.stop=function(){return this.callMethod("stop",arguments)};pttp.pause=function(){return this.callMethod("pause",arguments)};pttp.seek=function(){return this.callMethod("seek",arguments)};pttp.mute=function(){return this.callMethod("mute",arguments)};pttp.setVolume=function(){return this.callMethod("setVolume",arguments)};pttp.getVolume=function(){return this.callMethod("getVolume",arguments)};pttp.showVolumeControls=function(){return this.callMethod("showVolumeControls",arguments)};pttp.getVideoPosition=function(){return this.callMethod("getVideoPosition",arguments)};pttp.getVideoDuration=function(){return this.callMethod("getVideoDuration",arguments)};pttp.getVideoBytesLoaded=function(){return this.callMethod("getVideoBytesLoaded",arguments)};pttp.getVideoBytesTotal=function(){return this.callMethod("getVideoBytesTotal",arguments)};pttp.isPlaying=function(){return this.callMethod("isPlaying",arguments)};pttp.isMuted=function(){return this.callMethod("isMuted",arguments)};pttp.getContentTypeDisplayed=function(){return this.callMethod("getContentTypeDisplayed",arguments)};pttp.setSize=function(){return this.callMethod("setSize",arguments)};pttp.move=function(){return this.callMethod("move",arguments)};pttp.getX=function(){return this.callMethod("getX",arguments)};pttp.getY=function(){return this.callMethod("getY",arguments)};pttp.getDefinition=function(){return this.callMethod("getDefinition",arguments)};pttp.getID=function(){return this.callMethod("getID",arguments)};pttp.getWidth=function(){return this.callMethod("getWidth",arguments)};pttp.getHeight=function(){return this.callMethod("getHeight",arguments)};pttp.getDisplayWidth=function(){return this.callMethod("getDisplayWidth",arguments)};pttp.getDisplayHeight=function(){return this.callMethod("getDisplayHeight",arguments)};pttp.getEnabled=function(){return this.callMethod("getEnabled",arguments)};pttp.setStyles=function(){return this.callMethod("setStyles",arguments)};pttp.setEnabled=function(){return this.callMethod("setEnabled",arguments)};pttp.getVisible=function(){return this.callMethod("getVisible",arguments)};pttp.setVisible=function(){return this.callMethod("setVisible",arguments)};pttp.getAlpha=function(){return this.callMethod("getAlpha",arguments)};pttp.setAlpha=function(){return this.callMethod("setAlpha",arguments)};pttp.getBlendMode=function(){return this.callMethod("getBlendMode",arguments)};pttp.setBlendMode=function(){return this.callMethod("setBlendMode",arguments)};pttp.getRotation=function(){return this.callMethod("getRotation",arguments)};pttp.setRotation=function(){return this.callMethod("setRotation",arguments)};pttp.getIndex=function(){return this.callMethod("getIndex",arguments)};pttp.toggleVolumeControls=function(){return this.callMethod("toggleVolumeControls",arguments)};pttp.toggleMenuPage=function(){return this.callMethod("toggleMenuPage",arguments)};pttp.getContainer=function(){var a=this.callMethod("getContainerJS",arguments);if(a){return this.getComponentAPI(a.elementName,a.elementID)}return null};pttp.getNextSibling=function(){var a=this.callMethod("getNextSiblingJS",arguments);if(a){return this.getComponentAPI(a.elementName,a.elementID)}return null};pttp.getPreviousSibling=function(){var a=this.callMethod("getPreviousSiblingJS",arguments);if(a){return this.getComponentAPI(a.elementName,a.elementID)}return null};pttp.getCSS=function(){return this.callMethod("getCSS",arguments)};pttp.mediaIsLive=function(){return this.callMethod("mediaIsLive",arguments)};pttp.setDynamicDeliveryParameters=function(){return this.callMethod("setDynamicDeliveryParameters",arguments)};pttp.removeUserMessage=function(){return this.callMethod("removeUserMessage",arguments)};pttp.enableInitialBandwidthDetection=function(){return this.callMethod("enableInitialBandwidthDetection",arguments)};pttp.getInitialBandwidthDetectionEnabled=function(){return this.callMethod("getInitialBandwidthDetectionEnabled",arguments)};pttp.setDefaultBufferTime=function(){return this.callMethod("setDefaultBufferTime",arguments)};pttp.getDefaultBufferTime=function(){return this.callMethod("getDefaultBufferTime",arguments)};pttp.setConnectOnLoad=function(){return this.callMethod("setConnectOnLoad",arguments)};var bcRenditionSelectionCallback;pttp.setRenditionSelectionCallback=function(a){bcRenditionSelectionCallback=a;return this.callMethod("setRenditionSelectionCallbackJS",["bcCallRenditionSelectionCallback"])};function bcCallRenditionSelectionCallback(a){return bcRenditionSelectionCallback(a)}function ComponentAPI(){this.name=APIModules.EXPERIENCE}var pttp=ComponentAPI.prototype=new APIModule();pttp.callMethod=function(c,d){var a=[];for(var b=0;b<d.length;b++){a.push(d[b])}return APIModule.callFlash(this.callback,{module:this.name,element:this.elementID,method:"getComponentAPI",componentMethod:c,params:a})};pttp.getComponentAPI=function(a,b){if(a!=null){if(a=="VideoPlayer"||a=="VideoDisplay"){var c=this.experience.getModule(APIModules.VIDEO_PLAYER);c.initializeComponentAPI();return c}else{if(BCComponentModules[a]!=null){return new BCComponentModules[a](this.experience,this.callback,b)}}}return null};pttp.setSize=function(){return this.callMethod("setSize",arguments)};pttp.move=function(){return this.callMethod("move",arguments)};pttp.getX=function(){return this.callMethod("getX",arguments)};pttp.getY=function(){return this.callMethod("getY",arguments)};pttp.getVisible=function(){return this.callMethod("getVisible",arguments)};pttp.setVisible=function(){return this.callMethod("setVisible",arguments)};pttp.getIncludeInLayout=function(){return this.callMethod("getIncludeInLayout",arguments)};pttp.setIncludeInLayout=function(){return this.callMethod("setIncludeInLayout",arguments)};pttp.getAlpha=function(){return this.callMethod("getAlpha",arguments)};pttp.setAlpha=function(){return this.callMethod("setAlpha",arguments)};pttp.getDefinition=function(){return this.callMethod("getDefinition",arguments)};pttp.getID=function(){return this.callMethod("getID",arguments)};pttp.getWidth=function(){return this.callMethod("getWidth",arguments)};pttp.getHeight=function(){return this.callMethod("getHeight",arguments)};pttp.getIndex=function(){return this.callMethod("getIndex",arguments)};pttp.getContainer=function(){var a=this.callMethod("getContainerJS",arguments);if(a){return this.getComponentAPI(a.elementName,a.elementID)}return null};pttp.getNextSibling=function(){var a=this.callMethod("getNextSiblingJS",arguments);if(a){return this.getComponentAPI(a.elementName,a.elementID)}return null};pttp.getPreviousSibling=function(){var a=this.callMethod("getPreviousSiblingJS",arguments);if(a){return this.getComponentAPI(a.elementName,a.elementID)}return null};function UIObjectAPI(a,b){this.callback=a;this.elementID=b}var pttp=UIObjectAPI.prototype=new ComponentAPI();pttp.getEnabled=function(){return this.callMethod("getEnabled",arguments)};pttp.setEnabled=function(){return this.callMethod("setEnabled",arguments)};pttp.getBlendMode=function(){return this.callMethod("getBlendMode",arguments)};pttp.setBlendMode=function(){return this.callMethod("setBlendMode",arguments)};pttp.getRotation=function(){return this.callMethod("getRotation",arguments)};pttp.setRotation=function(){return this.callMethod("setRotation",arguments)};pttp.setStyles=function(){return this.callMethod("setStyles",arguments)};pttp.getCSS=function(){return this.callMethod("getCSS",arguments)};if(BCMediaEvent==undefined){var BCMediaEvent={};BCMediaEvent.BEGIN="mediaBegin";BCMediaEvent.BUFFER_BEGIN="mediaBufferBegin";BCMediaEvent.BUFFER_COMPLETE="mediaBufferComplete";BCMediaEvent.CHANGE="mediaChange";BCMediaEvent.COMPLETE="mediaComplete";BCMediaEvent.ERROR="mediaError";BCMediaEvent.MUTE_CHANGE="mediaMuteChange";BCMediaEvent.PLAY="mediaPlay";BCMediaEvent.PROGRESS="mediaProgress";BCMediaEvent.SEEK="mediaSeek";BCMediaEvent.STOP="mediaStop";BCMediaEvent.VOLUME_CHANGE="mediaVolumeChange"}BCComponentModules.AudioPlayer=AudioPlayerAPI;function AudioPlayerAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=AudioPlayerAPI.prototype=new ComponentAPI();pttp.play=function(){return this.callMethod("play",arguments)};pttp.pause=function(){return this.callMethod("pause",arguments)};pttp.stop=function(){return this.callMethod("stop",arguments)};pttp.seek=function(){return this.callMethod("seek",arguments)};pttp.mute=function(){return this.callMethod("mute",arguments)};pttp.setVolume=function(){return this.callMethod("setVolume",arguments)};pttp.getVolume=function(){return this.callMethod("getVolume",arguments)};pttp.isPlaying=function(){return this.callMethod("isPlaying",arguments)};pttp.isMuted=function(){return this.callMethod("isMuted",arguments)};pttp.getMediaBytesLoaded=function(){return this.callMethod("getMediaBytesLoaded",arguments)};pttp.getMediaBytesTotal=function(){return this.callMethod("getMediaBytesTotal",arguments)};pttp.getMediaDuration=function(){return this.callMethod("getMediaDuration",arguments)};pttp.getMediaPosition=function(){return this.callMethod("getMediaPosition",arguments)};pttp.getCurrentMedia=function(){return this.callMethod("getCurrentMedia",arguments)};pttp.cueMedia=function(){return this.callMethod("cueMedia",arguments)};pttp.loadMedia=function(){return this.callMethod("loadMedia",arguments)};BCComponentModules.Banner=BannerAPI;function BannerAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=BannerAPI.prototype=new UIObjectAPI();BCComponentModules.Button=ButtonAPI;function ButtonAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=ButtonAPI.prototype=new UIObjectAPI();pttp.getLabel=function(){return this.callMethod("getLabel",arguments)};pttp.setLabel=function(){return this.callMethod("setLabel",arguments)};pttp.setFont=function(){return this.callMethod("setFont",arguments)};pttp.getFont=function(){return this.callMethod("getFont",arguments)};pttp.setLabelSize=function(){return this.callMethod("setLabelSize",arguments)};pttp.getLabelSize=function(){return this.callMethod("getLabelSize",arguments)};pttp.getAutoSize=function(){return this.callMethod("getAutoSize",arguments)};pttp.setAutoSize=function(){return this.callMethod("setAutoSize",arguments)};pttp.getTruncateLabel=function(){return this.callMethod("getTruncateLabel",arguments)};pttp.setTruncateLabel=function(){return this.callMethod("setTruncateLabel",arguments)};pttp.getMultiline=function(){return this.callMethod("getMultiline",arguments)};pttp.setMultiline=function(){return this.callMethod("setMultiline",arguments)};pttp.getIsTruncated=function(){return this.callMethod("getIsTruncated",arguments)};pttp.getLabelWidth=function(){return this.callMethod("getLabelWidth",arguments)};pttp.getShowBack=function(){return this.callMethod("getShowBack",arguments)};pttp.setShowBack=function(){return this.callMethod("setShowBack",arguments)};pttp.getTooltip=function(){return this.callMethod("getTooltip",arguments)};pttp.setTooltip=function(){return this.callMethod("setTooltip",arguments)};pttp.getIconScale=function(){return this.callMethod("getIconScale",arguments)};pttp.setIconScale=function(){return this.callMethod("setIconScale",arguments)};pttp.getIconOffsetX=function(){return this.callMethod("getIconOffsetX",arguments)};pttp.setIconOffsetX=function(){return this.callMethod("setIconOffsetX",arguments)};pttp.getIconOffsetY=function(){return this.callMethod("getIconOffsetY",arguments)};pttp.setIconOffsetY=function(){return this.callMethod("setIconOffsetY",arguments)};pttp.getLabelOffsetX=function(){return this.callMethod("getLabelOffsetX",arguments)};pttp.setLabelOffsetX=function(){return this.callMethod("setLabelOffsetX",arguments)};pttp.getLabelOffsetY=function(){return this.callMethod("getLabelOffsetY",arguments)};pttp.setLabelOffsetY=function(){return this.callMethod("setLabelOffsetY",arguments)};pttp.getLabelBuffer=function(){return this.callMethod("getLabelBuffer",arguments)};pttp.setLabelBuffer=function(){return this.callMethod("setLabelBuffer",arguments)};pttp.getIconAlignmentH=function(){return this.callMethod("getIconAlignmentH",arguments)};pttp.setIconAlignmentH=function(){return this.callMethod("setIconAlignmentH",arguments)};pttp.getIconAlignmentV=function(){return this.callMethod("getIconAlignmentV",arguments)};pttp.setIconAlignmentV=function(){return this.callMethod("setIconAlignmentV",arguments)};pttp.getLabelAlignmentH=function(){return this.callMethod("getLabelAlignmentH",arguments)};pttp.setLabelAlignmentH=function(){return this.callMethod("setLabelAlignmentH",arguments)};pttp.getLabelAlignmentV=function(){return this.callMethod("getLabelAlignmentV",arguments)};pttp.setLabelAlignmentV=function(){return this.callMethod("setLabelAlignmentV",arguments)};pttp.getIconName=function(){return this.callMethod("getIconName",arguments)};pttp.setIconName=function(){return this.callMethod("setIconName",arguments)};BCComponentModules.ChromelessVideoPlayer=ChromelessVideoPlayerAPI;function ChromelessVideoPlayerAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c;this.initializeComponentAPI()}var pttp=ChromelessVideoPlayerAPI.prototype=new VideoPlayerAPI();pttp.callChromelessComponentMethod=function(c,d){var a=[];for(var b=0;b<d.length;b++){a.push(d[b])}return APIModule.callFlash(this.callback,{module:APIModules.EXPERIENCE,element:this.elementID,method:"getComponentAPI",componentMethod:c,params:a})};pttp.getControls=function(){var a=this.callChromelessComponentMethod("getControlsJS",arguments);if(a){return this.getComponentAPI(a.elementName,a.elementID)}return null};pttp.showControls=function(){return this.callChromelessComponentMethod("showControls",arguments)};pttp.getControlsVisible=function(){return this.callChromelessComponentMethod("getControlsVisible",arguments)};pttp.getIncludeInLayout=function(){return this.callChromelessComponentMethod("getIncludeInLayout",arguments)};pttp.setIncludeInLayout=function(){return this.callChromelessComponentMethod("setIncludeInLayout",arguments)};BCComponentModules.ComboBox=ComboBoxAPI;function ComboBoxAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=ComboBoxAPI.prototype=new UIObjectAPI();pttp.setSelectedIndex=function(){return this.callMethod("setSelectedIndex",arguments)};pttp.getSelectedIndex=function(){return this.callMethod("getSelectedIndex",arguments)};pttp.getSelectedData=function(){return this.callMethod("getSelectedData",arguments)};pttp.getDataAtIndex=function(){return this.callMethod("getDataAtIndex",arguments)};pttp.getData=function(){return this.callMethod("getData",arguments)};pttp.setData=function(){return this.callMethod("setData",arguments)};pttp.getNumItems=function(){return this.callMethod("getNumItems",arguments)};pttp.getScrollerWidth=function(){return this.callMethod("getScrollerWidth",arguments)};pttp.setScrollerWidth=function(){return this.callMethod("setScrollerWidth",arguments)};pttp.getScrollerInset=function(){return this.callMethod("getScrollerInset",arguments)};pttp.setScrollerInset=function(){return this.callMethod("setScrollerInset",arguments)};pttp.getItemLeading=function(){return this.callMethod("getItemLeading",arguments)};pttp.setItemLeading=function(){return this.callMethod("setItemLeading",arguments)};pttp.getItemInsetH=function(){return this.callMethod("getItemInsetH",arguments)};pttp.setItemInsetH=function(){return this.callMethod("setItemInsetH",arguments)};pttp.getItemInsetV=function(){return this.callMethod("getItemInsetV",arguments)};pttp.setItemInsetV=function(){return this.callMethod("setItemInsetV",arguments)};pttp.getRowHeight=function(){return this.callMethod("getRowHeight",arguments)};pttp.setRowHeight=function(){return this.callMethod("setRowHeight",arguments)};pttp.getLabelBufferLeft=function(){return this.callMethod("getLabelBufferLeft",arguments)};pttp.setLabelBufferLeft=function(){return this.callMethod("setLabelBufferLeft",arguments)};pttp.getLabelBufferRight=function(){return this.callMethod("getLabelBufferRight",arguments)};pttp.setLabelBufferRight=function(){return this.callMethod("setLabelBufferRight",arguments)};pttp.getLabelBufferTop=function(){return this.callMethod("getLabelBufferTop",arguments)};pttp.setLabelBufferTop=function(){return this.callMethod("setLabelBufferTop",arguments)};pttp.getAnimated=function(){return this.callMethod("getAnimated",arguments)};pttp.setAnimated=function(){return this.callMethod("setAnimated",arguments)};pttp.getLabelField=function(){return this.callMethod("getLabelField",arguments)};pttp.setLabelField=function(){return this.callMethod("setLabelField",arguments)};pttp.getLabel=function(){return this.callMethod("getLabel",arguments)};pttp.setLabel=function(){return this.callMethod("setLabel",arguments)};function ContainerAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=ContainerAPI.prototype=new UIObjectAPI();pttp.getHAlign=function(){return this.callMethod("getHAlign",arguments)};pttp.setHAlign=function(){return this.callMethod("setHAlign",arguments)};pttp.getVAlign=function(){return this.callMethod("getVAlign",arguments)};pttp.setVAlign=function(){return this.callMethod("setVAlign",arguments)};pttp.getBackgroundColor=function(){return this.callMethod("getBackgroundColor",arguments)};pttp.setBackgroundColor=function(){return this.callMethod("setBackgroundColor",arguments)};pttp.getBackgroundImage=function(){return this.callMethod("getBackgroundImage",arguments)};pttp.setBackgroundImage=function(){return this.callMethod("setBackgroundImage",arguments)};pttp.getGutter=function(){return this.callMethod("getGutter",arguments)};pttp.setGutter=function(){return this.callMethod("setGutter",arguments)};pttp.getPadding=function(){return this.callMethod("getPadding",arguments)};pttp.setPadding=function(){return this.callMethod("setPadding",arguments)};pttp.appendChild=function(){return this.callMethod("appendChild",arguments)};pttp.insertChildAt=function(){return this.callMethod("insertChildAt",arguments)};pttp.removeChildByID=function(){return this.callMethod("removeChildByID",arguments)};pttp.getNumChildren=function(){return this.callMethod("getNumChildren",arguments)};pttp.removeChildAt=function(){return this.callMethod("removeChildAt",arguments)};pttp.getChildAt=function(){var a=this.callMethod("getChildAtJS",arguments);if(a){return this.getComponentAPI(a.elementName,a.elementID)}return null};BCComponentModules.ExpandingBanner=ExpandingBannerAPI;function ExpandingBannerAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=ExpandingBannerAPI.prototype=new UIObjectAPI();pttp.expand=function(){return this.callMethod("expand",arguments)};pttp.contract=function(){return this.callMethod("contract",arguments)};pttp.getExpanded=function(){return this.callMethod("getExpanded",arguments)};pttp.synchBannerWithExternal=function(){return this.callMethod("synchBannerWithExternal",arguments)};BCComponentModules.GraphicBlock=GraphicBlockAPI;function GraphicBlockAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=GraphicBlockAPI.prototype=new UIObjectAPI();BCComponentModules.Image=ImageAPI;function ImageAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=ImageAPI.prototype=new UIObjectAPI();pttp.setSource=function(){return this.callMethod("setSource",arguments)};pttp.getSource=function(){return this.callMethod("getSource",arguments)};pttp.getScaleMode=function(){return this.callMethod("getScaleMode",arguments)};pttp.setScaleMode=function(){return this.callMethod("setScaleMode",arguments)};pttp.getHAlign=function(){return this.callMethod("getHAlign",arguments)};pttp.setHAlign=function(){return this.callMethod("setHAlign",arguments)};pttp.getVAlign=function(){return this.callMethod("getVAlign",arguments)};pttp.setVAlign=function(){return this.callMethod("setVAlign",arguments)};pttp.getURL=function(){return this.callMethod("getURL",arguments)};pttp.setURL=function(){return this.callMethod("setURL",arguments)};pttp.getTooltip=function(){return this.callMethod("getTooltip",arguments)};pttp.setTooltip=function(){return this.callMethod("setTooltip",arguments)};pttp.getInset=function(){return this.callMethod("getInset",arguments)};pttp.setInset=function(){return this.callMethod("setInset",arguments)};pttp.getContentWidth=function(){return this.callMethod("getContentWidth",arguments)};pttp.getContentHeight=function(){return this.callMethod("getContentHeight",arguments)};BCComponentModules.Label=LabelAPI;function LabelAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=LabelAPI.prototype=new UIObjectAPI();pttp.setText=function(){return this.callMethod("setText",arguments)};pttp.getText=function(){return this.callMethod("getText",arguments)};pttp.setType=function(){return this.callMethod("setType",arguments)};pttp.getType=function(){return this.callMethod("getType",arguments)};pttp.setFont=function(){return this.callMethod("setFont",arguments)};pttp.getFont=function(){return this.callMethod("getFont",arguments)};pttp.setColor=function(){return this.callMethod("setColor",arguments)};pttp.getColor=function(){return this.callMethod("getColor",arguments)};pttp.setTextSize=function(){return this.callMethod("setTextSize",arguments)};pttp.getTextSize=function(){return this.callMethod("getTextSize",arguments)};pttp.getHAlign=function(){return this.callMethod("getHAlign",arguments)};pttp.setHAlign=function(){return this.callMethod("setHAlign",arguments)};pttp.getVAlign=function(){return this.callMethod("getVAlign",arguments)};pttp.setVAlign=function(){return this.callMethod("setVAlign",arguments)};pttp.setUnderline=function(){return this.callMethod("setUnderline",arguments)};pttp.getUnderline=function(){return this.callMethod("getUnderline",arguments)};pttp.setHTMLEnabled=function(){return this.callMethod("setHTMLEnabled",arguments)};pttp.getHTMLEnabled=function(){return this.callMethod("getHTMLEnabled",arguments)};pttp.setAutoSize=function(){return this.callMethod("setAutoSize",arguments)};pttp.getAutoSize=function(){return this.callMethod("getAutoSize",arguments)};pttp.setTruncate=function(){return this.callMethod("setTruncate",arguments)};pttp.getTruncate=function(){return this.callMethod("getTruncate",arguments)};pttp.setMultiline=function(){return this.callMethod("setMultiline",arguments)};pttp.getMultiline=function(){return this.callMethod("getMultiline",arguments)};pttp.getIsTruncated=function(){return this.callMethod("getIsTruncated",arguments)};pttp.getTextWidth=function(){return this.callMethod("getTextWidth",arguments)};pttp.getTextHeight=function(){return this.callMethod("getTextHeight",arguments)};BCComponentModules.LayoutBox=LayoutBoxAPI;function LayoutBoxAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=LayoutBoxAPI.prototype=new ComponentAPI();pttp.getHAlign=function(){return this.callMethod("getHAlign",arguments)};pttp.setHAlign=function(){return this.callMethod("setHAlign",arguments)};pttp.getVAlign=function(){return this.callMethod("getVAlign",arguments)};pttp.setVAlign=function(){return this.callMethod("setVAlign",arguments)};pttp.getBackgroundColor=function(){return this.callMethod("getBackgroundColor",arguments)};pttp.setBackgroundColor=function(){return this.callMethod("setBackgroundColor",arguments)};pttp.getBackgroundImage=function(){return this.callMethod("getBackgroundImage",arguments)};pttp.setBackgroundImage=function(){return this.callMethod("setBackgroundImage",arguments)};pttp.getGutter=function(){return this.callMethod("getGutter",arguments)};pttp.setGutter=function(){return this.callMethod("setGutter",arguments)};pttp.getPadding=function(){return this.callMethod("getPadding",arguments)};pttp.setPadding=function(){return this.callMethod("setPadding",arguments)};pttp.appendChild=function(){return this.callMethod("appendChild",arguments)};pttp.insertChildAt=function(){return this.callMethod("insertChildAt",arguments)};pttp.removeChildByID=function(){return this.callMethod("removeChildByID",arguments)};pttp.getNumChildren=function(){return this.callMethod("getNumChildren",arguments)};pttp.removeChildAt=function(){return this.callMethod("removeChildAt",arguments)};pttp.getChildAt=function(){var a=this.callMethod("getChildAtJS",arguments);if(a){return this.getComponentAPI(a.elementName,a.elementID)}return null};BCComponentModules.Link=LinkAPI;function LinkAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=LinkAPI.prototype=new UIObjectAPI();pttp.setText=function(){return this.callMethod("setText",arguments)};pttp.getText=function(){return this.callMethod("getText",arguments)};pttp.setAutoSize=function(){return this.callMethod("setAutoSize",arguments)};pttp.getAutoSize=function(){return this.callMethod("getAutoSize",arguments)};pttp.setFont=function(){return this.callMethod("setFont",arguments)};pttp.getFont=function(){return this.callMethod("getFont",arguments)};pttp.setTextSize=function(){return this.callMethod("setTextSize",arguments)};pttp.getTextSize=function(){return this.callMethod("getTextSize",arguments)};pttp.getHAlign=function(){return this.callMethod("getHAlign",arguments)};pttp.setHAlign=function(){return this.callMethod("setHAlign",arguments)};pttp.getVAlign=function(){return this.callMethod("getVAlign",arguments)};pttp.setVAlign=function(){return this.callMethod("setVAlign",arguments)};pttp.setMultiline=function(){return this.callMethod("setMultiline",arguments)};pttp.getMultiline=function(){return this.callMethod("getMultiline",arguments)};pttp.getURL=function(){return this.callMethod("getURL",arguments)};pttp.setURL=function(){return this.callMethod("setURL",arguments)};pttp.getTooltip=function(){return this.callMethod("getTooltip",arguments)};pttp.setTooltip=function(){return this.callMethod("setTooltip",arguments)};BCComponentModules.List=ListAPI;function ListAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=ListAPI.prototype=new UIObjectAPI();pttp.setSelectedIndex=function(){return this.callMethod("setSelectedIndex",arguments)};pttp.getSelectedIndex=function(){return this.callMethod("getSelectedIndex",arguments)};pttp.previous=function(){return this.callMethod("previous",arguments)};pttp.next=function(){return this.callMethod("next",arguments)};pttp.scrollTo=function(){return this.callMethod("scrollTo",arguments)};pttp.getSelectedData=function(){return this.callMethod("getSelectedData",arguments)};pttp.getDataAtIndex=function(){return this.callMethod("getDataAtIndex",arguments)};pttp.getData=function(){return this.callMethod("getData",arguments)};pttp.setData=function(){return this.callMethod("setData",arguments)};pttp.showPlaylist=function(){return this.callMethod("showPlaylist",arguments)};pttp.getNumItems=function(){return this.callMethod("getNumItems",arguments)};pttp.getAutomaticAdvance=function(){return this.callMethod("getAutomaticAdvance",arguments)};pttp.setAutomaticAdvance=function(){return this.callMethod("setAutomaticAdvance",arguments)};pttp.getScrollerWidth=function(){return this.callMethod("getScrollerWidth",arguments)};pttp.setScrollerWidth=function(){return this.callMethod("setScrollerWidth",arguments)};pttp.getScrollerInset=function(){return this.callMethod("getScrollerInset",arguments)};pttp.setScrollerInset=function(){return this.callMethod("setScrollerInset",arguments)};pttp.getItemLeading=function(){return this.callMethod("getItemLeading",arguments)};pttp.setItemLeading=function(){return this.callMethod("setItemLeading",arguments)};pttp.getItemInsetH=function(){return this.callMethod("getItemInsetH",arguments)};pttp.setItemInsetH=function(){return this.callMethod("setItemInsetH",arguments)};pttp.getItemInsetV=function(){return this.callMethod("getItemInsetV",arguments)};pttp.setItemInsetV=function(){return this.callMethod("setItemInsetV",arguments)};pttp.getRowHeight=function(){return this.callMethod("getRowHeight",arguments)};pttp.setRowHeight=function(){return this.callMethod("setRowHeight",arguments)};BCComponentModules.Mask=MaskAPI;function MaskAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=MaskAPI.prototype=new UIObjectAPI();BCComponentModules.MediaControls=MediaControlsAPI;function MediaControlsAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=MediaControlsAPI.prototype=new ContainerAPI();BCComponentModules.Playhead=PlayheadAPI;function PlayheadAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=PlayheadAPI.prototype=new UIObjectAPI();pttp.getSliderWidth=function(){return this.callMethod("getSliderWidth",arguments)};pttp.setSliderWidth=function(){return this.callMethod("setSliderWidth",arguments)};pttp.getAutohideSlider=function(){return this.callMethod("getAutohideSlider",arguments)};pttp.setAutohideSlider=function(){return this.callMethod("setAutohideSlider",arguments)};if(BCLoaderEvent==undefined){var BCLoaderEvent={};BCLoaderEvent.PROGRESS="loaderProgress";BCLoaderEvent.INIT="loaderInit";BCLoaderEvent.COMPLETE="loaderComplete";BCLoaderEvent.ERROR="loaderError"}if(BCLoaderState==undefined){var BCLoaderState={};BCLoaderState.DEFAULT="default";BCLoaderState.LOADING="loading";BCLoaderState.LOADED="loaded";BCLoaderState.ERROR="error"}BCComponentModules.SWFLoader=SWFLoaderAPI;function SWFLoaderAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=SWFLoaderAPI.prototype=new UIObjectAPI();pttp.getState=function(){return this.callMethod("getState",arguments)};pttp.setSource=function(){return this.callMethod("setSource",arguments)};pttp.getSource=function(){return this.callMethod("getSource",arguments)};pttp.callSWFMethod=function(){return this.callMethod("callSWFMethod",arguments)};BCComponentModules.TabBar=TabBarAPI;function TabBarAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=TabBarAPI.prototype=new UIObjectAPI();pttp.setSelectedIndex=function(){return this.callMethod("setSelectedIndex",arguments)};pttp.getSelectedIndex=function(){return this.callMethod("getSelectedIndex",arguments)};pttp.getSelectedData=function(){return this.callMethod("getSelectedData",arguments)};pttp.getDataAtIndex=function(){return this.callMethod("getDataAtIndex",arguments)};pttp.getData=function(){return this.callMethod("getData",arguments)};pttp.setData=function(){return this.callMethod("setData",arguments)};pttp.getNumItems=function(){return this.callMethod("getNumItems",arguments)};pttp.getAutoSizeTabs=function(){return this.callMethod("getAutoSizeTabs",arguments)};pttp.setAutoSizeTabs=function(){return this.callMethod("setAutoSizeTabs",arguments)};pttp.getTabWidth=function(){return this.callMethod("getTabWidth",arguments)};pttp.setTabWidth=function(){return this.callMethod("setTabWidth",arguments)};pttp.getLabelBuffer=function(){return this.callMethod("getLabelBuffer",arguments)};pttp.setLabelBuffer=function(){return this.callMethod("setLabelBuffer",arguments)};pttp.getLabelField=function(){return this.callMethod("getLabelField",arguments)};pttp.setLabelField=function(){return this.callMethod("setLabelField",arguments)};pttp.getTabPadding=function(){return this.callMethod("getTabPadding",arguments)};pttp.setTabPadding=function(){return this.callMethod("setTabPadding",arguments)};pttp.getTabAlign=function(){return this.callMethod("getTabAlign",arguments)};pttp.setTabAlign=function(){return this.callMethod("setTabAlign",arguments)};pttp.getIncludeMenu=function(){return this.callMethod("getIncludeMenu",arguments)};pttp.setIncludeMenu=function(){return this.callMethod("setIncludeMenu",arguments)};pttp.getMenuWidth=function(){return this.callMethod("getMenuWidth",arguments)};pttp.setMenuWidth=function(){return this.callMethod("setMenuWidth",arguments)};pttp.getMenuRowHeight=function(){return this.callMethod("getMenuRowHeight",arguments)};pttp.setMenuRowHeight=function(){return this.callMethod("setMenuRowHeight",arguments)};pttp.getMenuItemInset=function(){return this.callMethod("getMenuItemInset",arguments)};pttp.setMenuItemInset=function(){return this.callMethod("setMenuItemInset",arguments)};pttp.getMaxMenuRows=function(){return this.callMethod("getMaxMenuRows",arguments)};pttp.setMaxMenuRows=function(){return this.callMethod("setMaxMenuRows",arguments)};pttp.getHideSingleTab=function(){return this.callMethod("getHideSingleTab",arguments)};pttp.setHideSingleTab=function(){return this.callMethod("setHideSingleTab",arguments)};pttp.appendTab=function(){return this.callMethod("appendTab",arguments)};pttp.insertTabAt=function(){return this.callMethod("insertTabAt",arguments)};pttp.replaceTabAt=function(){return this.callMethod("replaceTabAt",arguments)};pttp.removeTabAt=function(){return this.callMethod("removeTabAt",arguments)};BCComponentModules.TextRegion=TextRegionAPI;function TextRegionAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=TextRegionAPI.prototype=new ContainerAPI();BCComponentModules.TileList=TileListAPI;function TileListAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=TileListAPI.prototype=new UIObjectAPI();pttp.setSelectedIndex=function(){return this.callMethod("setSelectedIndex",arguments)};pttp.getSelectedIndex=function(){return this.callMethod("getSelectedIndex",arguments)};pttp.getSelectedData=function(){return this.callMethod("getSelectedData",arguments)};pttp.getDataAtIndex=function(){return this.callMethod("getDataAtIndex",arguments)};pttp.getData=function(){return this.callMethod("getData",arguments)};pttp.setData=function(){return this.callMethod("setData",arguments)};pttp.showPlaylist=function(){return this.callMethod("showPlaylist",arguments)};pttp.previous=function(){return this.callMethod("previous",arguments)};pttp.next=function(){return this.callMethod("next",arguments)};pttp.getNumItems=function(){return this.callMethod("getNumItems",arguments)};pttp.getAutomaticAdvance=function(){return this.callMethod("getAutomaticAdvance",arguments)};pttp.setAutomaticAdvance=function(){return this.callMethod("setAutomaticAdvance",arguments)};pttp.getButtonOffsetX=function(){return this.callMethod("getButtonOffsetX",arguments)};pttp.setButtonOffsetX=function(){return this.callMethod("setButtonOffsetX",arguments)};pttp.getButtonOffsetY=function(){return this.callMethod("getButtonOffsetY",arguments)};pttp.setButtonOffsetY=function(){return this.callMethod("setButtonOffsetY",arguments)};pttp.getButtonSize=function(){return this.callMethod("getButtonSize",arguments)};pttp.setButtonSize=function(){return this.callMethod("setButtonSize",arguments)};pttp.getNumRows=function(){return this.callMethod("getNumRows",arguments)};pttp.setNumRows=function(){return this.callMethod("setNumRows",arguments)};pttp.getNumColumns=function(){return this.callMethod("getNumColumns",arguments)};pttp.setNumColumns=function(){return this.callMethod("setNumColumns",arguments)};pttp.getRowHeight=function(){return this.callMethod("getRowHeight",arguments)};pttp.setRowHeight=function(){return this.callMethod("setRowHeight",arguments)};pttp.getColumnWidth=function(){return this.callMethod("getColumnWidth",arguments)};pttp.setColumnWidth=function(){return this.callMethod("setColumnWidth",arguments)};pttp.getColumnGutter=function(){return this.callMethod("getColumnGutter",arguments)};pttp.setColumnGutter=function(){return this.callMethod("setColumnGutter",arguments)};pttp.getRowGutter=function(){return this.callMethod("getRowGutter",arguments)};pttp.setRowGutter=function(){return this.callMethod("setRowGutter",arguments)};pttp.getContentInsetV=function(){return this.callMethod("getContentInsetV",arguments)};pttp.setContentInsetV=function(){return this.callMethod("setContentInsetV",arguments)};pttp.getContentInsetH=function(){return this.callMethod("getContentInsetH",arguments)};pttp.setContentInsetH=function(){return this.callMethod("setContentInsetH",arguments)};pttp.setScrollDirection=function(){return this.callMethod("setScrollDirection",arguments)};pttp.getScrollDirection=function(){return this.callMethod("getScrollDirection",arguments)};pttp.getAnimationType=function(){return this.callMethod("getAnimationType",arguments)};pttp.setAnimationType=function(){return this.callMethod("setAnimationType",arguments)};pttp.getUseBlur=function(){return this.callMethod("getUseBlur",arguments)};pttp.setUseBlur=function(){return this.callMethod("setUseBlur",arguments)};pttp.showPage=function(){return this.callMethod("showPage",arguments)};pttp.showNextPage=function(){return this.callMethod("showNextPage",arguments)};pttp.showPreviousPage=function(){return this.callMethod("showPreviousPage",arguments)};pttp.getPageIndex=function(){return this.callMethod("getPageIndex",arguments)};pttp.getNumPages=function(){return this.callMethod("getNumPages",arguments)};pttp.getCenterContent=function(){return this.callMethod("getCenterContent",arguments)};pttp.setCenterContent=function(){return this.callMethod("setCenterContent",arguments)};pttp.getColumnCount=function(){return this.callMethod("getColumnCount",arguments)};pttp.getRowCount=function(){return this.callMethod("getRowCount",arguments)};BCComponentModules.TitleLabel=TitleLabelAPI;function TitleLabelAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=TitleLabelAPI.prototype=new UIObjectAPI();pttp.setText=function(){return this.callMethod("setText",arguments)};pttp.getText=function(){return this.callMethod("getText",arguments)};pttp.setFont=function(){return this.callMethod("setFont",arguments)};pttp.getFont=function(){return this.callMethod("getFont",arguments)};pttp.setTextSize=function(){return this.callMethod("setTextSize",arguments)};pttp.getTextSize=function(){return this.callMethod("getTextSize",arguments)};pttp.getHAlign=function(){return this.callMethod("getHAlign",arguments)};pttp.setHAlign=function(){return this.callMethod("setHAlign",arguments)};pttp.getVAlign=function(){return this.callMethod("getVAlign",arguments)};pttp.setVAlign=function(){return this.callMethod("setVAlign",arguments)};pttp.setAutoSize=function(){return this.callMethod("setAutoSize",arguments)};pttp.getAutoSize=function(){return this.callMethod("getAutoSize",arguments)};pttp.setTruncate=function(){return this.callMethod("setTruncate",arguments)};pttp.getTruncate=function(){return this.callMethod("getTruncate",arguments)};pttp.setMultiline=function(){return this.callMethod("setMultiline",arguments)};pttp.getMultiline=function(){return this.callMethod("getMultiline",arguments)};pttp.getIsTruncated=function(){return this.callMethod("getIsTruncated",arguments)};pttp.getTextWidth=function(){return this.callMethod("getTextWidth",arguments)};pttp.getSelected=function(){return this.callMethod("getSelected",arguments)};pttp.setSelected=function(){return this.callMethod("setSelected",arguments)};BCComponentModules.ToggleButton=ToggleButtonAPI;function ToggleButtonAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=ToggleButtonAPI.prototype=new ButtonAPI();pttp.getToggledLabel=function(){return this.callMethod("getToggledLabel",arguments)};pttp.setToggledLabel=function(){return this.callMethod("setToggledLabel",arguments)};pttp.getToggledTooltip=function(){return this.callMethod("getToggledTooltip",arguments)};pttp.setToggledTooltip=function(){return this.callMethod("setToggledTooltip",arguments)};pttp.getToggledIconName=function(){return this.callMethod("getToggledIconName",arguments)};pttp.setToggledIconName=function(){return this.callMethod("setToggledIconName",arguments)};pttp.getIsToggled=function(){return this.callMethod("getIsToggled",arguments)};pttp.setIsToggled=function(){return this.callMethod("setIsToggled",arguments)};BCComponentModules.ViewStack=ViewStackAPI;function ViewStackAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=ViewStackAPI.prototype=new LayoutBoxAPI();pttp.getSelectedIndex=function(){return this.callMethod("getSelectedIndex",arguments)};pttp.setSelectedIndex=function(){return this.callMethod("setSelectedIndex",arguments)};pttp.getSelectedItemID=function(){return this.callMethod("getSelectedItemID",arguments)};pttp.setSelectedItemID=function(){return this.callMethod("setSelectedItemID",arguments)};BCComponentModules.VolumeControl=VolumeControlAPI;function VolumeControlAPI(a,b,c){this.experience=a;this.callback=b;this.elementID=c}var pttp=VolumeControlAPI.prototype=new UIObjectAPI();pttp.getShowBack=function(){return this.callMethod("getShowBack",arguments)};pttp.setShowBack=function(){return this.callMethod("setShowBack",arguments)};pttp.getTooltip=function(){return this.callMethod("getTooltip",arguments)};pttp.setTooltip=function(){return this.callMethod("setTooltip",arguments)};pttp.getIconScale=function(){return this.callMethod("getIconScale",arguments)};pttp.setIconScale=function(){return this.callMethod("setIconScale",arguments)};pttp.getIconOffsetX=function(){return this.callMethod("getIconOffsetX",arguments)};pttp.setIconOffsetX=function(){return this.callMethod("setIconOffsetX",arguments)};pttp.getIconOffsetY=function(){return this.callMethod("getIconOffsetY",arguments)};pttp.setIconOffsetY=function(){return this.callMethod("setIconOffsetY",arguments)};pttp.getIconAlignmentH=function(){return this.callMethod("getIconAlignmentH",arguments)};pttp.setIconAlignmentH=function(){return this.callMethod("setIconAlignmentH",arguments)};pttp.getIconAlignmentV=function(){return this.callMethod("getIconAlignmentV",arguments)};pttp.setIconAlignmentV=function(){return this.callMethod("setIconAlignmentV",arguments)};pttp.getIconName=function(){return this.callMethod("getIconName",arguments)};pttp.setIconName=function(){return this.callMethod("setIconName",arguments)};pttp.getMutedTooltip=function(){return this.callMethod("getMutedTooltip",arguments)};pttp.setMutedTooltip=function(){return this.callMethod("setMutedTooltip",arguments)};pttp.getMutedIconName=function(){return this.callMethod("getMutedIconName",arguments)};pttp.setMutedIconName=function(){return this.callMethod("setMutedIconName",arguments)};pttp.getIsToggled=function(){return this.callMethod("getIsToggled",arguments)};pttp.setIsToggled=function(){return this.callMethod("setIsToggled",arguments)};pttp.getSliderHeight=function(){return this.callMethod("getSliderHeight",arguments)};pttp.setSliderHeight=function(){return this.callMethod("setSliderHeight",arguments)};pttp.getPopupHeight=function(){return this.callMethod("getPopupHeight",arguments)};pttp.setPopupHeight=function(){return this.callMethod("setPopupHeight",arguments)};pttp.getHorizontalPadding=function(){return this.callMethod("getHorizontalPadding",arguments)};pttp.setHorizontalPadding=function(){return this.callMethod("setHorizontalPadding",arguments)};pttp.getVerticalPadding=function(){return this.callMethod("getVerticalPadding",arguments)};pttp.setVerticalPadding=function(){return this.callMethod("setVerticalPadding",arguments)};pttp.getDirection=function(){return this.callMethod("getDirection",arguments)};pttp.setDirection=function(){return this.callMethod("setDirection",arguments)};pttp.getAnimated=function(){return this.callMethod("getAnimated",arguments)};pttp.setAnimated=function(){return this.callMethod("setAnimated",arguments)};var BCplayer=Class.create({initialize:function(b,a){this.videoId=b;this.targetId="targetVideo";this.containerId="videoContainer";this.linkId="linkLayer";this.isIpad=(navigator.userAgent.indexOf("iPad")==-1)?false:true;this.options={"@videoPlayer":this.videoId,id:a.id,width:a.width,height:a.height,playerID:a.playerID,isVid:a.isVid,isUI:a.isUI,dynamicStreaming:a.dynamicStreaming,autoStart:a.autoStart,wmode:a.wmode,url:a.url}},setupVideoPlayer:function(){this.videoContainer=$(this.containerId);this.target=$(this.targetId);if(this.videoContainer){(this.videoContainer).remove()}this.videoContainer=new Element("div",{id:this.containerId});this.videoLink=new Element("div",{id:this.linkId});$(this.target).insert(this.videoContainer);if(this.options.url!="fake_link"){$(this.target).insert(this.videoLink)}if(this.isIpad){$(this.linkId).hide()}this.player=this.createPlayer(this.videoId);$(this.target).insert(this.player)},createPlayer:function(){this.player=brightcove.createElement("object");for(var a in this.options){parameter=brightcove.createElement("param");parameter.name=a;parameter.value=this.options[a];$(this.player).insert(parameter)}return this.player},play:function(){brightcove.createExperience(this.player,this.videoContainer,true)}});var Fabtabs=Class.create();Fabtabs.prototype={initialize:function(){that=this;that.selected;$$("#tabs a").each(function(b,a){if(a==0){$(b).addClassName("active-tab");elm=b.readAttribute("rel");$(elm).addClassName("active-tab-body");that.selected=elm}$(b).observe("click",that.activate)})},activate:function(a){$$("#tabs a").each(function(c,b){$(c).removeClassName("active-tab")});target=(a.currentTarget)?a.currentTarget:a.srcElement;$(target).addClassName("active-tab");if(that.selected!=undefined){$(that.selected).removeClassName("active-tab-body")}elm=target.readAttribute("rel");$(elm).addClassName("active-tab-body");that.selected=elm}};Event.observe(window,"load",function(){new Fabtabs()});var Dejavu=Class.create({ELEMENT_NAME_PREFIX:"dejavu",CONTAINER:"prDejavu",initialize:function(a){this.idNazione=null;this.itemsCollection=null;this.cookie={};this.max=(a)?a.MAX_ITEMS:null;this.currentItem=(a)?a.ITEM:null;this.cookie.domain=(a)?a.COOKIE_DOMAIN:null;this.place=(a&&a.PLACE)?a.PLACE:"search";this.imgFormat=(a)?a.imgFormat:"8_f";this.setup()},setup:function(){this.cookie.visit=new XYooxJF.Cookies("VISIT");this.cookie.visit.load();this.idNazione=this.cookie.visit.ID_NAZIONE;if(this.currentItem&&(this.place=="item"||!$(this.CONTAINER))){this.addToDejavu()}if($(this.CONTAINER)){this.cookie.dejavu=new XYooxJF.Cookies("DEJAVU",null,null,this.cookie.domain);this.cookie.dejavu.load();if(this.cookie.dejavu.self!="undefined"&&this.cookie.dejavu.ITEMS){this.itemsCollection=this.cookie.dejavu.ITEMS.replace(/\};/g,"}").evalJSON();if(this.itemsCollection){this.createDejavu()}}else{this._handleTrackEvents(false);$(this.CONTAINER).innerHTML=""}}},addToDejavu:function(){this.cookie.dejavu=new XYooxJF.Cookies("DEJAVU",null,null,this.cookie.domain);this.cookie.dejavu.load();if(this.cookie.dejavu.NAX&&this.cookie.dejavu.NAX!=this.idNazione){this.cookie.dejavu.remove();this.cookie.dejavu.load()}if(this.cookie.dejavu.self=="undefined"||!this.cookie.dejavu.ITEMS){this.itemsCollection=[this.currentItem];this.cookie.dejavu.ITEMS=Object.toJSON(this.itemsCollection);this.cookie.dejavu.NAX=this.idNazione;this.cookie.dejavu.store()}else{try{var a=this.cookie.dejavu.ITEMS.replace(/\};/g,"}").evalJSON();if(!a){throw ({message:"Cookie Dejavu is not correct."})}}catch(d){Logger.error("Dejavu -> process() - "+$H(d).inspect(),d);return}var c=a.findAll(function(f,e){return(f.cod10!=this.currentItem.cod10)}.bind(this));var b=c.reverse(false).findAll(function(f,e){return e<(this.max-1)}.bind(this));b.reverse();b[b.length]=this.currentItem;this.cookie.dejavu.ITEMS=Object.toJSON(b);this.cookie.dejavu.store();this.itemsCollection=c.reverse(false).findAll(function(f,e){return e<(this.max)}.bind(this));this.itemsCollection.reverse()}},createDejavu:function(){this._handleTrackEvents(false);$(this.CONTAINER).innerHTML="";this.itemsCollection.each(function(c,a){var d=document.createElement("img");d.src=XYooxJF.productImage(c.cod10,{dimension:this.imgFormat});var b=document.createElement("A");b.appendChild(d);$(this.CONTAINER).appendChild(b);new ProductBox(c,b);b.href=Links.getItemLink({cod10:c.cod10})}.bind(this));this._handleTrackEvents(true)},_handleTrackEvents:function(a){$(this.CONTAINER).select("a").each(function(b){if(a){Event.observe(b,"click",function(){XYooxJF.Analisys.trackEvent("Item","DejavuToItem");return})}else{Event.stopObserving(b,"click")}}.bind(this))}});var DejavuManager={process:function(){if(typeof(jsoninit_dejavu)!=="undefined"){Dejavu=new Dejavu(jsoninit_dejavu)}else{Dejavu=new Dejavu(null)}}};if(typeof($LAB)==="undefined"){Event.observe(window,"load",DejavuManager.process)}Scroll=Class.create("Scroll");Scroll.prototype={initialize:function(b,d,c,a){this.s_container=b;this.s_content=d;this.s_up=c;this.s_down=a;Logger.info("Scroll -> process()");if($(this.s_content)&&$(this.s_container)&&$(this.s_up)&&$(this.s_down)){this.showHideArrows();this.init(this.s_container)}else{Logger.info("Scroll -> process() ended: "+this.s_content+", "+this.s_container+", "+this.s_up+", "+this.s_down+" not exists")}},showHideArrows:function(){$(this.s_up).hide();$(this.s_down).hide();if($(this.s_container).getHeight()<$(this.s_content).getHeight()){$(this.s_up).show();$(this.s_down).show()}},moveUpManager:function(a){this.Timer=setInterval(this.moveUp.bindAsEventListener(this),2)},moveDownManager:function(a){this.Timer=setInterval(this.moveDown.bindAsEventListener(this),2)},moveUp:function(){$(this.s_container).scrollTop-=2},moveDown:function(){$(this.s_container).scrollTop+=2},stopMove:function(a){clearInterval(this.Timer)},init:function(){Event.observe(this.s_up,"mouseover",this.moveUpManager.bindAsEventListener(this));Event.observe(this.s_down,"mouseover",this.moveDownManager.bindAsEventListener(this));Event.observe(this.s_up,"mouseout",this.stopMove.bindAsEventListener(this));Event.observe(this.s_down,"mouseout",this.stopMove.bindAsEventListener(this));Event.observe(this.s_container,"click",this.showHideArrows.bindAsEventListener(this))}};var scrollObj;var ScrollManager={process:function(){scrollObj=new Scroll("colorsSizesBox_container","colorsSizesBox_content","scrollUp","scrollDown")}};if(typeof($LAB)==="undefined"){Event.observe(window,"load",ScrollManager.process)}Related=Class.create("Related");Related.prototype={CONTAINER:"related",TITLE:"relatedTitle",COLOR_CONTAINER:"colorsContainer",COLOR_CLASS:"colorBox",COLOR_STRING_POS:7,ELEMENT_NAME_PREFIX:"rel",initialize:function(a){this.sel=a.sel;this.cod8=this.sel.substr(0,8);this.fullCollection=a.other;this.imgFormat=a.imgFormat||"8_f";colors=document.getElementsByClassName(this.COLOR_CLASS,this.COLOR_CONTAINER);$A(colors).each(function(b){Event.observe(b,"click",function(){this.update(this.cod8+b.id.slice(this.COLOR_STRING_POS,this.COLOR_STRING_POS+2))}.bind(this))}.bind(this));this.process(false)},process:function(a){collectionFiltered=this.fullCollection.find(function(b){return b.mCod10==this.sel}.bind(this));if(collectionFiltered){this.collection=collectionFiltered.relCod10s}else{this.collection=new Array}if(a){this._handleTrackEvents(false);$(this.CONTAINER).innerHTML="";$(this.TITLE).hide();$A(this.collection).each(function(d,c){if(c==0){$(this.TITLE).show()}var b=document.createElement("img");b.id=this.ELEMENT_NAME_PREFIX+"_"+(c+1);$(this.CONTAINER).appendChild(b)}.bind(this))}else{collection=document.getElementsByClassName("related",this.CONTAINER);$A(collection).each(function(c,b){}.bind(this))}this._show();this._handleTrackEvents(true)},update:function(a){this.sel=a;this.process(true)},_show:function(){Logger.info("Related -> _show() - collection.length = "+this.collection.length);$A(this.collection).each(function(d,a){var c=$(this.ELEMENT_NAME_PREFIX+"_"+(a+1));c.src=XYooxJF.productImage(d,{dimension:this.imgFormat});var b=$("link_"+this.ELEMENT_NAME_PREFIX+"_"+(a+1));if(!b){b=document.createElement("A");b.id="link_"+this.ELEMENT_NAME_PREFIX+"_"+(a+1);c.parentNode.appendChild(b);b.appendChild(c)}b.href=Links.getItemLink({cod10:d})}.bind(this))},_handleTrackEvents:function(a){$(this.CONTAINER).select("a").each(function(b){if(a){Event.observe(b,"click",function(){XYooxJF.Analisys.trackEvent("Item","RelatedTo");return})}else{Event.stopObserving(b,"click")}}.bind(this))}};var RelatedManager={process:function(){if(typeof(jsoninit_related)!=="undefined"){new Related(jsoninit_related)}return false}};if(typeof($LAB)==="undefined"){Event.observe(window,"load",RelatedManager.process)}var Rotate360=Class.create({initialize:function(a){this.litBox360=null;this.rotate360=null;this.imagesPreloader=null;this.props=a;this.areImagesLoaded=false;this._observeButtons()},_observeButtons:function(){Event.observe("vision360","click",this.open360.bindAsEventListener(this))},open360:function(){this._openLitbox();if(this.areImagesLoaded){this._showRotate360()}else{this._preloadAndShowRotate360()}},_showRotate360:function(){this.rotate360=new rotate_360(this.props.container,this.props.images.path,this.props.images.prefix,this.props.images.ext,this.props.images.width,this.props.images.height,this.props.images.count,this.props.velocity,this.litBox360.d2.offsetLeft,this.litBox360.d2.offsetTop)},_preloadAndShowRotate360:function(){var a=[];for(i=0;i<this.props.images.count;i++){var b=(i+1<10)?"0"+(i+1):String(i+1);a[i]={containerElement:this.props.container,imageToLoad:this.props.images.path+this.props.images.prefix+b+"."+this.props.images.ext}}Event.observe(this.props.container,"multiimg:completed",function(c){this.areImagesLoaded=true;this._showRotate360()}.bind(this));this.imagesPreloader=new MultiImagePreloader({containerElement:this.props.container,multiProps:a,showSingleAnimation:true,autoLoadLimit:2,preloadAnimationOptions:{containerElement:this.props.container,preloadImg:"http://cdn2.yoox.biz/Os/valentino3/ajax-loader.gif"}})},_hideAndDestroy:function(){if(this.rotate360){this.rotate360.destroy(document.getElementById(this.props.container));this.rotate360=null}if(this.imagesPreloader){this.imagesPreloader.destroy();this.imagesPreloader=null}},_openLitbox:function(){var b=$("container").getHeight()/2-(this.props.images.height+150)/2;var c=$("container").getWidth()/2-(this.props.images.width+54)/2;var a={type:"alert",width:this.props.images.width+54,height:this.props.images.height,draggable:false,enableClose:true,onClose:this._hideAndDestroy.bind(this)};this.litBox360=Links.openXYooxLITBoxOptions('<div id="'+this.props.container+'" style="width:'+this.props.images.width+"px; height:"+this.props.images.height+'px"></div>',a)}});ProductBox=Class.create("ProductBox");ProductBox.prototype={initialize:function(b,a){this.item=b;this.activator=a;this.calloutColor="";this.calloutSize="";if(typeof(jsinit_slider)!=="undefined"){this.productBox=jsinit_slider.productBox}if(!this.colorLabel){if(typeof(jsinit_productBox)!=="undefined"){this.colorLabel=jsinit_productBox.colorLabel;this.sizeLabel=jsinit_productBox.sizeLabel;this.moreColorsLabel=jsinit_productBox.moreColorsLabel;this.store=jsinit_productBox.store;this.className=jsinit_productBox.className}}this._setup()},_setup:function(){var b="productTip";if(typeof(this.className)!=="undefined"&&this.className!==""){b+=" "+this.className}if(typeof(this.item.ct)!=="undefined"){b+=" productBoxCt"+this.item.ct}var a={type:"node",id:"productTip_"+this.item.code,className:b,overlay:false,resizable:false,draggable:false,manualstart:true,enableHeader:true,moveToMouse:true,followMouse:true}},_createBox:function(){var f="";if(this.productBox!=undefined){var d=document.createElement("div");var l=this.json||this.item;var e=this.getColori(l);var g=this.getTaglie(l);var c=this.getPrezzo(l);var k=this.getPrezzoOld(l);var b=this.getBrand(l);var a=this.getMicro(l);if(!g){var f=document.getElementById("productBoxDejavuContents").innerHTML}else{var f=document.getElementById("productBoxContents").innerHTML}f=f.replace("@@colori@@",e);f=f.replace("@@taglie@@",g);f=f.replace("@@prezzo@@",c);f=f.replace("@@prezzoOld@@",k);f=f.replace("@@brand@@",b);f=f.replace("@@micro@@",a)}else{Logger.debug("create "+$H(this.json).inspect());var l=this.json||this.item;d=document.createElement("div");Element.addClassName(d,"box");if(l.category&&l.price){f+="<strong>"+l.category+"</strong><br/>";if(l.priceold){f+="<div class='oldprice'>"+l.priceold+"</div>";f+="<div class='newprice'>"+l.price+"</div><br/>"}else{f+="<strong>"+l.price+"</strong><br/><br/>"}}if(l.sizes||l.colors){if(l.colors){f+="<strong>"+this.colorLabel+"</strong><br/>";(l.colors).each(function(m,n){f+=m.desc;if((n+1)!=l.colors.length){f+=" - "}});f+="<br/>";if(this.store=="MissSixty"){f+="<br/>"}}if(l.sizes){f+="<strong>"+this.sizeLabel+"</strong><br/>"+l.sizes+"<br/>"}}else{if(l.brand){f="<strong>"+l.brand+"</strong><br/>"}if(l.micro){f+=l.micro+"<br/>"}else{if(l.altmicro){f+=l.altmicro+"<br/>"}}if(l.price){if(l.priceold){f+="<div class='oldprice'>"+l.priceold+"</div>";f+="<div class='newprice'>"+l.price+"</div>"}else{f+="<div class='newprice'>"+l.price+"</div>"}}}}d.innerHTML=f;return d},getColori:function(b){var a="";if(b.sizes||b.colors){if((b.moreColors!=undefined)&&(b.moreColors!="")){if(b.colors.length>1){a=b.moreColors}else{a=""}}else{(b.colors).each(function(c,d){a+=c.desc;if((d+1)!=b.colors.length){a+=" - "}})}}return a},getTaglie:function(b){var a="";if(b.sizes||b.colors){if(b.sizes){a+=b.sizes}}return a},getPrezzo:function(b){var a="";if(b.price){a+=b.price.replace("&nbsp;"," ")}return a},getPrezzoOld:function(b){var a="";if(b.priceold){a+=b.priceold.replace("&nbsp;"," ")}return a},getBrand:function(a){var b="";if(a.brand){b+=a.brand}return b},getMicro:function(b){var a="";if(b.micro){a+=b.micro}else{if(b.altmicro){a+=b.altmicro}}return a}};var ProducBoxManager={labels:{},process:function(){if(typeof(jsinit_productBox)!=="undefined"){ProductBox.prototype.colorLabel=jsinit_productBox.colorLabel;ProductBox.prototype.sizeLabel=jsinit_productBox.sizeLabel;ProductBox.prototype.moreColorsLabel=jsinit_productBox.moreColorsLabel;ProductBox.prototype.store=jsinit_productBox.store;ProductBox.prototype.productBox=jsinit_productBox.productBox;ProductBox.prototype.className=jsinit_productBox.className}}};if(typeof($LAB)==="undefined"){Event.observe(window,"load",function(a){ProducBoxManager.process()}.bindAsEventListener(this))}function rotate_360(b,x,g,a,u,r,c,m,q,t){function B(F){var G=0;var E=0;var p=0;if(F.offsetParent){while(F.offsetParent){G+=F.offsetTop;E+=F.offsetLeft;F=F.offsetParent}}else{if(F.y&&F.x){G+=F.y;E+=F.x}}d=E;o=G}function y(p){if(navigator.userAgent.match(/iPad/i)!=null||navigator.userAgent.match(/iPhone/i)!=null||navigator.userAgent.match(/iPod/i)!=null){p.addEventListener("touchmove",k,false);p.addEventListener("touchstart",k,false)}else{if(document.layers){document.captureEvents(Event.MOUSEMOVE);p.onmousemove=k}else{if(document.all){p.onmousemove=k}else{if(document.getElementById){p.onmousemove=k}}}}}function v(p){if(navigator.userAgent.match(/iPad/i)!=null||navigator.userAgent.match(/iPhone/i)!=null||navigator.userAgent.match(/iPod/i)!=null){p.removeEventListener("touchmove",k,false);p.removeEventListener("touchstart",k,false)}else{if(document.layers){document.releaseEvents(Event.MOUSEMOVE);p.onmousemove=null}else{if(document.all){p.onmousemove=null}else{if(document.getElementById){p.onmousemove=null}}}}}this.destroy=function(p){v(p)};function k(F){if(navigator.userAgent.match(/iPad/i)!=null||navigator.userAgent.match(/iPhone/i)!=null||navigator.userAgent.match(/iPod/i)!=null){F.preventDefault();D=F.targetTouches[0].pageX;z=F.targetTouches[0].pageY;D=((D>=u+d)?u+d:D);D=((D<=d)?d:D);z=((z>=r+o)?r+o:z);z=((z<=o)?o:z)}else{if(typeof(F)=="undefined"){D=window.event.x+q;z=window.event.y+t}else{D=F.pageX;z=F.pageY}}var p=(D-d);s=((Math.atan2((p-A),A)/(Math.PI/360))*(A/90));var E=Math.round(s/(A/c));E+=c;l(E)}function l(H){if(f!=H){if(H<0){H=1}if(Math.abs(H-f)>c){f=(f>H?f-c:f+c)}f=(f<H?f+1:f-1);var E=(f%c);E=(E==0?c:E);var F=(E>=10?E:"0"+E);C.src=x+g+F+"."+a;clearTimeout(e);var p=Math.abs(H-f);p=(p==0?1:p);var G=Math.ceil(m/(p/4));G=(G<m?m:G);e=window.setTimeout(function(){l(H)},G)}}if(b==""||b==undefined){return}else{var b=document.getElementById(b)}if(!b){return}var n=b;var u=(u==undefined?325:u);var r=(r==undefined?490:r);var A=(u/2);var c=(c==undefined?30:c);var m=(m==undefined?20:m);var D=0;var z=0;var d=0;var o=0;var f=c;var e="";var s=0;b.style.width=u+"px";b.style.height=r+"px";var C=document.createElement("img");C.src=x+g+"01."+a;b.appendChild(C);y(n);B(n);e=window.setTimeout(function(){l(2)},m)}var ImagePreloader=Class.create({initialize:function(a){var b={autoSetToImg:null,autoCreateImg:false,autoLoad:true,containerElement:null,imageToLoad:null,lowResImage:null,preloadAnimationOptions:null};this.props=Object.extend(b,a);if(this.props.imageToLoad==null||this.props.containerElement==null){console.log("Failed to initialize ImagePreloader - missing required options");console.log(this.props);return false}this.status=0;this.containerElement=$(this.props.containerElement);this.imgElement=$(this.props.autoSetToImg);this.image=new Image;Event.observe(this.image,"load",this._onLoad.bind(this),false);Event.observe(this.image,"error",this._onError.bind(this),false);Event.observe(this.image,"abort",this._onAbort.bind(this),false);if(this.props.autoLoad){this.startLoading()}else{}},startLoading:function(){if(null==this.props.imageToLoad){Event.fire(this.containerElement,"img:error",{imageToLoad:null,timeElapsed:0});this.status=1;return false}this._showPreloadImg();this._showLowResImg();this._startChronometer();this.image.src=this.props.imageToLoad;this.status=2},destroy:function(){Event.stopObserving(this.image,"load",this._onLoad.bind(this),false);Event.stopObserving(this.image,"error",this._onError.bind(this),false);Event.stopObserving(this.image,"abort",this._onAbort.bind(this),false)},_showPreloadImg:function(){if(this.props.preloadAnimationOptions!==null){this.preloadAnimation=new PreloadAnimation(this.props.preloadAnimationOptions)}},_hidePreloadImg:function(){if(this.props.preloadAnimationOptions!==null){this.preloadAnimation.destroy()}},_showLowResImg:function(){if(Prototype.Browser.Gecko){return}if(this.props.lowResImage){this._setManagedImageSrc(this.props.lowResImage)}},_setManagedImageSrc:function(a){if(this.imgElement){this.imgElement.src=a}else{if(this.props.autoCreateImg){this.imgElement=new Element("img",{src:a});this.containerElement.insert({top:this.imgElement})}}},_onLoad:function(a){this.status=4;this._stopChronometer();this._hidePreloadImg();this._setManagedImageSrc(this.props.imageToLoad);Event.fire(this.containerElement,"img:loaded",{containerElement:this.containerElement,imageToLoad:this.props.imageToLoad,timeElapsed:this.timeElapsed})},_onError:function(a){this.status=1;this._stopChronometer();this._hidePreloadImg();Event.fire(this.containerElement,"img:error",{containerElement:this.containerElement,imageToLoad:this.props.imageToLoad,timeElapsed:this.timeElapsed})},_onAbort:function(a){this.status=3;this._stopChronometer();this._hidePreloadImg();Event.fire(this.containerElement,"img:abort",{containerElement:this.containerElement,imageToLoad:this.props.imageToLoad,timeElapsed:this.timeElapsed})},_startChronometer:function(){this.timeStart=new Date()},_stopChronometer:function(){this.timeEnd=new Date();this.timeElapsed=this.timeEnd.valueOf()-this.timeStart.valueOf()}});var MultiImagePreloader=Class.create({initialize:function(c){var d={autoLoad:true,autoLoadLimit:3,containerElement:null,multiProps:[],preloadAnimationOptions:null,showSingleAnimation:false};this.props=Object.extend(d,c);if(this.props.containerElement==null||this.props.multiProps.length==0){console.log("Failed to initialize MultiImagePreloader - missing required options");console.log(this.props);return false}this.containerElement=$(this.props.containerElement);this.imagePreloaders=[];for(var a=0;a<this.props.multiProps.length;a++){if(this.props.multiProps[a]){var b=Object.extend({autoLoad:false},this.props.multiProps[a]);if(this.props.showSingleAnimation){b.preloadAnimationOptions=null}else{b.preloadAnimationOptions=Object.extend({containerElement:this.props.multiProps[a].containerElement},this.props.preloadAnimationOptions)}this.imagePreloaders[a]=new ImagePreloader(b)}}this.counters={processed:0,aborted:0,loaded:0,errors:0};if(this.props.autoLoad){this.startLoading()}},startLoading:function(){this._startChronometer();this._showPreloadImg();var b=(this.props.autoLoadLimit>0)?Math.min(this.props.autoLoadLimit,this.imagePreloaders.length):this.imagePreloaders.length;this._listen();for(var a=0;a<b;a++){this.imagePreloaders[a].startLoading()}this.indexOfNextImageToLoad=(b<this.imagePreloaders.length)?b-1:null},destroy:function(){for(var a=0;a<this.props.multiProps.length;a++){this.imagePreloaders[a].destroy()}},_listen:function(){Event.observe(this.containerElement,"img:loaded",this._onLoadOne.bind(this));Event.observe(this.containerElement,"img:abort",this._onAbortOne.bind(this));Event.observe(this.containerElement,"img:error",this._onErrorOne.bind(this))},_showPreloadImg:function(){if(this.props.showSingleAnimation){this.preloadAnimation=new PreloadAnimation(this.props.preloadAnimationOptions)}},_hidePreloadImg:function(){if(this.props.showSingleAnimation){this.preloadAnimation.destroy()}},_goNext:function(){this.counters.processed++;this.indexOfNextImageToLoad++;if(this.indexOfNextImageToLoad<this.imagePreloaders.length){this.imagePreloaders[this.indexOfNextImageToLoad].startLoading()}else{if(this.counters.processed>=this.imagePreloaders.length){this._stopChronometer();this._hidePreloadImg();Event.fire(this.containerElement,"multiimg:completed",{counters:this.counters,timeElapsed:this.timeElapsed})}}},_onLoadOne:function(){this.counters.loaded++;this._goNext()},_onAbortOne:function(){this.counters.aborted++;this._goNext()},_onErrorOne:function(){this.counters.errors++;this._goNext()},_startChronometer:function(){this.timeStart=new Date()},_stopChronometer:function(){this.timeEnd=new Date();this.timeElapsed=this.timeEnd.valueOf()-this.timeStart.valueOf()}});var PreloadAnimation=Class.create({initialize:function(a){var b={autoStart:true,containerElement:null,preloadImg:null,preloadPngAnimatorOptions:null};this.props=Object.extend(b,a);if(this.props.containerElement==null){console.log("Failed to initialize PreloadAnimation - missing required options");console.log(this.props);return false}this.containerElement=$(this.props.containerElement);this.preloadImageType=this._getPreloadImageType();this._setup();if(this.props.autoStart){this.start()}},start:function(){this._showPreloadImg()},stop:function(){this._hidePreloadImg()},destroy:function(){this.stop()},_setup:function(){if(this.containerElement.getStyle("position")!="absolute"){this.containerElement.setStyle({position:"relative"})}},_getPreloadImageType:function(){var b=this.props.preloadImg!==null;var a=this.props.preloadPngAnimatorOptions!==null;var c=Prototype.Browser.IE&&parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5))==6;if(a&&!c){return"png"}if(b){return"gif"}return""},_setPreloadGif:function(){this.loadingOverlay.setStyle({background:"transparent url('"+this.props.preloadImg+"') no-repeat center center"})},_unsetPreloadGif:function(){this.loadingOverlay.setStyle({background:"none"})},_setPreloadPngAnimator:function(){var b=Math.round(this.props.preloadPngAnimatorOptions.animationContainerWidth/2);var a=Math.round(this.props.preloadPngAnimatorOptions.animationContainerHeight/2);this.pngAnimatorLayer=new Element("div");this.pngAnimatorLayer.setStyle({position:"absolute",left:"50%",top:"50%",marginLeft:"-"+b+"px",marginTop:"-"+a+"px"});this.loadingOverlay.insert({top:this.pngAnimatorLayer});this.props.preloadPngAnimatorOptions.animationContainer=this.pngAnimatorLayer;this.preloadPngAnimator=new PngAnimator(this.props.preloadPngAnimatorOptions)},_unsetPreloadPngAnimator:function(){this.preloadPngAnimator.destroy();this.pngAnimatorLayer.remove()},_showPreloadImg:function(){this.loadingOverlay=new Element("div",{id:"preloadImg_"+this.containerElement.id});this.loadingOverlay.setStyle({position:"absolute",left:"0px",top:"0px",marginLeft:"0px",marginTop:"0px",width:"100%",height:"100%"});switch(this.preloadImageType){case"gif":this._setPreloadGif();break;case"png":this._setPreloadPngAnimator();break;default:return false}this.containerElement.insert({top:this.loadingOverlay})},_hidePreloadImg:function(){switch(this.preloadImageType){case"gif":this._unsetPreloadGif();break;case"png":this._unsetPreloadPngAnimator();break;default:return false}this.loadingOverlay.remove()}});var TouchScroll=(function(){if(navigator.userAgent.indexOf("iPad")==-1){return}var B={threshold:5,scrollHandleMinSize:25,flicking:{triggerThreshold:150,friction:0.998,minSpeed:0.5,timingFunc:[0,0.3,0.6,1]},elasticity:{factorDrag:0.5,factorFlick:0.2,max:100},snapBack:{timingFunc:[0.4,0,1,1],defaultTime:400,alwaysDefaultTime:true}};var N=(function(){if("createTouch" in document){return true}try{var R=document.createEvent("TouchEvent");return !!R.initTouchEvent}catch(Q){return false}}());var J=(function(){var Q=new WebKitCSSMatrix("matrix(1, 0, 0, 1, -20, -30)");return Q.e==-20&&Q.f==-30}());var p;if(N){p={start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}}else{p={start:"mousedown",move:"mousemove",end:"mouseup",cancel:"touchcancel"}}var k;if(J){k=function(R){var S=R.ownerDocument,Q=window.getComputedStyle(R).webkitTransform;return new WebKitCSSMatrix(Q)}}else{var l=/matrix\(\s*-?\d+(?:\.\d+)?\s*,\s*-?\d+(?:\.\d+)?\s*,\s*-?\d+(?:\.\d+)?\s*,\s*-?\d+(?:\.\d+)?\s*\,\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*\)/;k=function(T){var U=T.ownerDocument,S=window.getComputedStyle(T).webkitTransform,Q=new WebKitCSSMatrix(),R=l.exec(S);if(R){Q.e=R[1];Q.f=R[2]}return Q}}function g(Q){Q.style.webkitTransformStyle="preserve-3d";Q.style.webkitTransitionProperty="-webkit-transform"}function A(T,R,U,Q){var S=T.style;if(U!=null){S.webkitTransitionDuration=U+""}if(Q!=null){S.webkitTransitionTimingFunction=Q+""}T.style.webkitTransform="translate("+R.e+"px, "+R.f+"px)"}function s(R){if(R.touches&&R.touches.length){R=R.touches[0]}var Q=new WebKitCSSMatrix;Q.e=R.pageX;Q.f=R.pageY;return Q}function x(Q){Q.e=Math.round(Q.e);Q.f=Math.round(Q.f);return Q}var D=document.createElement("div");D.innerHTML=['<div class="touchScrollTrack touchScrollTrackX">','<div class="touchScrollHandle"></div>',"</div>",'<div class="touchScrollTrack touchScrollTrackY">','<div class="touchScrollHandle"></div>',"</div>"].join("");I.handleEvent=function n(Q){var R=I.prototype.currentScroller;if(R){R.handleEvent(Q)}else{if(Q.type===p.move){}}};document.addEventListener(p.move,I.handleEvent,false);document.addEventListener(p.end,I.handleEvent,false);document.addEventListener(p.cancel,I.handleEvent,false);function I(R,Q){Q=Q||{};this.elastic=!!Q.elastic,this.snapToGrid=!!Q.snapToGrid;this.containerSize=null;this.maxSegments={e:1,f:1};this.currentSegment={e:0,f:0};this.scrollers={container:R,outer:null,inner:null,e:null,f:null};this._scrolls={e:false,f:false};this._scrollMin={e:false,f:false};this._scrollbars=null,this._isScrolling=false;this._startEvent=null;this._currentOffset=new WebKitCSSMatrix();this._trackedEvents=null;this._flicking={e:false,f:false};this._bounces={e:null,f:null};this._animationTimeouts={e:[],f:[]};this._initDom();this.setupScroller()}I.prototype={currentScroller:null,handlerNames:{resize:"setupScroller",orientationchange:"setupScroller",webkitTransitionEnd:"onTransitionEnd",DOMSubtreeModified:"setupScroller",touchstart:"onTouchStart",mousedown:"onTouchStart",touchmove:"onTouchMove",mousemove:"onTouchMove",touchend:"onTouchEnd",mouseup:"onTouchEnd",touchcancel:"onTouchEnd"},_initDom:function z(){var R=document.createElement("div"),W=R.cloneNode(false),V=this.scrollers.container;R.className="touchScrollInner";V.className+=" touchScroll";for(var U=0,T=V.childNodes.length;U<T;U++){R.appendChild(V.firstChild)}W.appendChild(R);V.appendChild(W);this.scrollers.outer=this.scrollers.f=W;this.scrollers.inner=this.scrollers.e=R;g(W);g(R);R.style.display="inline-block";R.style.minWidth="100%";R.style.webkitBoxSizing="border-box";var S=D.cloneNode(true),Z=S.querySelector(".touchScrollTrackX"),Y=S.querySelector(".touchScrollTrackY"),ab=Z.firstElementChild,aa=Y.firstElementChild;var Q=S.style;Q.pointerEvents="none";Q.webkitTransitionProperty="opacity";Q.webkitTransitionDuration="250ms";Q.opacity="1";var X=this._scrollbars={container:S,tracks:{e:Z,f:Y},handles:{e:ab,f:aa},sizes:{e:0,f:0}};g(ab);g(aa);V.insertBefore(S,W);if(window.getComputedStyle(V).position=="static"){V.style.position="relative"}this.setupScroller();V.addEventListener(p.start,this,false);W.addEventListener("webkitTransitionEnd",this,false);W.addEventListener("DOMSubtreeModified",this,true);window.addEventListener("orientationchange",this,false);window.addEventListener("resize",this,false)},killScroller:function F(){window.removeEventListener("orientationchange",this,false);window.removeEventListener("resize",this,false);document.removeEventListener(p.move,I.handleEvent,false);document.removeEventListener(p.end,I.handleEvent,false);document.removeEventListener(p.cancel,I.handleEvent,false)},setupScroller:function t(R){var X=this.scrollers.outer.parentNode,Q={e:X.offsetWidth,f:X.offsetHeight},S=this.scrollers.inner,T={e:S.offsetWidth,f:S.offsetHeight},V=this._scrollbars,Y={e:Math.min(Q.e-T.e,0),f:Math.min(Q.f-T.f,0)};this.containerSize=Q;this.maxSegments={e:Math.ceil(-Y.e/Q.e),f:Math.ceil(-Y.f/Q.f)};V.container.style.height=Q.f+"px";this._scrollMin=Y;var W=this._scrolls={e:Y.e<0,f:Y.f<0};this._doScroll=W.e||W.f;V.container.className="touchScrollBars";if(W.e&&W.f){V.container.className+=" touchScrollBarsBoth"}V.tracks.e.style.display=W.e?"":"none";V.tracks.f.style.display=W.f?"":"none";var U={e:V.tracks.e.offsetWidth,f:V.tracks.f.offsetHeight};V.sizes={e:Math.round(Math.max(U.e*Q.e/T.e,B.scrollHandleMinSize)),f:Math.round(Math.max(U.f*Q.f/T.f,B.scrollHandleMinSize))};V.handles.e.style.width=V.sizes.e+"px";V.handles.f.style.height=V.sizes.f+"px";V.maxOffsets={e:U.e-V.handles.e.offsetWidth,f:U.f-V.handles.f.offsetHeight};V.offsetRatios={e:W.e?(U.e-V.handles.e.offsetWidth)/Y.e:0,f:W.f?(U.f-V.handles.f.offsetHeight)/Y.f:0}},handleEvent:function n(R){var Q=this.handlerNames[R.type];if(Q){this[Q](R)}},onTouchStart:function K(R){if(!this._doScroll){return}this.__proto__.currentScroller=this;this._isScrolling=false;this._trackedEvents=[];this._determineOffset();this._trackEvent(R);this._startEventTarget=R.target;var Q=this._stopAnimations();this._snapBack(null,0);this._startEvent=R;R.stopPropagation();R.preventDefault()},onTouchMove:function L(U){if(!this._doScroll){return}var T=this._trackedEvents[1].matrix,S=s(U).translate(-T.e,-T.f,0),V=this._isScrolling,R=V;U.stopPropagation();U.preventDefault();if(!R){var Q=B.threshold,R=S.e<=-Q||S.e>=Q||S.f<=-Q||S.f>=Q}if(R){if(!V){this._isScrolling=true;this.showScrollbars()}this._scrollBy(S);this._trackEvent(U)}},onTouchEnd:function E(Q){var Z=this._startEventTarget;if(!this._isScrolling&&Z==Q.target){var T=Q.target;while(T.nodeType!=1){T=T.parentNode}var W=document.createEvent("HTMLEvents");W.initEvent("focus",false,false);T.dispatchEvent(W);var aa=document.createEvent("MouseEvent");aa.initMouseEvent("click",true,true,Q.view,1,Q.screenX,Q.screenY,Q.clientX,Q.clientY,Q.ctrlKey,Q.altKey,Q.shiftKey,Q.metaKey,Q.button,null);T.dispatchEvent(aa);this.hideScrollbars()}else{if(this._isScrolling){var S=this._getLastMove();if(S.duration<=B.flicking.triggerThreshold&&S.length){var R=this._getFlickingDuration(S.speed),X=this._getFlickingLength(S.speed,R),Y=S.matrix,U=X/S.length;Y.e*=U;Y.f*=U;this.startFlick(Y,R)}}}if(!(this.isAnimating())){if(this.snapToGrid){this._snapBackToGrid()}else{var V=this._snapBack();if(!V){this.hideScrollbars()}}}delete this._startEventTarget;this._isScrolling=false;this.__proto__.currentScroller=null},onTransitionEnd:function e(Q){["e","f"].forEach(function(R){if(Q.target===this.scrollers[R]){this._flicking[R]=false}},this);if(!this.isAnimating()){this.hideScrollbars()}},isAnimating:function q(){var Q=this._animationTimeouts;var R=Q.e.length>0||Q.f.length>0;var S=this._flicking.e||this._flicking.f;return R||S},scrollBy:function C(Q,S){this._stopAnimations();var R=new WebKitCSSMatrix();R.e=-Q;R.f=-S;return this._scrollBy(R)},scrollTo:function O(R,U){this._stopAnimations();var S=this._scrollMin;var Q=new WebKitCSSMatrix();Q.e=Math.min(0,Math.max(S.e,-R));Q.f=Math.min(0,Math.max(S.f,-U));var T=this._currentOffset;Q.e-=T.e;Q.f-=T.f;return this._scrollBy(Q)},center:function a(){var Q=-Math.round(this._scrollMin.e/2);var R=-Math.round(this._scrollMin.f/2);return this.scrollTo(Q,R)},_scrollBy:function f(aa){var Y=this._scrolls;if(!Y.e){aa.e=0}if(!Y.f){aa.f=0}var ab=this._scrollMin,X=this._currentOffset,W=X.multiply(aa),Q={e:false,f:false},R={e:0,f:0};if(this.elastic){var Z=B.elasticity.factorDrag,V={e:X.e<ab.e||X.e>0,f:X.f<ab.f||X.f>0};if(V.e){W.e-=aa.e*(1-Z)}if(V.f){W.f-=aa.f*(1-Z)}if(W.e<ab.e||W.e>0){Q.e=true;R.e=W.e>=0?W.e:ab.e-W.e}if(W.f<ab.f||W.f>0){Q.f=true;R.f=W.f>=0?W.f:ab.f-W.f}var ac={e:(!V.e||!Q.e)&&(Q.e||Q.e),f:(!V.f||!Q.f)&&(Q.f||Q.f)};if(ac.e){if(X.e>0){W.e/=Z}else{if(W.e>0){W.e*=Z}else{if(X.e<ab.e){W.e+=(ab.e-X.e)/Z}else{if(W.e<ab.e){W.e-=(ab.e-W.e)*Z}}}}}if(ac.f){if(X.f>0){W.f/=Z}else{if(W.f>0){W.f*=Z}else{if(X.f<ab.f){W.f+=(ab.f-X.f)/Z}else{if(W.f<ab.f){W.f-=(ab.f-W.f)*Z}}}}}}else{if(W.e<ab.e){W.e=ab.e}else{if(W.e>0){W.e=0}}if(W.f<ab.f){W.f=ab.f}else{if(W.f>0){W.f=0}}}this._currentOffset=W;var U=W.translate(0,0,0),S=W.translate(0,0,0);U.f=S.e=0;A(this.scrollers.e,U);A(this.scrollers.f,S);var T=this._scrollbars.offsetRatios;U.e*=T.e;S.f*=T.f;if(Q.e){this._squeezeScrollbar("e",R.e,W.e<0)}else{A(this._scrollbars.handles.e,U)}if(Q.f){this._squeezeScrollbar("f",R.f,W.f<0)}else{A(this._scrollbars.handles.f,S)}},_trackEvent:function P(R){var Q=this._trackedEvents;Q[0]=Q[1];Q[1]={matrix:s(R),timeStamp:R.timeStamp}},showScrollbars:function M(){if(this.snapToGrid){return}var Q=this._scrollbars.container.style;Q.webkitTransitionDuration="";Q.opacity="1"},hideScrollbars:function H(){var Q=this._scrollbars.container.style;Q.webkitTransitionDuration="250ms";Q.opacity="1"},_squeezeScrollbar:function u(R,Q,T,S,Y){var U=this._scrollbars;var V=U.handles[R].style;var X=U.sizes[R];var Z=Math.max(X-Q,1);var W=new WebKitCSSMatrix();W[R]=T?U.maxOffsets[R]:0;W[R=="f"?"d":"a"]=Z/X;V.webkitTransformOrigin=T?"100% 100%":"0 0";V.webkitTransitionProperty="-webkit-transform";V.webkitTransform=W;if(S){V.webkitTransitionDuration=S+"ms";V.webkitTransitionTimingFunction=Y;this._animationTimeouts[R].push(setTimeout(function(){V.webkitTransitionDuration=""},S))}else{V.webkitTransitionDuration=""}},_determineOffset:function d(R){var Q=k(this.scrollers.e),T=k(this.scrollers.f),S=Q.multiply(T);if(R){x(S)}this._currentOffset=S},_stopAnimations:function m(){var Q=false;var R=this._scrollbars;["e","f"].forEach(function(U){this.scrollers[U].style.webkitTransitionDuration="";var V=R.handles[U];V.style.webkitTransitionDuration="";g(V);R.tracks[U].style.webkitBoxPack="";var T=this._animationTimeouts[U];Q=Q||T.length;T.forEach(function(W){clearTimeout(W)});T.length=0},this);this._determineOffset(true);this._scrollBy(new WebKitCSSMatrix());this._bounces.e=this._bounces.f=null;var S=this._flicking;S.e=S.f=false;return Q},_getLastMove:function r(){var Q=this._trackedEvents,U=Q[0],T=Q[1];if(!U){return{duration:0,matrix:new WebKitCSSMatrix(),length:0,speed:0}}var W=T.timeStamp-U.timeStamp,R=T.matrix.multiply(U.matrix.inverse());var S=this._scrolls;if(!S.e){R.e=0}if(!S.f){R.f=0}var V=Math.sqrt(R.e*R.e+R.f*R.f);return{duration:W,matrix:R,length:V,speed:V/W}},_getFlickingDuration:function c(Q){var R=Math.log(B.flicking.minSpeed/Q)/Math.log(B.flicking.friction);return R>0?Math.round(R):0},_getFlickingLength:function b(R,Q){var S=(1-Math.pow(B.flicking.friction,Q+1))/(1-B.flicking.friction);return R*S},startFlick:function y(Y,R){if(!(R||this.snapToGrid)){this._snapBack();return}R=R||B.snapBack.defaultTime;var aa=1/R,Z=B.flicking.timingFunc,ab=new CubicBezier(Z[0],Z[1],Z[2],Z[3]),S=this._scrollMin,X=this._currentOffset,U=this._scrollbars;x(Y);var W=this._currentOffset.multiply(Y);var V=this._scrolls;if(this.snapToGrid){var T=this.maxSegments;var Q=this.currentSegment}var ac={e:true,f:true};["e","f"].forEach(function(af){if(!V[af]){ac[af]=false;return}var ai=Y[af],aC=W[af],aD=1;var au=S[af];var an=0;if(this.snapToGrid){var ag=this.containerSize[af];var aB=ai>0?-1:1;var am=T[af];var ay=Q[af];var aj=ay+aB;if(aj<0){aj=0}else{if(am<aj){aj=am}}this.currentSegment[af]=aj;if(aj==ay||!ai){return this._snapBack(af,null,-ay*ag)}an=au=-aj*ag}var aD,aw,al;if(this.snapToGrid){aw=(ai<0?au:an)-X[af];al=0;aD=aw/ai}else{if(aC<au){aD=1-Math.max(Math.min((aC-au)/Y[af],1),0)}else{if(aC>an){aD=1-Math.max(Math.min((aC-an)/Y[af],1),0)}}aw=aD*ai;al=ai-aw}if(!(aw||al)){ac[af]=this._snapBack(af);return}var av=ab.getTforY(aD,aa);if(av>1){av=1}else{if(av<0){av=0}}var ad=ab.getPointForT(av).x,ak=ab.divideAtT(av);var ap=new WebKitCSSMatrix();ap[af]=X[af];var az=ad*R;if(aw&&ad){this._flicking[af]=true;ap[af]+=aw;A(this.scrollers[af],ap,az+"ms",ak[0]);var at=ap.translate(0,0,0);at[af]*=U.offsetRatios[af];A(U.handles[af],at,az+"ms",ak[0])}if(this.elastic&&al){var ax=ap.translate(0,0,0),ar=ak[1];ar._p2={x:1-B.snapBack.timingFunc[0],y:1-B.snapBack.timingFunc[1]};var aq=Math.min(B.elasticity.factorFlick,B.elasticity.max/Math.abs(al));ax[af]+=al*aq;var ah=(1-ad)*R*aq;this._bounces[af]={timingFunc:ar,duration:ah+"ms",matrix:ax,bounceLength:Math.abs(al*aq)};var ao=this;var ae=this._animationTimeouts[af];var aA=this._sc;ae.push(setTimeout(function(){ao._playQueuedBounce(af)},az));ae.push(setTimeout(function(){var aE=B.snapBack.alwaysDefaultTime?null:ah;ao._snapBack(af,aE);ae.length=0},az+ah))}},this);if(!(ac.e||ac.f)){this.hideScrollbars()}},_playQueuedBounce:function o(T){var V=this._bounces[T];if(V){var R=this.scrollers[T],U=this,S=V.matrix,W=V.duration,Q=V.timingFunc;A(R,S,W,Q);this._squeezeScrollbar(T,V.bounceLength,S[T]<0,W,Q);this._bounces[T]=null;return true}return false},_snapBack:function v(Q,S,W){S=S!=null?S:B.snapBack.defaultTime;if(Q==null){var T=this._snapBack("e",S);var R=this._snapBack("f",S);var Y=T||R;if(!Y){this.hideScrollbars()}else{var V=this;this._animationTimeouts.f.push(setTimeout(function(){V.hideScrollbars()},S))}return Y}var V=this.scrollers[Q],U=k(V),X=B.snapBack.timingFunc,Z=new CubicBezier(X[0],X[1],X[2],X[3]);if(W!=null||U[Q]<this._scrollMin[Q]||U[Q]>0){U[Q]=W!=null?W:Math.max(Math.min(U[Q],0),this._scrollMin[Q]);this._squeezeScrollbar(Q,0,U[Q]<0,S,Z);A(V,U,S+"ms",Z);return Boolean(S)}return false},_snapBackToGrid:function G(){var Q=this._currentOffset;var R=this.containerSize;["e","f"].forEach(function(V){var T=Q[V];var S=R[V];var W=-Math.floor((T+0.5*S)/S);var U=this.maxSegments[V];if(W<0){W=0}else{if(U<W){W=U}}this.currentSegment[V]=W;return this._snapBack(V,null,-W*S)},this)}};return I}());function CubicBezier(b,a,d,c){if(!(b>=0&&b<=1)){throw new RangeError("'p1x' must be a number between 0 and 1. Got "+b+"instead.")}if(!(a>=0&&a<=1)){throw new RangeError("'p1y' must be a number between 0 and 1. Got "+a+"instead.")}if(!(d>=0&&d<=1)){throw new RangeError("'p2x' must be a number between 0 and 1. Got "+d+"instead.")}if(!(c>=0&&c<=1)){throw new RangeError("'p2y' must be a number between 0 and 1. Got "+c+"instead.")}this._p1={x:b,y:a};this._p2={x:d,y:c}}CubicBezier.prototype._getCoordinateForT=function(f,k,g){var l=3*k,d=3*(g-k)-l,e=1-l-d;return((e*f+d)*f+l)*f};CubicBezier.prototype._getCoordinateDerivateForT=function(f,k,g){var l=3*k,d=3*(g-k)-l,e=1-l-d;return(3*e*f+2*d)*f+l};CubicBezier.prototype._getTForCoordinate=function(k,n,l,m){if(!isFinite(m)||m<=0){throw new RangeError("'epsilon' must be a number greater than 0.")}for(var e=k,d=0,b,a;d<8;d++){b=this._getCoordinateForT(e,n,l)-k;if(Math.abs(b)<m){return e}a=this._getCoordinateDerivateForT(e,n,l);if(Math.abs(a)<0.000001){break}e=e-b/a}e=k;var g=0,f=1,b;if(e<g){return g}if(e>f){return f}while(g<f){b=this._getCoordinateForT(e,n,l);if(Math.abs(b-k)<m){return e}if(k>b){g=e}else{f=e}e=(f-g)*0.5+g}return e};CubicBezier.prototype.getPointForT=function(a){if(a==0||a==1){return{x:a,y:a}}else{if(!(a>0)||!(a<1)){throw new RangeError("'t' must be a number between 0 and 1Got "+a+" instead.")}}return{x:this._getCoordinateForT(a,this._p1.x,this._p2.x),y:this._getCoordinateForT(a,this._p1.y,this._p2.y)}};CubicBezier.prototype.getTforX=function(a,b){return this._getTForCoordinate(a,this._p1.x,this._p2.x,b)};CubicBezier.prototype.getTforY=function(b,a){return this._getTForCoordinate(b,this._p1.y,this._p2.y,a)};CubicBezier.prototype._getAuxPoints=function(b){if(!(b>0)||!(b<1)){throw new RangeError("'t' must be greater than 0 and lower than 1")}var e={x:b*this._p1.x,y:b*this._p1.y},d={x:this._p1.x+b*(this._p2.x-this._p1.x),y:this._p1.y+b*(this._p2.y-this._p1.y)},c={x:this._p2.x+b*(1-this._p2.x),y:this._p2.y+b*(1-this._p2.y)};var g={x:e.x+b*(d.x-e.x),y:e.y+b*(d.y-e.y)},f={x:d.x+b*(c.x-d.x),y:d.y+b*(c.y-d.y)};var a={x:g.x+b*(f.x-g.x),y:g.y+b*(f.y-g.y)};return{i0:e,i1:d,i2:c,j0:g,j1:f,k:a}};CubicBezier.prototype.divideAtT=function(o){if(o<0||o>1){throw new RangeError("'t' must be a number between 0 and 1. Got "+o+" instead.")}if(o===0||o===1){var q=[];q[o]=CubicBezier.linear();q[1-o]=this.clone();return q}var b={},n={},m=this._getAuxPoints(o);var f=m.i0,e=m.i1,c=m.i2,a=m.j0,p=m.j1,d=m.k;var l=d.x,g=d.y;b.p1={x:f.x/l,y:f.y/g};b.p2={x:a.x/l,y:a.y/g};n.p1={x:(p.x-l)/(1-l),y:(p.y-g)/(1-g)};n.p2={x:(c.x-l)/(1-l),y:(c.y-g)/(1-g)};return[new CubicBezier(b.p1.x,b.p1.y,b.p2.x,b.p2.y),new CubicBezier(n.p1.x,n.p1.y,n.p2.x,n.p2.y)]};CubicBezier.prototype.divideAtX=function(a,c){if(a<0||a>1){throw new RangeError("'x' must be a number between 0 and 1. Got "+a+" instead.")}var b=this.getTforX(a,c);return this.divideAtT(b)};CubicBezier.prototype.divideAtY=function(c,b){if(c<0||c>1){throw new RangeError("'y' must be a number between 0 and 1. Got "+c+" instead.")}var a=this.getTforY(c,b);return this.divideAtT(a)};CubicBezier.prototype.clone=function(){return new CubicBezier(this._p1.x,this._p1.y,this._p2.x,this._p2.y)};CubicBezier.prototype.toString=function(){return"cubic-bezier("+[this._p1.x,this._p1.y,this._p2.x,this._p2.y].join(", ")+")"};CubicBezier.linear=function(){return new CubicBezier};CubicBezier.ease=function(){return new CubicBezier(0.25,0.1,0.25,1)};CubicBezier.linear=function(){return new CubicBezier(0,0,1,1)};CubicBezier.easeIn=function(){return new CubicBezier(0.42,0,1,1)};CubicBezier.easeOut=function(){return new CubicBezier(0,0,0.58,1)};CubicBezier.easeInOut=function(){return new CubicBezier(0.42,0,0.58,1)};Zoom=Class.create("Zoom");Zoom.prototype={_isShow:false,URL_BASE_IMAGES:"http://cdn.yoox.biz",MAIN_IMAGE:"mainImage",touchScrollLoaded:false,isIpad:(navigator.userAgent.indexOf("iPad")==-1)?false:true,touchScroller:"",scrollNode:"",initialize:function(a,b){this.wrapper=$(document.body);this.imageSuffix="_14_";this.alternateImgs=a.alternateImgs;this.closeLabel=a.texts.zoomClose;this.otherViews=a.texts.otherViews;this.initZoom();this.objMouseFollow=this.mouseFollow.bindAsEventListener(this);this.props=b;this.scroll=null;this.imageObserve();this.thumbObserve(ItemManager.imageObj.code.substring(8))},imageObserve:function(){Event.observe("mainImageLink","click",this.openDiv.bindAsEventListener(this));Event.observe("zoomDesc","click",this.openDiv.bindAsEventListener(this));Event.observe(this.bigElm,"click",this.close.bind(this))},changeZoomImage:function(a,c){var b=-1;$$("#zoomThumbsContainer .thumb").each(function(e,f){e.className="thumb";if(e==c){b=f}}.bind(this));if(b<0){return}c.className="thumb sel";var d=this.imageSources(ItemManager.imageObj.code,"_14_",ItemManager.imageObj.sides[b].suffix);this.bigElmImg.setAttribute("src",d);this.loadImage(ItemManager.imageObj.code,ItemManager.imageObj.sides[b].suffix.substring(3))},getScrollXY:function(){var b=0,a=0;if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){a=document.body.scrollTop;b=document.body.scrollLeft}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){a=document.documentElement.scrollTop;b=document.documentElement.scrollLeft}}return{scrOfX:b,scrOfY:a}},initZoom:function(){if(!this.bigElm){this.wrapZoomElements=new Element("div",{id:"wrapZoomElements"});this.wrapZoomElements.setStyle({display:"none"});this.wrapper.appendChild(this.wrapZoomElements);this.createLogo();this.bigElm=new Element("div",{id:"bigPhoto"});this.wrapZoomElements.appendChild(this.bigElm);this.WrapTextScroll=new Element("div",{id:"WrapTextScroll"});this.bigElm.appendChild(this.WrapTextScroll);this.bigElmImg=new Element("img",{id:"iPhoto",width:"1571",heigth:"2000"});this.WrapTextScroll.appendChild(this.bigElmImg);this.MainImg=$(this.MAIN_IMAGE);if($("innerThumbs")){this.zoomThumbsContainer=new Element("div",{id:"zoomThumbsContainer"});this.wrapZoomElements.appendChild(this.zoomThumbsContainer)}var a=this.createCloseButton();this.bigElm.appendChild(a)}},createLogo:function(){this.logoWrap=new Element("div",{id:"logoContainerZoom","class":"logoTop"});this.logo=new Element("h1");this.logoWrap.appendChild(this.logo);this.wrapZoomElements.appendChild(this.logoWrap)},createCloseButton:function(){var a=new Element("a",{id:"zoomCloseBtn"});a.update(this.closeLabel);a.href="javascript:void(0)";return a},_clientSize:function(){var b=0,a=0;if(typeof(window.innerWidth)=="number"){b=window.innerWidth;a=window.innerHeight}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){b=document.documentElement.clientWidth;a=document.documentElement.clientHeight}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){b=document.body.clientWidth;a=document.body.clientHeight}}}return{width:b,height:a}},initRelated:function(a){var b={idScrollRelated:"related",numbRelated:a};this.scroll=new ScrollRelated(b,this.visibleElements)},thumbObserve:function(b){var a=$("innerThumbs").id;this.thumbs=$$("#innerThumbs .thumb");this.thumbs.each(function(c,d){Event.observe(c,"click",this.alternate.bindAsEventListener(this,c,this.thumbs,a))}.bind(this));this._updateZoomAlternateImgs(b);this._zoomThumbsObserve()},_updateZoomAlternateImgs:function(a){this.zoomThumbsContainer.childElements().each(function(f){Event.stopObserving(f,"click");$(f).remove()});if(this.wrapper.hasClassName("redValentino")){this.otherImagesText=new Element("span",{id:"otherImages"});this.otherImagesText.update(this.otherViews);this.zoomThumbsContainer.appendChild(this.otherImagesText)}for(var b=0;b<this.alternateImgs[a].length;b++){var c=this.alternateImgs[a][b];var e=new Element("div");e.addClassName("thumbElement");var d=new Element("img");e.appendChild(d);d.addClassName("thumb");if(c.indexOf("9_F")>=0||c.indexOf("9_f")>=0){d.addClassName("sel")}d.src=XYooxJF.productImage(ItemManager.imageObj.code.substring(0,8)+a,{dimension:c});this.zoomThumbsContainer.appendChild(e)}},_zoomThumbsObserve:function(){if($("zoomThumbsContainer")){var a=$("zoomThumbsContainer");this.thumbZoom=$$("#zoomThumbsContainer .thumb");this.thumbZoom.each(function(b){if(this.thumbZoom.length>4){b.up().addClassName("reducedThumb")}Event.observe(b,"click",this.alternate.bindAsEventListener(this,b,this.thumbZoom,a))}.bind(this))}},openDiv:function(){XYooxJF.Analisys.trackEvent("Item","Zoom");window.onresize=this.setCanvasDimension.bindAsEventListener(this);if(this._isShow){return}$$("html")[0].setStyle({overflow:"hidden"});$("container").setStyle({display:"none"});var b=ItemManager.imageObj.code;var a=ItemManager.imageObj.sideIndex;a=ItemManager.imageObj.sides[a].suffix.substring(3);this.loadImage(b,a);window.scrollTo(0,0);this.setCanvasDimension();this.fadeCompleted2()},setCanvasDimension:function(){w=document.viewport.getDimensions().width;h=document.viewport.getDimensions().height;$("bigPhoto").setStyle({width:w+"px",height:h+"px"});$("WrapTextScroll").setStyle({width:w+"px",height:h+"px"})},close:function(){if(this._isShow){this._isShow=false;this.wrapZoomElements.hide();$("container").setStyle({display:"block"});if($$("html")[0].style.overflow!="auto"){$$("html")[0].setStyle({overflow:"auto"})}}},imageSources:function(c,d,b,a){return this.URL_BASE_IMAGES+"/"+c.substring(0,2)+"/"+c+d+b.substring(b.length-1,b.length)+"."+a},loadImage:function(d,b){var c;c=this.imageSources(d,this.imageSuffix,b,"jpg");$("WrapTextScroll").addClassName("loading");var a=document.createElement("img");a.onload=(function(){this.bigElmImg.setAttribute("src",a.src);$("WrapTextScroll").removeClassName("loading");if(((this.isIpad)||(navigator.platform=="iPhone"))&&(!this.touchScrollLoaded)){this.touchScrollLoaded=true;document.getElementById("WrapTextScroll").setStyle({display:"-webkit-box"});this.scrollNode=document.querySelector("#WrapTextScroll"),options={elastic:true};this.touchScroller=new TouchScroll(this.scrollNode,options);window.onorientationchange=function(f){this.close();$("container").setStyle({display:"block"})}.bind(this)}else{Event.observe(this.bigElmImg,"mousemove",this.mouseFollow.bind(this))}}.bind(this));a.src=c;var c=this.imageSources(d,"_12_",b,"jpg");this.MainImg.setAttribute("src",c)},fadeCompleted2:function(){this._isShow=true;this.wrapZoomElements.setStyle({display:"block"})},mouseFollow:function(a){this.zoomRatioX=(this.bigElmImg.getWidth-this.bigElm.getWidth())/this.bigElm.getWidth();this.zoomRatioY=(this.bigElmImg.height-this.bigElm.getHeight())/(this.bigElm.getHeight());if(/msie|MSIE 6/.test(navigator.userAgent)){this.mainImageContainerLEFT=this.bigElm.cumulativeOffset().left+3;this.mainImageContainerTOP=this.bigElm.cumulativeOffset().top+3}else{this.mainImageContainerLEFT=this.bigElm.cumulativeOffset().left;this.mainImageContainerTOP=this.bigElm.cumulativeOffset().top}bkgPosXnew=-this.zoomRatioX*(a.pointerX()-this.mainImageContainerLEFT);bkgPosYnew=-this.zoomRatioY*(a.pointerY()-this.mainImageContainerTOP);this.bigElmImg.setStyle({marginLeft:0+"px",marginTop:+bkgPosYnew+"px"})},alternate:function(a,d,e,b){var c=-1;this.elements=e;this.elements.each(function(k,l){k.className="thumb";if(k==d){c=l}}.bind(this));if(c<0){return}d.className="thumb sel";var g=ItemManager.imageObj.sides[c].suffix.substring(3);if(b=="innerThumbs"){ItemManager.imageObj.sideIndex=c;this.loadImage(ItemManager.imageObj.code,ItemManager.imageObj.sides[ItemManager.imageObj.sideIndex].suffix);$$("#zoomThumbsContainer div img").invoke("removeClassName","sel");$$("#zoomThumbsContainer div img").each(function(k){if(k.src==d.src){k.className="thumb sel"}})}else{$$("#innerThumbs div img").each(function(k){k.removeClassName("sel");if(k.src==d.src){k.className="thumb sel"}});var f=this.imageSources(ItemManager.imageObj.code,"_14_",ItemManager.imageObj.sides[c].suffix);this.bigElmImg.setAttribute("src",f);this.loadImage(ItemManager.imageObj.code,ItemManager.imageObj.sides[c].suffix.substring(3))}}};Share=Class.create("Share");Share.prototype=function(){var m="share_start_button";var f="share_tips_id";var b=200;var g=[];var c=[];var p="";var a="";var d=13;var k=55;var o="";var n=0;function l(s){if(arguments.length<=1){return s}var q=arguments.length-2;for(var r=0;r<=q;r++){s=s.replace(new RegExp("\\{"+r+"\\}","gi"),arguments[r+1])}return s}var e=function(u){this.cod10=u.COD_10;this.siteDomain=u.SITE_DOMAIN;this.itemTitle=u.ITEM_TITLE;this.itemImage=u.ITE_IMAGE;var t=m+u.CONTAINER;var r=null;var x="share_"+this.cod10;function q(y){if(!y){y=window.event}var z={type:"alert",className:"infoBox",id:f,width:b,enableClose:true,left:$$(".share")[0].cumulativeOffset()[0]-60,top:$$(".share")[0].cumulativeOffset()[1]-200};new LITBox(r,z);XYooxJF.Analisys.trackEvent("Item","OpenShare")}function s(y){var z=document.createElement("a");z.href="javascript:Prototype.emptyFunction()";z.className=y.className;z.onclick=y.onclick;z.innerHTML=y.label;return z}function v(){var y=$(u.CONTAINER);if(!y){return}if(u.PRE_ACTION!=null){u.PRE_ACTION()}r=['<div class="bookmarks"><span class="list">'];var B='<a href="javascript:Prototype.emptyFunction();" id="{0}" class="social" onclick="shareObj.addTo(\'{1}\',\'{2}\');"></a>';var D="";for(var A=0;A<c.length;A++){var z=ShareManager.configuration().get(c[A].id);r.push(l(B,z.className,x,c[A].id,c[A].label,D))}r.push("</span></div>");r=r.join("");var C=document.createElement("div");C.className="snWrapper";C.innerHTML=r;y.appendChild(C)}this.getId=function(){return x};this.addTo=function(A){var z=ShareManager.configuration().get(A);if(z.action){z.action(this)}else{Element.setStyle(f,{width:(b+170)+"px"});if(_isEmbedToBlog){Element.setStyle(idShareEmbedCont,{display:"block"});var y=$(idShareEmbedText);y.value=embedText;setTimeout(function(){y.focus();y.select()},10);if(!y.createTextRange){Element.setStyle(idShareEmbedText,{height:(d+20)+"px"});Element.setStyle(idShareEmbedCopyButton,{display:"none"})}}}XYooxJF.Analisys.trackEvent("Item","ShareTo",A)};this.copy=function(){var y=$(idShareEmbedText);y.focus();y.select();var z=y.createTextRange();z.select();z.execCommand("Copy")};v();return this};return{initialize:function(r){try{p=r.LABEL;a=r.LABEL_ALT==null?r.LABEL:r.LABEL_ALT;o=r.PAGE_NAME;c=r.ADD_TO;if(c.length>3){d+=(c.length-3)*20}k+=c.length*20;if(r.MARGIN_X!=null){n=r.MARGIN_X}for(var t=0;t<r.ITEMS_CONF.length;t++){var s=r.ITEMS_CONF[t];s.SITE_DOMAIN=r.ORIGIN_DOMAIN;s.POSITION=r.POSITION;var q=new e(s);g[q.getId()]=q}}catch(u){XYooxJF.errorManager(u)}},addTo:function(r,q){g[r].addTo(q)},copy:function(q){g[q].copy()}}}();var ShareManager=function(){var a=function(){var e=[];var g=null;function f(t,p){var s=new XYooxJF.Cookies("USERINFO");s.load();var q=(typeof(s.SESSO)!=="undefined")?"&gender="+s.SESSO:"";var l=t.siteDomain+"item.asp?cod10="+t.cod10+q+"&tskay="+Links.tskay()+(p.tp==null?"":"&tp="+p.tp);var n=t.itemTitle;var m=p.getUrl(l,n);if(g!=null){try{g.close()}catch(r){XYooxJF.errorManager(r)}}g=window.open(m,"sharer","resizable=1,toolbar=0,status=0,width="+p.width+",height="+p.height+",scrollbars="+p.scrollbars);g.focus()}function k(m){var l={};l.getUrl=m.getUrl;l.width=m.width==null?640:m.width;l.height=m.height==null?480:m.height;l.scrollbars=m.scrollbars==null?1:m.scrollbars;l.tp=m.tp;return function(n){f(n,l)}}return{add:function(l,m){if(m.win){m.action=k(m.win)}e[""+l]=m},get:function(l){return e[""+l]}}};var b=new a();var c=[];function d(e){c[c.length]=e}return{addItem:function(e){d(e)},configuration:function(){return b},shareObj:null,process:function(){var e=XYooxJF.loadVariables("jsinit_share");if(!e){return}if(e.ITEM){d(e.ITEM)}e.ITEMS_CONF=c;shareObj=new Share(e)}}}();Event.observe(window,"load",ShareManager.process);ShareManager.configuration().add("myspace",{className:"myspace",win:{getUrl:function(b,c){var a=3;return"http://www.myspace.com/index.cfm?fuseaction=postto&t="+encodeURIComponent(c)+"&u="+encodeURIComponent(b.replace(/\?/,"/").replace(/&|=/gi,"/"))+"&l="+a},width:800,tp:"16904"}});ShareManager.configuration().add("facebook",{className:"facebook",win:{getUrl:function(a,b){return"http://www.facebook.com/sharer.php?u="+encodeURIComponent(a)+"&t="+encodeURIComponent(b)},scrollbars:0,tp:"16905"}});ShareManager.configuration().add("twitter",{className:"twitter",win:{getUrl:function(a,b){return"http://twitter.com/home?status="+encodeURIComponent(a+"&t\n"+b)},width:800,tp:"16906"}});ShareManager.configuration().add("digg",{className:"digg",win:{getUrl:function(a,b){return"http://digg.com/submit?url="+encodeURIComponent(a)+"&title="+encodeURIComponent(b)+"&topic=TOPIC"},width:950}});ShareManager.configuration().add("live",{className:"live",win:{getUrl:function(a,b){return"https://skydrive.live.com/sharefavorite.aspx%2f.SharedFavorites??&mkt=en-us&url="+encodeURIComponent(a)+"&title="+encodeURIComponent(b)+"&top=1"}}});ShareManager.configuration().add("friendfeed",{className:"friendfeed",win:{getUrl:function(a,b){return"http://friendfeed.com/?url="+encodeURIComponent(a)+"&title="+encodeURIComponent(b)},width:950,tp:"16907"}});ShareManager.configuration().add("delicious",{className:"delicious",win:{getUrl:function(a,b){return"http://delicious.com/save?url="+encodeURIComponent(a)+"&title="+encodeURIComponent(b)+"&notes=&tags=&v=4&noui=&share=yes&jump=close"},width:850,tp:"16908"}});ShareManager.configuration().add("google",{className:"google",win:{getUrl:function(a,b){return"http://www.google.com/bookmarks/mark?op=add&nui=1&service=bookmarks&bkmk="+encodeURIComponent(a)+"&title="+encodeURIComponent(b)},width:700}});var zoomObj;Item=Class.create("Item");Item.prototype={PREV_PRODUCT_ID:"prev",NEXT_PRODUCT_ID:"next",OPEN360_BUTTON_ID:"thumbElement360Link",CART_BOX_ELEM:"cartBox",DREAMBOXLABELUSER_ELEM:"labelUser",DREAMBOXLABELPWD_ELEM:"labelPassword",DREAMBOXUSER_ELEM:"user",DREAMBOXPWD_ELEM:"password",DREAMBOXLOGINDATA_ERROR:"errLoginData",DREAMBOXUSERNOTFOUND_ERROR:"errUserNotFound",DREAMBOXINSERTEDITEM_ELEM:"insertedItemDreambox",DREAMBOXNUMITEMS_ERROR:"errorNumItemsDreambox",DREAMBOXNOTLOGGED_ELEM:"mainNotLoggedDreambox",MAIN_IMG:"mainImageContainer",ADDTOCART_LAYER:"productAddedToSb",initialize:function(c,e,b,d,a){this.currentItem=c;if(c.idcode==""){this.currentItem.idcode=null}this.cod10=c.code;this.cod8=c.code.substr(0,8);this.defaultCC=c.code.substr(8,2);this.stringJSON=c.json;this.tskay=d;this.cookieDomain=b;this.texts=e||{};this.cookieMyoox=new XYooxJF.Cookies("ACCOUNT",null,null,this.cookieDomain);this.itemsNavigation={PREV_PRODUCT_ID:"prev",NEXT_PRODUCT_ID:"next"};if(c.availability=="true"){this.addcartWidth=$("addToCart").getWidth();this.addcartLeft=Position.cumulativeOffset($("addToCart"))[0];this.addcartTop=Position.cumulativeOffset($("addToCart"))[1]-120}Event.observe("showDetails","click",this.showDetails.curry("descriptionComplete"),false);Event.observe("hideDetails","click",this.hideDetails.curry("descriptionComplete"),false);Event.observe("showSizeDetails","click",this.showDetails.curry("sizeConversionContainer"),false);Event.observe("hideSizeDetails","click",this.hideDetails.curry("sizeConversionContainer"),false);Event.observe("sizeChoose","click",this.showSizes.bind(this));Event.observe("backImage","click",this.showSizes.bind(this));Event.observe("viewAllClose","click",this.hideDetails.curry("viewAllContainer"),false);this.process()},showSizes:function(b){var a=b;if((a.target.id=="sizeChoose")||(a.target.id=="backImage")){$("sizeChoose").stopObserving("click");$("sizeChooseWrap").style.display="block";this.createOverlay()}},createOverlay:function(){var a=document.createElement("div");a.id="LB_overlay";Element.setStyle(a,{display:"block"});Element.setStyle(a,{height:XYooxJF.getWinHeight()+"px"});document.body.insertBefore(a,document.body.firstChild);Event.observe(a,"click",this.sizeChoose.bind(this))},process:function(){var a=this.stringJSON.parseHtmlJSON();this.allAvailColors=a.colors;if(!this.allAvailColors){return}this.allAvailSizes=[];this.allAvailColors.each(function(e){if(e.sizes){e.sizes.each(function(g,f){if(!this.allAvailSizes.pluck("id").include(g.id)){this.allAvailSizes[this.allAvailSizes.length]=g}}.bind(this))}}.bind(this));this.defaultColor=this.allAvailColors.detect(function(e){return e.color==this.defaultCC}.bind(this));this.defaultColorId=this.defaultColor.color;if(this.allAvailColors.length==1){this.selectedColor=this.defaultColor;this.selectedColorId=this.defaultColorId}else{if(this.currentItem.idcode){var d=this.currentItem.idcode.split("_")[3];this.selectedColor=this.allAvailColors.detect(function(e){return(e.color==d)}.bind(this))}}if(this.allAvailSizes.length==1){this.selectedSizeId=this.allAvailSizes[0].id;$("sizeChoose").stopObserving("click");$("backImage").stopObserving("click");$("backImage").setStyle({cursor:"default"});$("sizeChoose").setStyle({cursor:"default",readonly:"readonly"});var b=$("child_"+this.selectedSizeId);var c=b.innerHTML;$("sizeChoose").value=c;$("sizeChooseWrap").style.display="none"}else{if(this.currentItem.idcode){this.selectedSizeId=this.currentItem.idcode.split("_")[2]}}if(this.allAvailSizes.length==1){$("sizeChoose").setAttribute("disabled","disabled")}else{$("sizeChoose").removeAttribute("disabled")}this._observe();if($("child_"+this.defaultCC)){this.allAvailColors=this.allAvailColors.collect(function(e){var f=e.sizes.collect(function(g){return Object.extend(g,{descr:$("child_"+g.id).title})});return Object.extend(e,{sizes:f,descr:$("child_"+e.color).title})});this.allAvailSizes=this.allAvailSizes.sortBy(function(e){return e.descr});this._colorUpdateElems();this._sizeUpdateElems();this._onSelect()}this._updateCartBox();setTimeout(function(){if(this.allAvailColors.length>1){var e=this.allAvailColors.collect(function(f){return XYooxJF.productImage(this.cod10.substr(0,8)+f.color,{dimension:"11_F"})}.bind(this));new XYooxJF.ImagePreloader(e,function(){})}}.bind(this),1000)},showDetails:function(a){if($(a)){Effect.Appear(a,{duration:0.4,from:0,to:1})}},hideDetails:function(a){if(a){Effect.Fade(a,{duration:0.4,from:1,to:0})}},colorOver:function(e){if(this.handler){clearTimeout(this.handler)}var b=this.currentColorId||this.selectedColorId;var d=this.selectedColorId||this.defaultColorId;var c=this.selectedColor;this.sideIndexFrom=ItemManager.imageObj.sideIndex||0;var a=this.sideIndexFrom||0;if(typeof(e)=="string"){this.currentColorId=e;this.currentColor=this.allAvailColors.detect(function(f){return(f.color==this.currentColorId)}.bind(this));d=this.currentColorId;c=this.currentColor}else{this.currentColorId=null;this.currentColor=null}this._colorUpdateElems();this._sizeUpdateElems();if(b!=d){ItemManager.imageObj.code=this.cod10.substr(0,8)+d;ItemManager.imageObj.sideIndex=a}else{if(this.sideIndexFrom!=a){ItemManager.imageObj.sideIndex=a}}},colorSelect:function(){if(this.handler){clearTimeout(this.handler)}if(this.selectedColorId==this.currentColorId){return}this.selectedColorId=this.currentColorId;this.selectedColor=this.currentColor;if(this.selectedSizeId){var a=this.selectedColor.sizes.length?this.selectedColor.sizes:[this.selectedColor.sizes];if(!a.pluck("id").include(this.selectedSizeId)){this.selectedSizeId=null}}this.sideIndexFrom=0;ItemManager.imageObj.sideIndex=this.sideIndexFrom;ItemManager.imageObj.updateAlternateImgs(this.selectedColorId);this._colorUpdateElems();this._sizeUpdateElems();this._onSelect()},sizeOver:function(a){if(typeof(a)=="string"){this.currentSizeId=a}else{this.currentSizeId=null}this._sizeUpdateElems();this._colorUpdateElems()},sizeChoose:function(a){if(a.target.id=="LB_overlay"){$("LB_overlay").stopObserving("click");$("LB_overlay").remove();if($("sizeChooseWrap").style.display=="block"){$("sizeChooseWrap").style.display="none";Event.observe("sizeChoose","click",this.showSizes.bind(this));Event.observe("backImage","click",this.showSizes.bind(this))}}},sizeSelect:function(){if(this.currentSizeId){this.selectedSizeId=this.currentSizeId}if($("LB_overlay")){$("LB_overlay").remove()}if(this.selectedColor){var b=this.selectedColor.sizes}this.sideIndexFrom=0;ItemManager.imageObj.sideIndex=this.sideIndexFrom;this._colorUpdateElems();this._sizeUpdateElems();this._onSelect();var a=$("child_"+this.selectedSizeId);var c=a.innerHTML;$("sizeChoose").value=c;$("sizeChooseWrap").style.display="none";if($("sizeChoose").style.cursor="default"){Event.observe("sizeChoose","click",this.showSizes.bind(this));Event.observe("backImage","click",this.showSizes.bind(this));$("sizeChoose").style.cursor="pointer";$("backImage").style.cursor="pointer"}},addToCart:function(){if(this.selectedColorId&&this.selectedSizeId){var b=this.selectedColor.sizes.detect(function(e){return e.id==this.selectedSizeId}.bind(this)).mfId;var c=this.selectedColor.artID+"_"+this.selectedColor.colID+"_"+this.selectedSizeId+"_"+this.selectedColorId+"_-1";var a={parameters:"tskay="+this.tskay+"&wrapOff=1&id_code="+c+(Cookie.read("CART_ID")!="undefined"?"&cart_id="+Cookie.read("CART_ID"):""),onTimeoutFailure:this._addToCartFallBack.bind(this,c),onFailure:this._addToCartFallBack.bind(this,c),cache:Ajax.NOT_CACHED,onComplete:function(e){this.processCartResponse(e.responseText)}.bind(this)};try{Logger.debug("Links.CART_SERVICE_URL :"+Links.CART_SERVICE_URL);new Ajax.Request(Links.CART_SERVICE_URL,a)}catch(f){this._addToCartFallBack(c)}}else{var d={type:"alert",className:"infoBox errorBox",width:this.addcartWidth,id:"cartInfoBox",enableClose:true,left:$("cartLink").cumulativeOffset()[0]-315,top:$("cartLink").cumulativeOffset()[1]+240};new LITBox(this.texts.noSelection,d);XYooxJF.Analisys.trackEvent("Item","AddToCart","Error")}},processCartResponse:function(a){var a=a.evalJSON(false);var c={type:"alert",className:(a.returnCode==="1"?"okAdd":"errorAdd"),id:"productAddedToCart",enableClose:false,left:$("cartLink").cumulativeOffset()[0]-140,top:$("cartLink").cumulativeOffset()[1]+10,width:250+"px"};$(this.ADDTOCART_LAYER).select("img")[0].src=XYooxJF.productImage(this.cod8+this.selectedColorId,{dimension:"8_f"});$(this.ADDTOCART_LAYER).select(".size")[0].innerHTML=this.selectedColor.sizes.detect(function(d){return d.id==this.selectedSizeId}.bind(this)).label;$(this.ADDTOCART_LAYER).select(".color")[0].innerHTML=this.selectedColor.descr;$(this.ADDTOCART_LAYER).select(".msg")[0].innerHTML=a.messageText;this.addCartLitbox=new LITBox($(this.ADDTOCART_LAYER).innerHTML,c);var b=$("productAddedToCart").select('a[href*="cart.asp"]');b.each(function(d){Event.stopObserving(d,"click");Event.observe(d,"click",function(){XYooxJF.Analisys.trackEvent("Item","ProceedToCheckout")}.bindAsEventListener(this))}.bind(this));if(a.returnCode=="1"){XYooxJF.Analisys.trackEvent("Item","AddToCart","Ok")}else{XYooxJF.Analisys.trackEvent("Item","AddToCart","Error")}this._updateCartBox(a.cartArt)},addToDreambox:function(c){if(this.selectedColorId&&this.selectedSizeId){var a={onComplete:function(e){this.cookieMyoox.load();var d=(this.cookieMyoox.LOGGED=="1")?"1":"0";if(d=="0"){Event.observe($("submitLogin"),"click",this.checkDreamboxFormLogin.bindAsEventListener(this),false);Event.observe($("formLogin"),"submit",this.checkDreamboxFormLogin.bindAsEventListener(this),false);Event.observe($("forgetPass"),"click",Links.openForgetPass.bindAsEventListener(this),false)}else{this.checkInsertDreambox()}}.bindAsEventListener(this)};this.insertLayer=Links.openInsertDreambox(c,a,this.cookieDomain);if(navigator.platform=="iPad"&&document.body.clientHeight<document.body.clientWidth&&window.orientation==-90){$("wishlistInfoBox").addClassName("content_ipad_0")}}else{var b={type:"alert",className:"infoBox errorBox",width:this.addcartWidth,id:"wishlistInfoBox",enableClose:true,left:$("greenbox").cumulativeOffset()[0]-10,top:$("greenbox").cumulativeOffset()[1]-50};new LITBox(this.texts.noSelectionDB,b);XYooxJF.Analisys.trackEvent("Item","greenbox","Error");if((navigator.platform=="iPad")||(navigator.platform=="iPhone")){$("wishlistInfoBox").addClassName("content_ipad_0")}}},checkDreamboxFormLogin:function(){if(($F(this.DREAMBOXUSER_ELEM)==""||!(($F(this.DREAMBOXUSER_ELEM).include("@"))&&($F(this.DREAMBOXUSER_ELEM).include("."))))&&($F(this.DREAMBOXPWD_ELEM)=="")){Element.hide(this.DREAMBOXUSERNOTFOUND_ERROR);Element.show(this.DREAMBOXLOGINDATA_ERROR);Element.setStyle(this.DREAMBOXLABELUSER_ELEM,{color:"#F80000"});Element.setStyle(this.DREAMBOXLABELPWD_ELEM,{color:"#F80000"});this.insertLayer.setHeight()}else{if($F(this.DREAMBOXUSER_ELEM)==""){Element.hide(this.DREAMBOXUSERNOTFOUND_ERROR);Element.show(this.DREAMBOXLOGINDATA_ERROR);Element.setStyle(this.DREAMBOXLABELUSER_ELEM,{color:"#F80000"});Element.setStyle(this.DREAMBOXLABELPWD_ELEM,{color:"#6D6E71"});this.insertLayer.setHeight()}else{if($F(this.DREAMBOXPWD_ELEM)==""){Element.hide(this.DREAMBOXUSERNOTFOUND_ERROR);Element.show(this.DREAMBOXLOGINDATA_ERROR);Element.setStyle(this.DREAMBOXLABELUSER_ELEM,{color:"#6D6E71"});Element.setStyle(this.DREAMBOXLABELPWD_ELEM,{color:"#F80000"});this.insertLayer.setHeight()}else{Element.setStyle(this.DREAMBOXLABELUSER_ELEM,{color:"#6D6E71"});Element.setStyle(this.DREAMBOXLABELPWD_ELEM,{color:"#6D6E71"});this.checkInsertDreambox()}}}},checkInsertDreambox:function(){Logger.info("Item -> checkInsertDreambox()");var c=this.selectedColor.sizes.detect(function(e){return e.id==this.selectedSizeId}.bind(this)).mfId;var d=this.selectedColor.artID+"_"+this.selectedColor.colID+"_"+this.selectedSizeId+"_"+this.selectedColorId+"_-1";this.cookieMyoox.load();var b=(this.cookieMyoox.LOGGED=="1")?"0":"1";var a={parameters:"wrapOff=1&login="+b+"&user="+encodeURIComponent($F(this.DREAMBOXUSER_ELEM))+"&password="+encodeURIComponent($F(this.DREAMBOXPWD_ELEM))+"&id_code="+d,cache:Ajax.NOT_CACHED,onComplete:function(e){this.processInsertDreambox(e.responseText)}.bind(this)};try{new Ajax.Request(Links.DREAMBOX_SERVICE_URL,a)}catch(f){Logger.error("Item -> checkInsertDreambox() - "+$H(f).inspect(),f);XYooxJF.Analisys.trackEvent("Item","greenBox","Error")}},processInsertDreambox:function(a){Logger.info("Item -> processInsertDreambox()");a=a.evalJSON();Element.hide(this.DREAMBOXLOGINDATA_ERROR);Element.hide(this.DREAMBOXUSERNOTFOUND_ERROR);if(a.returnDboxCode=="-1"){Element.show(this.DREAMBOXUSERNOTFOUND_ERROR);XYooxJF.Analisys.trackEvent("Item","AddToWishlist","Error")}else{if(a.returnDboxCode=="1"||a.returnDboxCode=="0"){if(a.cookieLogin){this.cookieMyoox.load();this.cookieMyoox.LOGGED=a.cookieLogin.LOGGED||0;this.cookieMyoox.DREAMART=a.cookieLogin.DREAMART||0;this.cookieMyoox.NAME=a.cookieLogin.NAME||"";this.cookieMyoox.SURNAME=a.cookieLogin.SURNAME||"";this.cookieMyoox.IDNAX=a.cookieLogin.IDNAX||"";this.cookieMyoox.EMAIL=a.cookieLogin.EMAIL||"";this.cookieMyoox.PREMIERE=a.cookieLogin.PREMIERE||0;this.cookieMyoox.PREMIUM=a.cookieLogin.PREMIUM||0;this.cookieMyoox.PREMIUMHASH=a.cookieLogin.PREMIUMHASH||"";this.cookieMyoox.store();var b=new XYooxJF.Cookies("USERINFO",(365*24),null,this.cookieDomain);b.load();b.ID_USER=a.cookieLogin.ID_USER||"";b.key=a.cookieLogin.USERHASH||"";b.store()}if(a.numItemDreambox){this.cookieMyoox.load();this.cookieMyoox.DREAMART=a.numItemDreambox;this.cookieMyoox.store()}Element.hide(this.DREAMBOXNOTLOGGED_ELEM);if($("dreamboxContNotLogged")){Element.hide("dreamboxContNotLogged")}if($("dreamboxContLogged")){Element.show("dreamboxContLogged")}if(a.returnDboxCode=="1"){Element.show(this.DREAMBOXNUMITEMS_ERROR);XYooxJF.Analisys.trackEvent("Item","AddToWishlist","Error")}else{Element.show(this.DREAMBOXINSERTEDITEM_ELEM);XYooxJF.Analisys.trackEvent("Item","AddToWishlist","Ok")}}}},_colorUpdateElems:function(){this.allAvailColors.each(function(a){this._colorCreateElem(a)}.bind(this))},_colorCreateElem:function(c){var d=$("parent_"+c.color);if(!this["colorObserved_"+c.color]){this["colorObserved_"+c.color]=this._colorObserveElem($("child_"+c.color))}var a=[{color:c.color}];var b=this.currentSizeId||this.selectedSizeId;if(b){a=this.allAvailColors.findAll(function(e){return e.sizes.pluck("id").include(b)}.bind(this))}if(this.selectedColor&&this.selectedColor.color==c.color&&a.pluck("color").include(c.color)){d.className="colorBoxSelected"}else{if(a.pluck("color").include(c.color)){d.className="colorBox"}else{d.className="colorBoxDisabled"}}if(this.currentColor&&this.currentColor.color==c.color){Element.addClassName(d,"colorBoxHover")}},_colorObserveElem:function(a){Event.observe(a,"mouseover",this.colorOver.bind(this,a.id.replace("child_","")),false);Event.observe(a,"mouseout",function(){this.handler=setTimeout(this.colorOver.bind(this,null),300)}.bind(this),false);Event.observe(a,"click",this.colorSelect.bindAsEventListener(this),false);return true},_sizeUpdateElems:function(){this.allAvailSizes.each(function(a){this._sizeCreateElem(a)}.bind(this))},_sizeCreateElem:function(b){var d=$("child_"+b.id);if(!this["sizeObserved_"+b.id]){this["sizeObserved_"+b.id]=this._sizeObserveElem($("child_"+b.id))}var a=this.currentColor||this.selectedColor;var c=[{id:b.id}];if(a){c=a.sizes.length?a.sizes:[a.sizes]}if(this.selectedSizeId&&this.selectedSizeId==b.id&&c.pluck("id").include(b.id)){Element.resetToClassName(d,"sizeBoxSelected")}else{if(c.pluck("id").include(b.id)){Element.resetToClassName(d,"sizeBox")}else{Element.resetToClassName(d,"sizeBoxDisabled")}}if(this.currentSizeId&&this.currentSizeId==b.id){Element.addClassName(d,"sizeBoxHover")}},_sizeObserveElem:function(a){Event.observe(a,"mouseover",this.sizeOver.bind(this,a.id.replace("child_","")),false);Event.observe(a,"mouseout",this.sizeOver.bind(this),false);Event.observe(a,"click",this.sizeSelect.bind(this),false);return true},_addToCartFallBack:function(a){var b={action:(Links.DYNAMIC_DOMAIN+Links.CART_URL)};var c=[{name:"id_code",value:a},{name:"area_id",value:this.currentItem.areaid?this.currentItem.areaid:""},];XYooxJF.postData(b,c)},_updateCartBox:function(a){if(a>0){if($("cartNum")){$("cartNum").innerHTML="&#160;("+a+")"}}},_observe:function(){Event.observe("addToCart","click",this.addToCart.bind(this),false);Event.observe("addToDreamboxLogged","click",this.addToDreambox.bindAsEventListener(this),false);Event.observe("addToDreamboxNotLogged","click",this.addToDreambox.bindAsEventListener(this),false);Event.observe(this.itemsNavigation.PREV_PRODUCT_ID,"click",function(){XYooxJF.Analisys.trackEvent("Item","GoTo","PrevItem")});Event.observe(this.itemsNavigation.NEXT_PRODUCT_ID,"click",function(){XYooxJF.Analisys.trackEvent("Item","GoTo","NextItem")})},_onSelect:function(){if(this.selectedColorId||this.selectedSizeId){var c="sizeAndColorSelection";var b="";if(this.selectedSizeId){var a=this.allAvailColors.detect(function(f){var g=f.sizes.length?f.sizes:[f.sizes];return g.pluck("id").include(this.selectedSizeId)}.bind(this));var e=a.sizes.length?a.sizes:[a.sizes];var d=e.detect(function(f){return f.id==this.selectedSizeId}.bind(this))}if(this.selectedColorId&&this.selectedSizeId){Element.addClassName(c,"selected")}else{Element.removeClassName(c,"selected")}}if(!$("sizeNoConversion")){this._sizeConversions()}ItemManager.imageObj.updateAlternateImgs(this.selectedColorId)},_sizeConversions:function(){if(this.selectedSizeId){var a=this.allAvailColors.detect(function(d){var e=d.sizes.length?d.sizes:[d.sizes];return e.pluck("id").include(this.selectedSizeId)}.bind(this));var c=a.sizes.length?a.sizes:[a.sizes];var b=c.detect(function(d){return d.id==this.selectedSizeId}.bind(this));if($("szConverted")){$("szConverted").innerHTML=b.descr}if($("szReference")){$("szReference").innerHTML=b.sizeRef}if($("szLabel")){$("szLabel").innerHTML=b.label}}}};ItemImage=Class.create("ItemImage");ItemImage.prototype={MAINIMAGE_ELEM:"mainImageContainer",ALT_VIEW_ELEM:"alternateView",initialize:function(c,b,d,a){this.code=c;this.sides=b.parseHtmlJSON();this.alternate=d;this.availableZoom=a;this.sideIndex=0;setTimeout(this._mainImagePreload.bind(this),1000)},_mainImagePreload:function(){var a=this.sides.collect(function(b){return XYooxJF.productImage(this.code,{dimension:b.suffix})}.bind(this));new XYooxJF.ImagePreloader(a,function(){})},updateAlternateImgs:function(b){if(b&&$("innerThumbs")){$("innerThumbs").childElements().each(function(f){Event.stopObserving(f,"click")});$("innerThumbs").innerHTML="";var e;var a;for(var c=0;c<this.alternate[b].length;c++){var d=this.alternate[b][c];e=document.createElement("div");Element.addClassName(e,"thumbElement");a=document.createElement("img");Element.addClassName(a,"thumb");a.src=XYooxJF.productImage(this.code.substring(0,8)+b,{dimension:d});if(this.availableZoom[b][c]==undefined){Element.addClassName(a,"noZoom")}if(d.indexOf("9_F")>=0||d.indexOf("9_f")>=0){Element.addClassName(a,"sel")}e.appendChild(a);$("innerThumbs").appendChild(e)}}if(ItemManager.zoomObj){ItemManager.zoomObj.thumbObserve(b)}if($("innerThumbs")){$("innerThumbs").childElements().each(function(f){Event.observe(f,"click",function(){XYooxJF.Analisys.trackEvent("Item","SwitchImage")})})}}};var ItemManager={itemObj:null,imageObj:null,zoomObj:null,getSelected:function(){var a=null;if(ItemManager.itemObj&&ItemManager.imageObj){a={selectedCC:ItemManager.itemObj.selectedColor?ItemManager.itemObj.selectedColor.color:null,selectedSide:ItemManager.imageObj.sides[ItemManager.imageObj.sideIndex].name}}return a},process:function(){if(typeof(jsoninit_item)==="undefined"||typeof(jsoninit_zoom)==="undefined"||typeof(jsoninit_itemsnavigation)==="undefined"){return}Object.extend(Links,{DYNAMIC_DOMAIN:jsoninit_item.DYNAMIC_DOMAIN||Links.DYNAMIC_DOMAIN});ItemManager.imageObj=new ItemImage(jsoninit_item.CURRENTITEM.code,jsoninit_item.CURRENTITEM.sides,jsoninit_item.ALTERNATE,jsoninit_item.AVAILABLEZOOM);ItemManager.itemObj=new Item(jsoninit_item.CURRENTITEM,jsoninit_item.TEXTS,jsoninit_item.COOKIE_DOMAIN,jsoninit_item.TSKAY,jsoninit_itemsnavigation);jsoninit_zoom.alternateImgs=ItemManager.imageObj.alternate;ItemManager.zoomObj=new Zoom(jsoninit_zoom);if(typeof(jsoninit_rotate)!=="undefined"){ItemManager.rotate360Obj=new Rotate360(jsoninit_rotate);Event.observe("thumbElement360Link","click",function(){XYooxJF.Analisys.trackEvent("Item","Open360")})}}};Event.observe(window,"load",ItemManager.process);
